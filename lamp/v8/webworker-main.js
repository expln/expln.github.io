!function(){"use strict";var r,n={3506:function(r,n,e){var t=e(1386),o=e(2900),i=e(4763),a=e(2971),u=e(1748),f=e(6517),s=e(303),c=e(1367),v=e(6181),d=o.raiseError;function l(r,n,e){return i.floor_int(Math.sign(t._2(r,n,e)))}function p(r,n){return l((function(r,n){return r.localeCompare(n)}),r,n)}var h=v.create("Expln_utils_common.ExplnUtilsException");n.exn=d,n.clearArray=r=>r.length=0,n.arrFlatMap=function(r,n){return a.concatMany(a.map(r,n))},n.arrStrDistinct=function(r){return c.toArray(c.fromArray(r))},n.arrIntDistinct=function(r){return s.toArray(s.fromArray(r))},n.arrForEach=function(r,n){for(var e,o=r.length,i=0;i<o&&f.isNone(e);)e=t._1(n,u.get(r,i)),i=i+1|0;return e},n.arrJoin=function(r,n){var e=r.length;if(e<2)return r;for(var t=new Array((e<<1)-1|0),o=e-1|0,i=0;i<=o;++i)u.set(t,i<<1,u.get(r,i)),i!==o&&u.set(t,1+(i<<1)|0,n);return t},n.copySubArray=function(r,n,e,t,o){for(var i=n,a=t,f=r.length,s=e.length,c=Math.min(f-1|0,(n+o|0)-1|0);i<=c&&a<s;)u.set(e,a,u.get(r,i)),a=a+1|0,i=i+1|0},n.toIntCmp=l,n.intCmp=function(r,n){return r<n?-1:r===n?0:1},n.floatCmp=function(r,n){return r<n?-1:r===n?0:1},n.strCmp=p,n.strCmpI=function(r,n){return p(r.toLocaleUpperCase(),n.toLocaleUpperCase())},n.cmpRev=function(r,n,e){return 0|-t._2(r,n,e)},n.stringify=function(r){var n=JSON.stringify(r);return void 0!==n?n:o.raiseError("Could not stringify '"+String(r)+"'")},n.ExplnUtilsException=h,n.comparatorBy=function(r,n,e){var o=t._1(r,n),i=t._1(r,e);return o<i?-1:o===i?0:1},n.comparatorAndThen=function(r,n,e,o){var i=t._2(r,e,o);return 0!==i?i:t._2(n,e,o)},n.comparatorInverse=function(r,n,e){return 0|-t._2(r,n,e)},n.hashStr=r=>{let n=0;for(let e=0;e<r.length;e++)n=(n<<5)-n+r.charCodeAt(e),n|=0;return n},n.hashArrInt=r=>{let n=0;for(let e=0;e<r.length;e++)n=(n<<5)-n+r[e],n|=0;return n},n.hashArrIntFromTo=(r,n,e)=>{let t=0;for(let o=n;o<=e;o++)t=(t<<5)-t+r[o],t|=0;return t},n.hash2=(r,n)=>(r<<5)-r+n|0},6640:function(r,n,e){var t=e(1386),o=e(7076),i=e(2971),a=e(1748),u=e(6517),f=e(7175),s=e(6601),c=e(3506);function v(r,n){var e=o.fromArray(o.entries(r));return i.forEach(o.entries(n),(function(r){e[r[0]]=r[1]})),e}function d(r,n){return r.map((function(r){return n.map((function(n){return o.fromArray([t._1(n,r)])})).reduce(v,{})}))}function l(r,n){return i.reduceWithIndex(n,[[{},f.some(r)]],(function(r,e,o){return c.arrFlatMap(r,(function(r){var a=r[1],u=r[0];if(void 0===a)return[[u,a]];var s=f.valFromOption(a),l=v(i.getExn(d([s],e.selectors),0),u),p=e.childRef;if(void 0===p)return o<(n.length-1|0)?c.exn("Intermediate selector stage must have children ref."):[[l,void 0]];var h=t._1(p,s);return void 0!==h&&0!==h.length?i.map(h,(function(r){return[l,f.some(r)]})):[[l,void 0]]}))}))}n.log=function(r){console.log(r)},n.log2=function(r,n){console.log(r,n)},n.applySingleSelect=function(r,n){return o.fromArray([t._1(n,r)])},n.mergeRows=v,n.select=d,n.objToTableWithChildren=l,n.objToTable=function(r,n){return l(r,n).map((function(r){return r[0]}))},n.traverseTree=function(r,n,e,o,i,f,v){var d,l=u.isSome(o),p=u.isSome(i),h=u.isSome(f),m=s.make(void 0);for(s.push(m,{node:n,nodesToPostProcess:h?[n]:void 0});!s.isEmpty(m)&&u.isNone(d);){var g=s.pop(m);if(void 0!==g&&(l&&(d=u.flatMap(o,function(n){return function(e){return t._2(e,r,n.node)}}(g))),p&&u.isNone(d)&&(d=u.flatMap(i,function(n){return function(e){return t._2(e,r,n.node)}}(g))),u.isNone(d))){var _=t._2(e,r,g.node),E=0;if(void 0!==_&&0!==_.length)for(var y=_.length-1|0,x=y;x>=0;--x){var b;if(h)if(x===y){var k=g.nodesToPostProcess;if(void 0===k)throw{RE_EXN_ID:c.ExplnUtilsException,_1:{msg:"this case is not possible, because each node has itself in its nodesToPostProcess (2)"},Error:new Error};k.push(a.get(_,x)),b=k}else b=[a.get(_,x)];else b=void 0;s.push(m,{node:a.get(_,x),nodesToPostProcess:b})}else E=1;if(1===E&&h){var A=g.nodesToPostProcess;if(void 0===A)throw{RE_EXN_ID:c.ExplnUtilsException,_1:{msg:"this case is not possible, because each node has itself in its nodesToPostProcess (1)"},Error:new Error};for(var w={contents:A.length-1|0};w.contents>=0&&u.isNone(d);)d=u.flatMap(f,function(n,e){return function(o){return t._2(o,r,a.get(e,n.contents))}}(w,A)),w.contents=w.contents-1|0}}}return[r,d]}},8465:function(r,n,e){var t=e(1386),o=e(194),i=e(4518);n.promise=function(r){return new Promise((function(n,e){try{return t._1(r,(function(r){n(r)}))}catch(r){return e(i.internalToOCamlException(r))}}))},n.promiseFlatMap=function(r,n){return o.then_(n,r)},n.promiseMap=function(r,n){return o.then_((function(r){return Promise.resolve(t._1(n,r))}),r)}},2971:function(r,n,e){var t=e(6253),o=e(1386),i=e(4763),a=e(7175);function u(r,n,e){var t=r[n];r[n]=r[e],r[e]=t}function f(r){for(var n=r.length,e=0;e<n;++e)u(r,e,i.random_int(e,n))}function s(r,n){if(r<=0)return[];for(var e=new Array(r),t=0;t<r;++t)e[t]=n(t);return e}function c(r,n){var e=s(r,n);return f(e),e}function v(r,n,e){for(var t=r.length,o=n.length,i=t<o?t:o,a=new Array(i),u=0;u<i;++u)a[u]=e(r[u],n[u]);return a}function d(r){for(var n=r.length,e=0,t=0;t<n;++t)e=e+r[t].length|0;var o=new Array(e);e=0;for(var i=0;i<n;++i)for(var a=r[i],u=0,f=a.length;u<f;++u)o[e]=a[u],e=e+1|0;return o}function l(r,n){for(var e=0,t=r.length;e<t;++e)n(r[e])}function p(r,n){for(var e=r.length,t=new Array(e),o=0;o<e;++o)t[o]=n(r[o]);return t}function h(r,n){for(var e,t=r.length,o=0;void 0===e&&o<t;){var i=r[o];n(i)&&(e=a.some(i)),o=o+1|0}return e}function m(r,n){for(var e,t=r.length,o=0;void 0===e&&o<t;)n(r[o])&&(e=o),o=o+1|0;return e}function g(r,n){for(var e=r.length,t=new Array(e),o=0,i=0;i<e;++i){var a=r[i];n(a)&&(t[o]=a,o=o+1|0)}return t.length=o,t}function _(r,n){for(var e=r.length,t=new Array(e),o=0,i=0;i<e;++i){var a=r[i];n(a,i)&&(t[o]=a,o=o+1|0)}return t.length=o,t}function E(r,n){for(var e=r.length,t=new Array(e),o=0,i=0;i<e;++i){var u=n(r[i]);void 0!==u&&(t[o]=a.valFromOption(u),o=o+1|0)}return t.length=o,t}function y(r,n){for(var e=0,t=r.length;e<t;++e)n(e,r[e])}function x(r,n){for(var e=r.length,t=new Array(e),o=0;o<e;++o)t[o]=n(o,r[o]);return t}function b(r,n,e){for(var t=n,o=0,i=r.length;o<i;++o)t=e(t,r[o]);return t}function k(r,n,e){for(var t=n,o=r.length-1|0;o>=0;--o)t=e(t,r[o]);return t}function A(r,n,e,o){for(var i=e,a=t.int_min(r.length,n.length)-1|0;a>=0;--a)i=o(i,r[a],n[a]);return i}function w(r,n,e){for(var t=n,o=0,i=r.length;o<i;++o)t=e(t,r[o],o);return t}function S(r,n){for(var e=r.length,t=0;;){var o=t;if(o===e)return!0;if(!n(r[o]))return!1;t=o+1|0}}function T(r,n){for(var e=r.length,t=0;;){var o=t;if(o===e)return!1;if(n(r[o]))return!0;t=o+1|0}}function U(r,n,e,t,o){for(;;){var i=e;if(i===o)return!0;if(!t(r[i],n[i]))return!1;e=i+1|0}}function I(r,n,e){return U(r,n,0,e,t.int_min(r.length,n.length))}function N(r,n,e){for(var o=0,i=t.int_min(r.length,n.length);;){var a=o;if(a===i)return!1;if(e(r[a],n[a]))return!0;o=a+1|0}}function M(r,n,e){var t=r.length;return t===n.length&&U(r,n,0,e,t)}function D(r,n,e){var t=r.length,o=n.length;if(t>o)return 1;if(t<o)return-1;for(var i=0;;){var a=i;if(a===t)return 0;var u=e(r[a],n[a]);if(0!==u)return u;i=a+1|0}}function G(r,n){for(var e=r.length,t=0,o=0,i=new Array(e),a=new Array(e),u=0;u<e;++u){var f=r[u];n(f)?(i[t]=f,t=t+1|0):(a[o]=f,o=o+1|0)}return i.length=t,a.length=o,[i,a]}function P(r,n,e){var t=r.length;if(0===t)return"";for(var o=t-1|0,i=0,a="";;){var u=a,f=i;if(f===o)return u+e(r[f]);a=u+(e(r[f])+n),i=f+1|0}}function C(r,n){for(var e=new Array(r),t=0;t<r;++t)e[t]=n(t);return e}n.get=function(r,n){if(n>=0&&n<r.length)return a.some(r[n])},n.getExn=function(r,n){if(!(n>=0&&n<r.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",35,2],Error:new Error};return r[n]},n.set=function(r,n,e){return n>=0&&n<r.length&&(r[n]=e,!0)},n.setExn=function(r,n,e){if(!(n>=0&&n<r.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",45,2],Error:new Error};r[n]=e},n.shuffleInPlace=f,n.shuffle=function(r){var n=r.slice(0);return f(n),n},n.reverseInPlace=function(r){for(var n=r.length,e=0,t=n/2|0;e<t;++e)u(r,0+e|0,((0+n|0)-e|0)-1|0)},n.reverse=function(r){for(var n=r.length,e=new Array(n),t=0;t<n;++t)e[t]=r[(n-1|0)-t|0];return e},n.make=function(r,n){if(r<=0)return[];for(var e=new Array(r),t=0;t<r;++t)e[t]=n;return e},n.range=function(r,n){var e=n-r|0;if(e<0)return[];for(var t=new Array(e+1|0),o=0;o<=e;++o)t[o]=r+o|0;return t},n.rangeBy=function(r,n,e){var t=n-r|0;if(t<0||e<=0)return[];for(var o=1+(t/e|0)|0,i=new Array(o),a=r,u=0;u<o;++u)i[u]=a,a=a+e|0;return i},n.makeByU=s,n.makeBy=function(r,n){return s(r,o.__1(n))},n.makeByAndShuffleU=c,n.makeByAndShuffle=function(r,n){return c(r,o.__1(n))},n.zip=function(r,n){for(var e=r.length,t=n.length,o=e<t?e:t,i=new Array(o),a=0;a<o;++a)i[a]=[r[a],n[a]];return i},n.zipByU=v,n.zipBy=function(r,n,e){return v(r,n,o.__2(e))},n.unzip=function(r){for(var n=r.length,e=new Array(n),t=new Array(n),o=0;o<n;++o){var i=r[o];e[o]=i[0],t[o]=i[1]}return[e,t]},n.concat=function(r,n){for(var e=r.length,t=n.length,o=new Array(e+t|0),i=0;i<e;++i)o[i]=r[i];for(var a=0;a<t;++a)o[e+a|0]=n[a];return o},n.concatMany=d,n.slice=function(r,n,e){if(e<=0)return[];var o=r.length,i=n<0?t.int_max(o+n|0,0):n,a=o-i|0,u=a<e?a:e;if(u<=0)return[];for(var f=new Array(u),s=0;s<u;++s)f[s]=r[i+s|0];return f},n.sliceToEnd=function(r,n){for(var e=r.length,o=n<0?t.int_max(e+n|0,0):n,i=e>o?e-o|0:0,a=new Array(i),u=0;u<i;++u)a[u]=r[o+u|0];return a},n.fill=function(r,n,e,o){if(!(e<=0)){var i=r.length,a=n<0?t.int_max(i+n|0,0):n,u=i-a|0,f=u<e?u:e;if(!(f<=0))for(var s=a,c=a+f|0;s<c;++s)r[s]=o}},n.blit=function(r,n,e,o,i){var a=r.length,u=e.length,f=n<0?t.int_max(a+n|0,0):n,s=o<0?t.int_max(u+o|0,0):o,c=t.int_min(i,t.int_min(a-f|0,u-s|0));if(s<=f)for(var v=0;v<c;++v)e[v+s|0]=r[v+f|0];else for(var d=c-1|0;d>=0;--d)e[d+s|0]=r[d+f|0]},n.blitUnsafe=function(r,n,e,t,o){if(t<=n)for(var i=0;i<o;++i)e[i+t|0]=r[i+n|0];else for(var a=o-1|0;a>=0;--a)e[a+t|0]=r[a+n|0]},n.forEachU=l,n.forEach=function(r,n){l(r,o.__1(n))},n.mapU=p,n.map=function(r,n){return p(r,o.__1(n))},n.flatMapU=function(r,n){return d(p(r,n))},n.flatMap=function(r,n){return d(p(r,o.__1(n)))},n.getByU=h,n.getBy=function(r,n){return h(r,o.__1(n))},n.getIndexByU=m,n.getIndexBy=function(r,n){return m(r,o.__1(n))},n.keepU=g,n.keep=function(r,n){return g(r,o.__1(n))},n.keepWithIndexU=_,n.keepWithIndex=function(r,n){return _(r,o.__2(n))},n.keepMapU=E,n.keepMap=function(r,n){return E(r,o.__1(n))},n.forEachWithIndexU=y,n.forEachWithIndex=function(r,n){y(r,o.__2(n))},n.mapWithIndexU=x,n.mapWithIndex=function(r,n){return x(r,o.__2(n))},n.partitionU=G,n.partition=function(r,n){return G(r,o.__1(n))},n.reduceU=b,n.reduce=function(r,n,e){return b(r,n,o.__2(e))},n.reduceReverseU=k,n.reduceReverse=function(r,n,e){return k(r,n,o.__2(e))},n.reduceReverse2U=A,n.reduceReverse2=function(r,n,e,t){return A(r,n,e,o.__3(t))},n.reduceWithIndexU=w,n.reduceWithIndex=function(r,n,e){return w(r,n,o.__3(e))},n.joinWithU=P,n.joinWith=function(r,n,e){return P(r,n,o.__1(e))},n.someU=T,n.some=function(r,n){return T(r,o.__1(n))},n.everyU=S,n.every=function(r,n){return S(r,o.__1(n))},n.every2U=I,n.every2=function(r,n,e){return I(r,n,o.__2(e))},n.some2U=N,n.some2=function(r,n,e){return N(r,n,o.__2(e))},n.cmpU=D,n.cmp=function(r,n,e){return D(r,n,o.__2(e))},n.eqU=M,n.eq=function(r,n,e){return M(r,n,o.__2(e))},n.initU=C,n.init=function(r,n){return C(r,o.__1(n))}},2815:function(r,n,e){var t=e(7175),o=e(5252),i=e(354);function a(r,n,e,t){for(;;){var o=t;if(void 0===o)return;var i=r(o.key)&(n.length-1|0),a=e[i];void 0!==a?a.next=o:n[i]=o,e[i]=o,t=o.next}}function u(r,n,e,t,o){var i=r.buckets,u=i.length,f=o(n)&(u-1|0),s=i[f];if(void 0!==s?function(r,n,e,t){for(;;){var o=t;if(r(o.key,n))return o.value=e,!1;var i=o.next;if(void 0===i)return!0;t=i}}(t,n,e,s)&&(i[f]={key:n,value:e,next:s},r.size=r.size+1|0):(i[f]={key:n,value:e,next:void 0},r.size=r.size+1|0),r.size>u<<1){var c=r.buckets,v=c.length,d=v<<1;if(d<v)return;var l=new Array(d),p=new Array(d);r.buckets=l;for(var h=0;h<v;++h)a(o,l,p,c[h]);for(var m=0;m<d;++m){var g=p[m];void 0!==g&&(g.next=void 0)}}}var f=i.clear,s=i.isEmpty,c=o.copy,v=o.forEachU,d=o.forEach,l=o.reduceU,p=o.reduce,h=o.keepMapInPlaceU,m=o.keepMapInPlace,g=o.toArray,_=o.keysToArray,E=o.valuesToArray,y=o.getBucketHistogram,x=o.logStats;n.Int=void 0,n.$$String=void 0,n.make=function(r,n){return i.make(n.hash,n.eq,r)},n.clear=f,n.isEmpty=s,n.set=function(r,n,e){u(r,n,e,r.eq,r.hash)},n.copy=c,n.get=function(r,n){var e=r.buckets,o=e[r.hash(n)&(e.length-1|0)];if(void 0!==o){var i=r.eq;if(i(n,o.key))return t.some(o.value);var a=o.next;if(void 0!==a){if(i(n,a.key))return t.some(a.value);var u=a.next;if(void 0!==u){if(i(n,u.key))return t.some(u.value);for(var f=u.next;;){var s=f;if(void 0===s)return;if(i(n,s.key))return t.some(s.value);f=s.next}}}}},n.has=function(r,n){var e=r.buckets,t=e[r.hash(n)&(e.length-1|0)];if(void 0===t)return!1;for(var o=t,i=r.eq;;){var a=o;if(i(a.key,n))return!0;var u=a.next;if(void 0===u)return!1;o=u}},n.remove=function(r,n){var e=r.buckets,t=r.hash(n)&(e.length-1|0),o=e[t];if(void 0!==o){var i=r.eq;if(i(o.key,n))return e[t]=o.next,void(r.size=r.size-1|0);for(var a=o,u=o.next;;){var f=u,s=a;if(void 0===f)return;var c=f.next;if(i(f.key,n))return s.next=c,void(r.size=r.size-1|0);u=c,a=f}}},n.forEachU=v,n.forEach=d,n.reduceU=l,n.reduce=p,n.keepMapInPlaceU=h,n.keepMapInPlace=m,n.size=function(r){return r.size},n.toArray=g,n.keysToArray=_,n.valuesToArray=E,n.fromArray=function(r,n){for(var e=n.hash,t=n.eq,o=r.length,a=i.make(e,t,o),f=0;f<o;++f){var s=r[f];u(a,s[0],s[1],t,e)}return a},n.mergeMany=function(r,n){for(var e=r.hash,t=r.eq,o=n.length,i=0;i<o;++i){var a=n[i];u(r,a[0],a[1],t,e)}},n.getBucketHistogram=y,n.logStats=x},7356:function(r,n,e){var t=e(7175),o=e(1863),i=e(5252),a=e(354);function u(r,n,e){for(;;){var t=e;if(void 0===t)return;var i=o.hash_final_mix(o.hash_mix_int(0,t.key))&(r.length-1|0),a=n[i];void 0!==a?a.next=t:r[i]=t,n[i]=t,e=t.next}}function f(r,n,e){var t=r.buckets,i=t.length,a=o.hash_final_mix(o.hash_mix_int(0,n))&(i-1|0),f=t[a];if(void 0!==f?function(r,n,e){for(;;){var t=e;if(t.key===r)return t.value=n,!1;var o=t.next;if(void 0===o)return!0;e=o}}(n,e,f)&&(t[a]={key:n,value:e,next:f},r.size=r.size+1|0):(t[a]={key:n,value:e,next:void 0},r.size=r.size+1|0),r.size>i<<1){var s=r.buckets,c=s.length,v=c<<1;if(v<c)return;var d=new Array(v),l=new Array(v);r.buckets=d;for(var p=0;p<c;++p)u(d,l,s[p]);for(var h=0;h<v;++h){var m=l[h];void 0!==m&&(m.next=void 0)}}}var s=a.clear,c=a.isEmpty,v=i.copy,d=i.forEachU,l=i.forEach,p=i.reduceU,h=i.reduce,m=i.keepMapInPlaceU,g=i.keepMapInPlace,_=i.toArray,E=i.keysToArray,y=i.valuesToArray,x=i.getBucketHistogram,b=i.logStats;n.make=function(r){return a.make(void 0,void 0,r)},n.clear=s,n.isEmpty=c,n.set=f,n.copy=v,n.get=function(r,n){var e=r.buckets,i=e[o.hash_final_mix(o.hash_mix_int(0,n))&(e.length-1|0)];if(void 0!==i){if(n===i.key)return t.some(i.value);var a=i.next;if(void 0!==a){if(n===a.key)return t.some(a.value);var u=a.next;if(void 0!==u){if(n===u.key)return t.some(u.value);for(var f=u.next;;){var s=f;if(void 0===s)return;if(n===s.key)return t.some(s.value);f=s.next}}}}},n.has=function(r,n){var e=r.buckets,t=e[o.hash_final_mix(o.hash_mix_int(0,n))&(e.length-1|0)];if(void 0===t)return!1;for(var i=t;;){var a=i;if(a.key===n)return!0;var u=a.next;if(void 0===u)return!1;i=u}},n.remove=function(r,n){var e=r.buckets,t=o.hash_final_mix(o.hash_mix_int(0,n))&(e.length-1|0),i=e[t];if(void 0!==i){if(i.key===n)return e[t]=i.next,void(r.size=r.size-1|0);for(var a=i,u=i.next;;){var f=u,s=a;if(void 0===f)return;var c=f.next;if(f.key===n)return s.next=c,void(r.size=r.size-1|0);u=c,a=f}}},n.forEachU=d,n.forEach=l,n.reduceU=p,n.reduce=h,n.keepMapInPlaceU=m,n.keepMapInPlace=g,n.size=function(r){return r.size},n.toArray=_,n.keysToArray=E,n.valuesToArray=y,n.fromArray=function(r){for(var n=r.length,e=a.make(void 0,void 0,n),t=0;t<n;++t){var o=r[t];f(e,o[0],o[1])}return e},n.mergeMany=function(r,n){for(var e=n.length,t=0;t<e;++t){var o=n[t];f(r,o[0],o[1])}},n.getBucketHistogram=x,n.logStats=b},2275:function(r,n,e){var t=e(7175),o=e(1863),i=e(5252),a=e(354);function u(r,n,e){for(;;){var t=e;if(void 0===t)return;var i=o.hash_final_mix(o.hash_mix_string(0,t.key))&(r.length-1|0),a=n[i];void 0!==a?a.next=t:r[i]=t,n[i]=t,e=t.next}}function f(r,n,e){var t=r.buckets,i=t.length,a=o.hash_final_mix(o.hash_mix_string(0,n))&(i-1|0),f=t[a];if(void 0!==f?function(r,n,e){for(;;){var t=e;if(t.key===r)return t.value=n,!1;var o=t.next;if(void 0===o)return!0;e=o}}(n,e,f)&&(t[a]={key:n,value:e,next:f},r.size=r.size+1|0):(t[a]={key:n,value:e,next:void 0},r.size=r.size+1|0),r.size>i<<1){var s=r.buckets,c=s.length,v=c<<1;if(v<c)return;var d=new Array(v),l=new Array(v);r.buckets=d;for(var p=0;p<c;++p)u(d,l,s[p]);for(var h=0;h<v;++h){var m=l[h];void 0!==m&&(m.next=void 0)}}}var s=a.clear,c=a.isEmpty,v=i.copy,d=i.forEachU,l=i.forEach,p=i.reduceU,h=i.reduce,m=i.keepMapInPlaceU,g=i.keepMapInPlace,_=i.toArray,E=i.keysToArray,y=i.valuesToArray,x=i.getBucketHistogram,b=i.logStats;n.make=function(r){return a.make(void 0,void 0,r)},n.clear=s,n.isEmpty=c,n.set=f,n.copy=v,n.get=function(r,n){var e=r.buckets,i=e[o.hash_final_mix(o.hash_mix_string(0,n))&(e.length-1|0)];if(void 0!==i){if(n===i.key)return t.some(i.value);var a=i.next;if(void 0!==a){if(n===a.key)return t.some(a.value);var u=a.next;if(void 0!==u){if(n===u.key)return t.some(u.value);for(var f=u.next;;){var s=f;if(void 0===s)return;if(n===s.key)return t.some(s.value);f=s.next}}}}},n.has=function(r,n){var e=r.buckets,t=e[o.hash_final_mix(o.hash_mix_string(0,n))&(e.length-1|0)];if(void 0===t)return!1;for(var i=t;;){var a=i;if(a.key===n)return!0;var u=a.next;if(void 0===u)return!1;i=u}},n.remove=function(r,n){var e=r.buckets,t=o.hash_final_mix(o.hash_mix_string(0,n))&(e.length-1|0),i=e[t];if(void 0!==i){if(i.key===n)return e[t]=i.next,void(r.size=r.size-1|0);for(var a=i,u=i.next;;){var f=u,s=a;if(void 0===f)return;var c=f.next;if(f.key===n)return s.next=c,void(r.size=r.size-1|0);u=c,a=f}}},n.forEachU=d,n.forEach=l,n.reduceU=p,n.reduce=h,n.keepMapInPlaceU=m,n.keepMapInPlace=g,n.size=function(r){return r.size},n.toArray=_,n.keysToArray=E,n.valuesToArray=y,n.fromArray=function(r){for(var n=r.length,e=a.make(void 0,void 0,n),t=0;t<n;++t){var o=r[t];f(e,o[0],o[1])}return e},n.mergeMany=function(r,n){for(var e=n.length,t=0;t<e;++t){var o=n[t];f(r,o[0],o[1])}},n.getBucketHistogram=x,n.logStats=b},9775:function(r,n,e){var t=e(9167),o=e(354);function i(r,n,e,t){for(;;){var o=t;if(void 0===o)return;var i=r(o.key)&(n.length-1|0),a=e[i];void 0!==a?a.next=o:n[i]=o,e[i]=o,t=o.next}}function a(r,n,e,t){var o=r.buckets,a=o.length,u=e(n)&(a-1|0),f=o[u];if(void 0!==f?function(r,n,e,t){for(;;){var o=e;if(t(o.key,n))return;var i=o.next;if(void 0===i)return r.size=r.size+1|0,void(o.next={key:n,next:void 0});e=i}}(r,n,f,t):(r.size=r.size+1|0,o[u]={key:n,next:void 0}),r.size>a<<1){var s=r.buckets,c=s.length,v=c<<1;if(v<c)return;var d=new Array(v),l=new Array(v);r.buckets=d;for(var p=0;p<c;++p)i(e,d,l,s[p]);for(var h=0;h<v;++h){var m=l[h];void 0!==m&&(m.next=void 0)}}}var u=o.clear,f=o.isEmpty,s=t.copy,c=t.forEachU,v=t.forEach,d=t.reduceU,l=t.reduce,p=t.logStats,h=t.toArray,m=t.getBucketHistogram;n.Int=void 0,n.$$String=void 0,n.make=function(r,n){return o.make(n.hash,n.eq,r)},n.clear=u,n.isEmpty=f,n.add=function(r,n){a(r,n,r.hash,r.eq)},n.copy=s,n.has=function(r,n){var e=r.eq,t=r.buckets,o=t[r.hash(n)&(t.length-1|0)];if(void 0===o)return!1;for(var i=o;;){var a=i;if(e(a.key,n))return!0;var u=a.next;if(void 0===u)return!1;i=u}},n.remove=function(r,n){var e=r.eq,t=r.buckets,o=r.hash(n)&(t.length-1|0),i=t[o];if(void 0!==i){var a=i.next;if(e(i.key,n))return r.size=r.size-1|0,void(t[o]=a);if(void 0!==a)for(var u=i,f=a;;){var s=f,c=u,v=s.next;if(e(s.key,n))return c.next=v,void(r.size=r.size-1|0);if(void 0===v)return;f=v,u=s}}},n.forEachU=c,n.forEach=v,n.reduceU=d,n.reduce=l,n.size=function(r){return r.size},n.logStats=p,n.toArray=h,n.fromArray=function(r,n){for(var e=n.eq,t=n.hash,i=r.length,u=o.make(t,e,i),f=0;f<i;++f)a(u,r[f],t,e);return u},n.mergeMany=function(r,n){for(var e=r.eq,t=r.hash,o=n.length,i=0;i<o;++i)a(r,n[i],t,e)},n.getBucketHistogram=m},7659:function(r,n,e){var t=e(1863),o=e(9167),i=e(354);function a(r,n,e){for(;;){var o=e;if(void 0===o)return;var i=t.hash_final_mix(t.hash_mix_int(0,o.key))&(r.length-1|0),a=n[i];void 0!==a?a.next=o:r[i]=o,n[i]=o,e=o.next}}function u(r,n){var e=r.buckets,o=e.length,i=t.hash_final_mix(t.hash_mix_int(0,n))&(o-1|0),u=e[i];if(void 0!==u?function(r,n,e){for(;;){var t=e;if(t.key===n)return;var o=t.next;if(void 0===o)return r.size=r.size+1|0,void(t.next={key:n,next:void 0});e=o}}(r,n,u):(e[i]={key:n,next:void 0},r.size=r.size+1|0),r.size>o<<1){var f=r.buckets,s=f.length,c=s<<1;if(c<s)return;var v=new Array(c),d=new Array(c);r.buckets=v;for(var l=0;l<s;++l)a(v,d,f[l]);for(var p=0;p<c;++p){var h=d[p];void 0!==h&&(h.next=void 0)}}}var f=i.clear,s=i.isEmpty,c=o.copy,v=o.forEachU,d=o.forEach,l=o.reduceU,p=o.reduce,h=o.logStats,m=o.toArray,g=o.getBucketHistogram;n.make=function(r){return i.make(void 0,void 0,r)},n.clear=f,n.isEmpty=s,n.add=u,n.copy=c,n.has=function(r,n){var e=r.buckets,o=e[t.hash_final_mix(t.hash_mix_int(0,n))&(e.length-1|0)];if(void 0===o)return!1;for(var i=o;;){var a=i;if(a.key===n)return!0;var u=a.next;if(void 0===u)return!1;i=u}},n.remove=function(r,n){var e=r.buckets,o=t.hash_final_mix(t.hash_mix_int(0,n))&(e.length-1|0),i=e[o];if(void 0!==i){var a=i.next;if(i.key===n)return r.size=r.size-1|0,void(e[o]=a);if(void 0!==a)for(var u=i,f=a;;){var s=f,c=u,v=s.next;if(s.key===n)return c.next=v,void(r.size=r.size-1|0);if(void 0===v)return;f=v,u=s}}},n.forEachU=v,n.forEach=d,n.reduceU=l,n.reduce=p,n.size=function(r){return r.size},n.logStats=h,n.toArray=m,n.fromArray=function(r){for(var n=r.length,e=i.make(void 0,void 0,n),t=0;t<n;++t)u(e,r[t]);return e},n.mergeMany=function(r,n){for(var e=n.length,t=0;t<e;++t)u(r,n[t])},n.getBucketHistogram=g},8615:function(r,n,e){var t=e(1863),o=e(9167),i=e(354);function a(r,n,e){for(;;){var o=e;if(void 0===o)return;var i=t.hash_final_mix(t.hash_mix_string(0,o.key))&(r.length-1|0),a=n[i];void 0!==a?a.next=o:r[i]=o,n[i]=o,e=o.next}}function u(r,n){var e=r.buckets,o=e.length,i=t.hash_final_mix(t.hash_mix_string(0,n))&(o-1|0),u=e[i];if(void 0!==u?function(r,n,e){for(;;){var t=e;if(t.key===n)return;var o=t.next;if(void 0===o)return r.size=r.size+1|0,void(t.next={key:n,next:void 0});e=o}}(r,n,u):(e[i]={key:n,next:void 0},r.size=r.size+1|0),r.size>o<<1){var f=r.buckets,s=f.length,c=s<<1;if(c<s)return;var v=new Array(c),d=new Array(c);r.buckets=v;for(var l=0;l<s;++l)a(v,d,f[l]);for(var p=0;p<c;++p){var h=d[p];void 0!==h&&(h.next=void 0)}}}var f=i.clear,s=i.isEmpty,c=o.copy,v=o.forEachU,d=o.forEach,l=o.reduceU,p=o.reduce,h=o.logStats,m=o.toArray,g=o.getBucketHistogram;n.make=function(r){return i.make(void 0,void 0,r)},n.clear=f,n.isEmpty=s,n.add=u,n.copy=c,n.has=function(r,n){var e=r.buckets,o=e[t.hash_final_mix(t.hash_mix_string(0,n))&(e.length-1|0)];if(void 0===o)return!1;for(var i=o;;){var a=i;if(a.key===n)return!0;var u=a.next;if(void 0===u)return!1;i=u}},n.remove=function(r,n){var e=r.buckets,o=t.hash_final_mix(t.hash_mix_string(0,n))&(e.length-1|0),i=e[o];if(void 0!==i){var a=i.next;if(i.key===n)return r.size=r.size-1|0,void(e[o]=a);if(void 0!==a)for(var u=i,f=a;;){var s=f,c=u,v=s.next;if(s.key===n)return c.next=v,void(r.size=r.size-1|0);if(void 0===v)return;f=v,u=s}}},n.forEachU=v,n.forEach=d,n.reduceU=l,n.reduce=p,n.size=function(r){return r.size},n.logStats=h,n.toArray=m,n.fromArray=function(r){for(var n=r.length,e=i.make(void 0,void 0,n),t=0;t<n;++t)u(e,r[t]);return e},n.mergeMany=function(r,n){for(var e=n.length,t=0;t<e;++t)u(r,n[t])},n.getBucketHistogram=g},6638:function(r,n,e){var t=e(1386);n.MakeComparableU=function(r){return r},n.MakeComparable=function(r){var n=r.cmp;return{cmp:t.__2(n)}},n.comparableU=function(r){return{cmp:r}},n.comparable=function(r){return{cmp:t.__2(r)}},n.MakeHashableU=function(r){return r},n.MakeHashable=function(r){var n=r.hash,e=t.__1(n),o=r.eq;return{hash:e,eq:t.__2(o)}},n.hashableU=function(r,n){return{hash:r,eq:n}},n.hashable=function(r,n){return{hash:t.__1(r),eq:t.__2(n)}}},1094:function(r,n,e){var t=e(1386),o=e(7175),i=e(3163),a=e(6144);function u(r,n,e){if(void 0===r)return a.singleton(n,e);var t=r.k;if(n===t)return a.updateValue(r,e);var o=r.v;return n<t?a.bal(u(r.l,n,e),t,o,r.r):a.bal(r.l,t,o,u(r.r,n,e))}function f(r,n,e){if(void 0!==r){var t=r.k;if(n===t){var i=e(o.some(r.v));if(void 0!==i)return a.updateValue(r,o.valFromOption(i));var u=r.l,s=r.r;if(void 0===u)return s;if(void 0===s)return u;var c={contents:s.k},v={contents:s.v},d=a.removeMinAuxWithRef(s,c,v);return a.bal(u,c.contents,v.contents,d)}var l=r.v,p=r.l,h=r.r;if(n<t){var m=f(p,n,e);return p===m?r:a.bal(m,t,l,h)}var g=f(h,n,e);return h===g?r:a.bal(p,t,l,g)}var _=e(void 0);return void 0!==_?a.singleton(n,o.valFromOption(_)):r}function s(r,n){var e=r.k,t=r.l,o=r.r;if(n===e){if(void 0===t)return o;if(void 0===o)return t;var i={contents:o.k},u={contents:o.v},f=a.removeMinAuxWithRef(o,i,u);return a.bal(t,i.contents,u.contents,f)}if(n<e){if(void 0===t)return r;var c=s(t,n);return c===t?r:a.bal(c,e,r.v,o)}if(void 0===o)return r;var v=s(o,n);return a.bal(t,e,r.v,v)}var c=a.isEmpty,v=i.has,d=i.cmpU,l=i.cmp,p=i.eqU,h=i.eq,m=a.findFirstByU,g=a.findFirstBy,_=a.forEachU,E=a.forEach,y=a.reduceU,x=a.reduce,b=a.everyU,k=a.every,A=a.someU,w=a.some,S=a.size,T=a.toList,U=a.toArray,I=i.fromArray,N=a.keysToArray,M=a.valuesToArray,D=a.minKey,G=a.minKeyUndefined,P=a.maxKey,C=a.maxKeyUndefined,R=a.minimum,V=a.minUndefined,O=a.maximum,j=a.maxUndefined,z=i.get,W=i.getUndefined,F=i.getWithDefault,B=i.getExn,X=a.checkInvariantInternal,L=i.mergeU,q=i.merge,$=a.keepSharedU,H=a.keepShared,K=a.partitionSharedU,J=a.partitionShared,Q=i.split,Y=a.mapU,Z=a.map,rr=a.mapWithKeyU,nr=a.mapWithKey;n.empty=void 0,n.isEmpty=c,n.has=v,n.cmpU=d,n.cmp=l,n.eqU=p,n.eq=h,n.findFirstByU=m,n.findFirstBy=g,n.forEachU=_,n.forEach=E,n.reduceU=y,n.reduce=x,n.everyU=b,n.every=k,n.someU=A,n.some=w,n.size=S,n.toList=T,n.toArray=U,n.fromArray=I,n.keysToArray=N,n.valuesToArray=M,n.minKey=D,n.minKeyUndefined=G,n.maxKey=P,n.maxKeyUndefined=C,n.minimum=R,n.minUndefined=V,n.maximum=O,n.maxUndefined=j,n.get=z,n.getUndefined=W,n.getWithDefault=F,n.getExn=B,n.checkInvariantInternal=X,n.remove=function(r,n){if(void 0!==r)return s(r,n)},n.removeMany=function(r,n){var e=n.length;if(void 0!==r)for(var t=r,o=0;;){var i=o;if(i>=e)return t;var a=s(t,n[i]);if(void 0===a)return a;o=i+1|0,t=a}},n.set=u,n.updateU=f,n.update=function(r,n,e){return f(r,n,t.__1(e))},n.mergeU=L,n.merge=q,n.mergeMany=function(r,n){for(var e=n.length,t=r,o=0;o<e;++o){var i=n[o];t=u(t,i[0],i[1])}return t},n.keepU=$,n.keep=H,n.partitionU=K,n.partition=J,n.split=Q,n.mapU=Y,n.map=Z,n.mapWithKeyU=rr,n.mapWithKey=nr},5082:function(r,n,e){var t=e(1386),o=e(7175),i=e(6144),a=e(2459);function u(r,n,e){if(void 0===r)return i.singleton(n,e);var t=r.k;if(n===t)return i.updateValue(r,e);var o=r.v;return n<t?i.bal(u(r.l,n,e),t,o,r.r):i.bal(r.l,t,o,u(r.r,n,e))}function f(r,n,e){if(void 0!==r){var t=r.k;if(n===t){var a=e(o.some(r.v));if(void 0!==a)return i.updateValue(r,o.valFromOption(a));var u=r.l,s=r.r;if(void 0===u)return s;if(void 0===s)return u;var c={contents:s.k},v={contents:s.v},d=i.removeMinAuxWithRef(s,c,v);return i.bal(u,c.contents,v.contents,d)}var l=r.v,p=r.l,h=r.r;if(n<t){var m=f(p,n,e);return p===m?r:i.bal(m,t,l,h)}var g=f(h,n,e);return h===g?r:i.bal(p,t,l,g)}var _=e(void 0);return void 0!==_?i.singleton(n,o.valFromOption(_)):r}function s(r,n){var e=r.k,t=r.l,o=r.r;if(n===e){if(void 0===t)return o;if(void 0===o)return t;var a={contents:o.k},u={contents:o.v},f=i.removeMinAuxWithRef(o,a,u);return i.bal(t,a.contents,u.contents,f)}if(n<e){if(void 0===t)return r;var c=s(t,n);return c===t?r:i.bal(c,e,r.v,o)}if(void 0===o)return r;var v=s(o,n);return i.bal(t,e,r.v,v)}var c=i.isEmpty,v=a.has,d=a.cmpU,l=a.cmp,p=a.eqU,h=a.eq,m=i.findFirstByU,g=i.findFirstBy,_=i.forEachU,E=i.forEach,y=i.reduceU,x=i.reduce,b=i.everyU,k=i.every,A=i.someU,w=i.some,S=i.size,T=i.toList,U=i.toArray,I=a.fromArray,N=i.keysToArray,M=i.valuesToArray,D=i.minKey,G=i.minKeyUndefined,P=i.maxKey,C=i.maxKeyUndefined,R=i.minimum,V=i.minUndefined,O=i.maximum,j=i.maxUndefined,z=a.get,W=a.getUndefined,F=a.getWithDefault,B=a.getExn,X=i.checkInvariantInternal,L=a.mergeU,q=a.merge,$=i.keepSharedU,H=i.keepShared,K=i.partitionSharedU,J=i.partitionShared,Q=a.split,Y=i.mapU,Z=i.map,rr=i.mapWithKeyU,nr=i.mapWithKey;n.empty=void 0,n.isEmpty=c,n.has=v,n.cmpU=d,n.cmp=l,n.eqU=p,n.eq=h,n.findFirstByU=m,n.findFirstBy=g,n.forEachU=_,n.forEach=E,n.reduceU=y,n.reduce=x,n.everyU=b,n.every=k,n.someU=A,n.some=w,n.size=S,n.toList=T,n.toArray=U,n.fromArray=I,n.keysToArray=N,n.valuesToArray=M,n.minKey=D,n.minKeyUndefined=G,n.maxKey=P,n.maxKeyUndefined=C,n.minimum=R,n.minUndefined=V,n.maximum=O,n.maxUndefined=j,n.get=z,n.getUndefined=W,n.getWithDefault=F,n.getExn=B,n.checkInvariantInternal=X,n.remove=function(r,n){if(void 0!==r)return s(r,n)},n.removeMany=function(r,n){var e=n.length;if(void 0!==r)for(var t=r,o=0;;){var i=o;if(i>=e)return t;var a=s(t,n[i]);if(void 0===a)return a;o=i+1|0,t=a}},n.set=u,n.updateU=f,n.update=function(r,n,e){return f(r,n,t.__1(e))},n.mergeU=L,n.merge=q,n.mergeMany=function(r,n){for(var e=n.length,t=r,o=0;o<e;++o){var i=n[o];t=u(t,i[0],i[1])}return t},n.keepU=$,n.keep=H,n.partitionU=K,n.partition=J,n.split=Q,n.mapU=Y,n.map=Z,n.mapWithKeyU=rr,n.mapWithKey=nr},5981:function(r,n,e){var t=e(1386),o=e(7175),i=e(3163),a=e(6144);function u(r,n){return{data:a.mapU(r.data,n)}}function f(r,n){return{data:a.mapWithKeyU(r.data,n)}}function s(r,n,e){return a.reduceU(r.data,n,e)}function c(r,n){var e=r.k;if(n===e){var t=r.l,o=r.r;return void 0!==t?void 0!==o?(r.r=a.removeMinAuxWithRootMutate(r,o),a.balMutate(r)):t:o}if(n<e){var i=r.l;return void 0!==i?(r.l=c(i,n),a.balMutate(r)):r}var u=r.r;return void 0!==u?(r.r=c(u,n),a.balMutate(r)):r}function v(r,n,e){if(void 0!==r){var t=r.k;if(t===n){var i=e(o.some(r.v));if(void 0!==i)return r.v=o.valFromOption(i),r;var u=r.l,f=r.r;return void 0!==u?void 0!==f?(r.r=a.removeMinAuxWithRootMutate(r,f),a.balMutate(r)):u:f}var s=r.l,c=r.r;if(n<t){var d=v(s,n,e);r.l=d}else r.r=v(c,n,e);return a.balMutate(r)}var l=e(void 0);return void 0!==l?a.singleton(n,o.valFromOption(l)):r}function d(r,n,e){var t=r.data,o=v(t,n,e);o===t||(r.data=o)}function l(r,n,e){return i.cmpU(r.data,n.data,e)}function p(r,n,e){return i.eqU(r.data,n.data,e)}n.make=function(r){return{data:void 0}},n.clear=function(r){r.data=void 0},n.isEmpty=function(r){return void 0===r.data},n.has=function(r,n){return i.has(r.data,n)},n.cmpU=l,n.cmp=function(r,n,e){return l(r,n,t.__2(e))},n.eqU=p,n.eq=function(r,n,e){return p(r,n,t.__2(e))},n.forEachU=function(r,n){a.forEachU(r.data,n)},n.forEach=function(r,n){a.forEachU(r.data,t.__2(n))},n.reduceU=s,n.reduce=function(r,n,e){return s(r,n,t.__3(e))},n.everyU=function(r,n){return a.everyU(r.data,n)},n.every=function(r,n){return a.everyU(r.data,t.__2(n))},n.someU=function(r,n){return a.someU(r.data,n)},n.some=function(r,n){return a.someU(r.data,t.__2(n))},n.size=function(r){return a.size(r.data)},n.toList=function(r){return a.toList(r.data)},n.toArray=function(r){return a.toArray(r.data)},n.fromArray=function(r){return{data:i.fromArray(r)}},n.keysToArray=function(r){return a.keysToArray(r.data)},n.valuesToArray=function(r){return a.valuesToArray(r.data)},n.minKey=function(r){return a.minKey(r.data)},n.minKeyUndefined=function(r){return a.minKeyUndefined(r.data)},n.maxKey=function(r){return a.maxKey(r.data)},n.maxKeyUndefined=function(r){return a.maxKeyUndefined(r.data)},n.minimum=function(r){return a.minimum(r.data)},n.minUndefined=function(r){return a.minUndefined(r.data)},n.maximum=function(r){return a.maximum(r.data)},n.maxUndefined=function(r){return a.maxUndefined(r.data)},n.get=function(r,n){return i.get(r.data,n)},n.getUndefined=function(r,n){return i.getUndefined(r.data,n)},n.getWithDefault=function(r,n,e){return i.getWithDefault(r.data,n,e)},n.getExn=function(r,n){return i.getExn(r.data,n)},n.checkInvariantInternal=function(r){a.checkInvariantInternal(r.data)},n.remove=function(r,n){var e=r.data;if(void 0!==e){var t=c(e,n);t===e||(r.data=t)}},n.removeMany=function(r,n){var e=r.data;if(void 0!==e){var t=function(r,n,e,t){for(;;){var o=e;if(o>=t)return r;var i=c(r,n[o]);if(void 0===i)return;e=o+1|0,r=i}}(e,n,0,n.length);t===e||(r.data=t)}},n.set=function(r,n,e){var t=r.data,o=i.addMutate(t,n,e);o===t||(r.data=o)},n.updateU=d,n.update=function(r,n,e){d(r,n,t.__1(e))},n.mapU=u,n.map=function(r,n){return u(r,t.__1(n))},n.mapWithKeyU=f,n.mapWithKey=function(r,n){return f(r,t.__2(n))}},5650:function(r,n,e){var t=e(1386),o=e(7175);function i(r){r.length=0,r.first=void 0,r.last=void 0}function a(r,n){var e={content:n,next:void 0},t=r.last;void 0!==t?(r.length=r.length+1|0,t.next=e,r.last=e):(r.length=1,r.first=e,r.last=e)}function u(r,n){for(var e,t={length:r.length,first:void 0,last:void 0},o=r.first;;){var i=o,a=e;if(void 0===i)return t.last=a,t;var u={content:n(i.content),next:void 0};void 0!==a?a.next=u:t.first=u,o=i.next,e=u}}function f(r,n){for(var e=r.first;;){var t=e;if(void 0===t)return;n(t.content),e=t.next}}function s(r,n,e){for(var t=n,o=r.first;;){var i=o;if(void 0===i)return t;var a=e(t,i.content);o=i.next,t=a}}n.make=function(r){return{length:0,first:void 0,last:void 0}},n.clear=i,n.isEmpty=function(r){return 0===r.length},n.fromArray=function(r){for(var n={length:0,first:void 0,last:void 0},e=0,t=r.length;e<t;++e)a(n,r[e]);return n},n.add=a,n.peek=function(r){var n=r.first;if(void 0!==n)return o.some(n.content)},n.peekUndefined=function(r){var n=r.first;if(void 0!==n)return n.content},n.peekExn=function(r){var n=r.first;if(void 0!==n)return n.content;throw{RE_EXN_ID:"Not_found",Error:new Error}},n.pop=function(r){var n=r.first;if(void 0!==n){var e=n.next;return void 0===e?(i(r),o.some(n.content)):(r.length=r.length-1|0,r.first=e,o.some(n.content))}},n.popUndefined=function(r){var n=r.first;if(void 0!==n){var e=n.next;return void 0===e?(i(r),n.content):(r.length=r.length-1|0,r.first=e,n.content)}},n.popExn=function(r){var n=r.first;if(void 0!==n){var e=n.next;return void 0===e?(i(r),n.content):(r.length=r.length-1|0,r.first=e,n.content)}throw{RE_EXN_ID:"Not_found",Error:new Error}},n.copy=function(r){for(var n,e={length:r.length,first:void 0,last:void 0},t=r.first;;){var o=t,i=n;if(void 0===o)return e.last=i,e;var a={content:o.content,next:void 0};void 0!==i?i.next=a:e.first=a,t=o.next,n=a}},n.size=function(r){return r.length},n.mapU=u,n.map=function(r,n){return u(r,t.__1(n))},n.forEachU=f,n.forEach=function(r,n){f(r,t.__1(n))},n.reduceU=s,n.reduce=function(r,n,e){return s(r,n,t.__2(e))},n.transfer=function(r,n){if(!(r.length<=0)){var e=n.last;return void 0!==e?(n.length=n.length+r.length|0,e.next=r.first,n.last=r.last,i(r)):(n.length=r.length,n.first=r.first,n.last=r.last,i(r))}},n.toArray=function(r){var n=new Array(r.length);return function(r,n,e){for(;;){var t=e,o=r;if(void 0===t)return;n[o]=t.content,e=t.next,r=o+1|0}}(0,n,r.first),n}},6601:function(r,n,e){var t=e(1386),o=e(7175);function i(r,n){for(var e=r.root;;){var t=e;if(void 0===t)return;n(t.head),e=t.tail}}function a(r,n){for(;;){var e=r.root;if(void 0===e)return;r.root=e.tail,n(e.head)}}n.make=function(r){return{root:void 0}},n.clear=function(r){r.root=void 0},n.copy=function(r){return{root:r.root}},n.push=function(r,n){r.root={head:n,tail:r.root}},n.popUndefined=function(r){var n=r.root;if(void 0!==n)return r.root=n.tail,n.head},n.pop=function(r){var n=r.root;if(void 0!==n)return r.root=n.tail,o.some(n.head)},n.topUndefined=function(r){var n=r.root;if(void 0!==n)return n.head},n.top=function(r){var n=r.root;if(void 0!==n)return o.some(n.head)},n.isEmpty=function(r){return void 0===r.root},n.size=function(r){var n=r.root;if(void 0===n)return 0;for(var e=n,t=0;;){var o=t,i=e.tail;if(void 0===i)return o+1|0;t=o+1|0,e=i}},n.forEachU=i,n.forEach=function(r,n){i(r,t.__1(n))},n.dynamicPopIterU=a,n.dynamicPopIter=function(r,n){a(r,t.__1(n))}},6517:function(r,n,e){var t=e(1386),o=e(7175);function i(r,n){if(void 0!==r&&n(o.valFromOption(r)))return r}function a(r,n){if(void 0!==r)return n(o.valFromOption(r))}function u(r,n,e){return void 0!==r?e(o.valFromOption(r)):n}function f(r,n){if(void 0!==r)return o.some(n(o.valFromOption(r)))}function s(r,n){if(void 0!==r)return n(o.valFromOption(r))}function c(r,n,e){return void 0!==r?void 0!==n&&e(o.valFromOption(r),o.valFromOption(n)):void 0===n}function v(r,n,e){return void 0!==r?void 0!==n?e(o.valFromOption(r),o.valFromOption(n)):1:void 0!==n?-1:0}n.keepU=i,n.keep=function(r,n){return i(r,t.__1(n))},n.forEachU=a,n.forEach=function(r,n){a(r,t.__1(n))},n.getExn=function(r){if(void 0!==r)return o.valFromOption(r);throw{RE_EXN_ID:"Not_found",Error:new Error}},n.mapWithDefaultU=u,n.mapWithDefault=function(r,n,e){return u(r,n,t.__1(e))},n.mapU=f,n.map=function(r,n){return f(r,t.__1(n))},n.flatMapU=s,n.flatMap=function(r,n){return s(r,t.__1(n))},n.getWithDefault=function(r,n){return void 0!==r?o.valFromOption(r):n},n.orElse=function(r,n){return void 0!==r?r:n},n.isSome=function(r){return void 0!==r},n.isNone=function(r){return void 0===r},n.eqU=c,n.eq=function(r,n,e){return c(r,n,t.__2(e))},n.cmpU=v,n.cmp=function(r,n,e){return v(r,n,t.__2(e))}},303:function(r,n,e){var t=e(4881),o=e(9113);function i(r,n){if(void 0===r)return t.singleton(n);var e=r.v;if(n===e)return r;var o=r.l,a=r.r;if(n<e){var u=i(o,n);return u===o?r:t.bal(u,e,a)}var f=i(a,n);return f===a?r:t.bal(o,e,f)}function a(r,n){if(void 0===r)return r;var e=r.v,o=r.l,i=r.r;if(n===e){if(void 0===o)return i;if(void 0===i)return o;var u={contents:i.v},f=t.removeMinAuxWithRef(i,u);return t.bal(o,u.contents,f)}if(n<e){var s=a(o,n);return s===o?r:t.bal(s,e,i)}var c=a(i,n);return c===i?r:t.bal(o,e,c)}function u(r,n){var e=r.v,o=r.l,i=r.r;if(n===e)return[o,i];if(n<e){if(void 0===o)return[void 0,r];var a=u(o,n);return[a[0],t.joinShared(a[1],e,i)]}if(void 0===i)return[r,void 0];var f=u(i,n);return[t.joinShared(o,e,f[0]),f[1]]}function f(r,n,e){var o=r.v,i=r.l,a=r.r;if(n===o)return e.contents=!0,[i,a];if(n<o){if(void 0===i)return[void 0,r];var u=f(i,n,e);return[u[0],t.joinShared(u[1],o,a)]}if(void 0===a)return[r,void 0];var s=f(a,n,e);return[t.joinShared(i,o,s[0]),s[1]]}var s=o.fromArray,c=t.fromSortedArrayUnsafe,v=t.isEmpty,d=o.has,l=o.subset,p=o.cmp,h=o.eq,m=t.forEachU,g=t.forEach,_=t.reduceU,E=t.reduce,y=t.everyU,x=t.every,b=t.someU,k=t.some,A=t.keepSharedU,w=t.keepShared,S=t.partitionSharedU,T=t.partitionShared,U=t.size,I=t.toList,N=t.toArray,M=t.minimum,D=t.minUndefined,G=t.maximum,P=t.maxUndefined,C=o.get,R=o.getUndefined,V=o.getExn,O=t.checkInvariantInternal;n.empty=void 0,n.fromArray=s,n.fromSortedArrayUnsafe=c,n.isEmpty=v,n.has=d,n.add=i,n.mergeMany=function(r,n){for(var e=n.length,t=r,o=0;o<e;++o)t=i(t,n[o]);return t},n.remove=a,n.removeMany=function(r,n){for(var e=n.length,t=r,o=0;o<e;++o)t=a(t,n[o]);return t},n.union=function r(n,e){if(void 0===n)return e;if(void 0===e)return n;var o=n.h,a=e.h;if(o>=a){if(1===a)return i(n,e.v);var f=n.v,s=n.l,c=n.r,v=u(e,f);return t.joinShared(r(s,v[0]),f,r(c,v[1]))}if(1===o)return i(e,n.v);var d=e.v,l=e.l,p=e.r,h=u(n,d);return t.joinShared(r(h[0],l),d,r(h[1],p))},n.intersect=function r(n,e){if(void 0!==n&&void 0!==e){var o=n.v,i=n.l,a=n.r,u={contents:!1},s=f(e,o,u),c=r(i,s[0]),v=r(a,s[1]);return u.contents?t.joinShared(c,o,v):t.concatShared(c,v)}},n.diff=function r(n,e){if(void 0===n)return n;if(void 0===e)return n;var o=n.v,i=n.l,a=n.r,u={contents:!1},s=f(e,o,u),c=r(i,s[0]),v=r(a,s[1]);return u.contents?t.concatShared(c,v):t.joinShared(c,o,v)},n.subset=l,n.cmp=p,n.eq=h,n.forEachU=m,n.forEach=g,n.reduceU=_,n.reduce=E,n.everyU=y,n.every=x,n.someU=b,n.some=k,n.keepU=A,n.keep=w,n.partitionU=S,n.partition=T,n.size=U,n.toList=I,n.toArray=N,n.minimum=M,n.minUndefined=D,n.maximum=G,n.maxUndefined=P,n.get=C,n.getUndefined=R,n.getExn=V,n.split=function(r,n){if(void 0===r)return[[void 0,void 0],!1];var e={contents:!1};return[f(r,n,e),e.contents]},n.checkInvariantInternal=O},1367:function(r,n,e){var t=e(4881),o=e(1572);function i(r,n){if(void 0===r)return t.singleton(n);var e=r.v;if(n===e)return r;var o=r.l,a=r.r;if(n<e){var u=i(o,n);return u===o?r:t.bal(u,e,a)}var f=i(a,n);return f===a?r:t.bal(o,e,f)}function a(r,n){if(void 0===r)return r;var e=r.v,o=r.l,i=r.r;if(n===e){if(void 0===o)return i;if(void 0===i)return o;var u={contents:i.v},f=t.removeMinAuxWithRef(i,u);return t.bal(o,u.contents,f)}if(n<e){var s=a(o,n);return s===o?r:t.bal(s,e,i)}var c=a(i,n);return c===i?r:t.bal(o,e,c)}function u(r,n){var e=r.v,o=r.l,i=r.r;if(n===e)return[o,i];if(n<e){if(void 0===o)return[void 0,r];var a=u(o,n);return[a[0],t.joinShared(a[1],e,i)]}if(void 0===i)return[r,void 0];var f=u(i,n);return[t.joinShared(o,e,f[0]),f[1]]}function f(r,n,e){var o=r.v,i=r.l,a=r.r;if(n===o)return e.contents=!0,[i,a];if(n<o){if(void 0===i)return[void 0,r];var u=f(i,n,e);return[u[0],t.joinShared(u[1],o,a)]}if(void 0===a)return[r,void 0];var s=f(a,n,e);return[t.joinShared(i,o,s[0]),s[1]]}var s=o.fromArray,c=t.fromSortedArrayUnsafe,v=t.isEmpty,d=o.has,l=o.subset,p=o.cmp,h=o.eq,m=t.forEachU,g=t.forEach,_=t.reduceU,E=t.reduce,y=t.everyU,x=t.every,b=t.someU,k=t.some,A=t.keepSharedU,w=t.keepShared,S=t.partitionSharedU,T=t.partitionShared,U=t.size,I=t.toList,N=t.toArray,M=t.minimum,D=t.minUndefined,G=t.maximum,P=t.maxUndefined,C=o.get,R=o.getUndefined,V=o.getExn,O=t.checkInvariantInternal;n.empty=void 0,n.fromArray=s,n.fromSortedArrayUnsafe=c,n.isEmpty=v,n.has=d,n.add=i,n.mergeMany=function(r,n){for(var e=n.length,t=r,o=0;o<e;++o)t=i(t,n[o]);return t},n.remove=a,n.removeMany=function(r,n){for(var e=n.length,t=r,o=0;o<e;++o)t=a(t,n[o]);return t},n.union=function r(n,e){if(void 0===n)return e;if(void 0===e)return n;var o=n.h,a=e.h;if(o>=a){if(1===a)return i(n,e.v);var f=n.v,s=n.l,c=n.r,v=u(e,f);return t.joinShared(r(s,v[0]),f,r(c,v[1]))}if(1===o)return i(e,n.v);var d=e.v,l=e.l,p=e.r,h=u(n,d);return t.joinShared(r(h[0],l),d,r(h[1],p))},n.intersect=function r(n,e){if(void 0!==n&&void 0!==e){var o=n.v,i=n.l,a=n.r,u={contents:!1},s=f(e,o,u),c=r(i,s[0]),v=r(a,s[1]);return u.contents?t.joinShared(c,o,v):t.concatShared(c,v)}},n.diff=function r(n,e){if(void 0===n)return n;if(void 0===e)return n;var o=n.v,i=n.l,a=n.r,u={contents:!1},s=f(e,o,u),c=r(i,s[0]),v=r(a,s[1]);return u.contents?t.concatShared(c,v):t.joinShared(c,o,v)},n.subset=l,n.cmp=p,n.eq=h,n.forEachU=m,n.forEach=g,n.reduceU=_,n.reduce=E,n.everyU=y,n.every=x,n.someU=b,n.some=k,n.keepU=A,n.keep=w,n.partitionU=S,n.partition=T,n.size=U,n.toList=I,n.toArray=N,n.minimum=M,n.minUndefined=D,n.maximum=G,n.maxUndefined=P,n.get=C,n.getUndefined=R,n.getExn=V,n.split=function(r,n){if(void 0===r)return[[void 0,void 0],!1];var e={contents:!1};return[f(r,n,e),e.contents]},n.checkInvariantInternal=O},2531:function(r,n,e){var t=e(1386),o=e(2971);function i(r,n){var e=r.length;if(0===e||1===e)return e;var t=r[0],o=r[1];if(!n(t,o))return n(o,t)?0|-function(r,n,e,t,o){for(;;){var i=e,a=n;if(i>=t)return i;var u=r[i];if(!o(u,a))return i;e=i+1|0,n=u}}(r,o,2,e,n):1;for(var i=o,a=2;;){var u=a,f=i;if(u>=e)return u;var s=r[u];if(!n(f,s))return u;a=u+1|0,i=s}}function a(r,n){var e=r.length;if(0===e)return!0;for(var t=0,o=e-1|0;;){var i=t;if(i===o)return!0;if(n(r[i],r[i+1|0])>0)return!1;t=i+1|0}}function u(r,n,e,t,i,a,u,f,s){for(var c=n+e|0,v=i+a|0,d=n,l=r[n],p=i,h=t[i],m=f;;){var g=m,_=h,E=p,y=l,x=d;if(s(y,_)<=0){u[g]=y;var b=x+1|0;if(b>=c)return o.blitUnsafe(t,E,u,g+1|0,v-E|0);m=g+1|0,l=r[b],d=b}else{u[g]=_;var k=E+1|0;if(k>=v)return o.blitUnsafe(r,x,u,g+1|0,c-x|0);m=g+1|0,h=t[k],p=k}}}function f(r,n,e,t,i,a,u,f,s){for(var c=n+e|0,v=i+a|0,d=n,l=r[n],p=i,h=t[i],m=f;;){var g=m,_=h,E=p,y=l,x=d,b=s(y,_);if(b<0){u[g]=y;var k=x+1|0,A=g+1|0;if(k<c){m=A,l=r[k],d=k;continue}return o.blitUnsafe(t,E,u,A,v-E|0),(A+v|0)-E|0}if(0!==b){u[g]=_;var w=E+1|0,S=g+1|0;if(!(w<v))return o.blitUnsafe(r,x,u,S,c-x|0),(S+c|0)-x|0;m=S,h=t[w],p=w}else{u[g]=y;var T=x+1|0,U=E+1|0,I=g+1|0;if(!(T<c&&U<v))return T===c?(o.blitUnsafe(t,U,u,I,v-U|0),(I+v|0)-U|0):(o.blitUnsafe(r,T,u,I,c-T|0),(I+c|0)-T|0);m=I,h=t[U],p=U,l=r[T],d=T}}}function s(r,n,e,t,o,i,a,u,f){for(var s=n+e|0,c=o+i|0,v=n,d=r[n],l=o,p=t[o],h=u;;){var m=h,g=l,_=d,E=v,y=f(_,p);if(y<0){var x=E+1|0;if(x>=s)return m;d=r[x],v=x}else if(0!==y){var b=g+1|0;if(b>=c)return m;p=t[b],l=b}else{a[m]=_;var k=E+1|0,A=g+1|0,w=m+1|0;if(!(k<s&&A<c))return w;h=w,p=t[A],l=A,d=r[k],v=k}}}function c(r,n,e,t,i,a,u,f,s){for(var c=n+e|0,v=i+a|0,d=n,l=r[n],p=i,h=t[i],m=f;;){var g=m,_=p,E=l,y=d,x=s(E,h);if(x<0){u[g]=E;var b=g+1|0,k=y+1|0;if(k>=c)return b;m=b,l=r[k],d=k}else if(0!==x){var A=_+1|0;if(!(A<v))return o.blitUnsafe(r,y,u,g,c-y|0),(g+c|0)-y|0;h=t[A],p=A}else{var w=y+1|0,S=_+1|0;if(!(w<c&&S<v))return w===c?g:(o.blitUnsafe(r,w,u,g,c-w|0),(g+c|0)-w|0);h=t[S],p=S,l=r[w],d=w}}}function v(r,n,e,t,o,i){for(var a=0;a<o;++a){for(var u=r[n+a|0],f=(t+a|0)-1|0;f>=t&&i(e[f],u)>0;)e[f+1|0]=e[f],f=f-1|0;e[f+1|0]=u}}function d(r,n,e,t,o,i){if(o<=5)return v(r,n,e,t,o,i);var a=o/2|0,f=o-a|0;d(r,n+a|0,e,t+a|0,f,i),d(r,n,r,n+f|0,a,i),u(r,n+f|0,a,e,t+a|0,f,e,t,i)}function l(r,n){var e=r.length;if(e<=5)return v(r,0,r,0,e,n);var t=e/2|0,o=e-t|0,i=new Array(o);d(r,t,i,0,o,n),d(r,0,r,o,t,n),u(r,o,t,i,0,o,r,0,n)}function p(r,n){var e=r.slice(0);return l(e,n),e}function h(r,n,e){var t=r.length;if(0===t)return-1;if(e(n,r[0])<0)return-1;if(e(n,r[t-1|0])>0)return 0|-(t+1|0);for(var o=0,i=t-1|0;;){var a=i,u=o,f=(u+a|0)/2|0,s=e(n,r[f]);if(0===s)return f;if(s<0){if(a===f)return 0===e(r[u],n)?u:0|-(a+1|0);i=f}else{if(u===f)return 0===e(r[a],n)?a:0|-(a+1|0);o=f}}}n.Int=void 0,n.$$String=void 0,n.strictlySortedLengthU=i,n.strictlySortedLength=function(r,n){return i(r,t.__2(n))},n.isSortedU=a,n.isSorted=function(r,n){return a(r,t.__2(n))},n.stableSortInPlaceByU=l,n.stableSortInPlaceBy=function(r,n){l(r,t.__2(n))},n.stableSortByU=p,n.stableSortBy=function(r,n){return p(r,t.__2(n))},n.binarySearchByU=h,n.binarySearchBy=function(r,n,e){return h(r,n,t.__2(e))},n.unionU=f,n.union=function(r,n,e,o,i,a,u,s,c){return f(r,n,e,o,i,a,u,s,t.__2(c))},n.intersectU=s,n.intersect=function(r,n,e,o,i,a,u,f,c){return s(r,n,e,o,i,a,u,f,t.__2(c))},n.diffU=c,n.diff=function(r,n,e,o,i,a,u,f,s){return c(r,n,e,o,i,a,u,f,t.__2(s))}},3282:function(r,n,e){var t=e(2971);function o(r,n,e,o,i,a,u,f){for(var s=n+e|0,c=i+a|0,v=n,d=r[n],l=i,p=o[i],h=f;;){var m=h,g=p,_=l,E=d,y=v;if(E<=g){u[m]=E;var x=y+1|0;if(x>=s)return t.blitUnsafe(o,_,u,m+1|0,c-_|0);h=m+1|0,d=r[x],v=x}else{u[m]=g;var b=_+1|0;if(b>=c)return t.blitUnsafe(r,y,u,m+1|0,s-y|0);h=m+1|0,p=o[b],l=b}}}function i(r,n,e,t,o){for(var i=0;i<o;++i){for(var a=r[n+i|0],u=(t+i|0)-1|0;u>=t&&e[u]>a;)e[u+1|0]=e[u],u=u-1|0;e[u+1|0]=a}}function a(r,n,e,t,u){if(u<=5)return i(r,n,e,t,u);var f=u/2|0,s=u-f|0;a(r,n+f|0,e,t+f|0,s),a(r,n,r,n+s|0,f),o(r,n+s|0,f,e,t+f|0,s,e,t)}function u(r){var n=r.length;if(n<=5)return i(r,0,r,0,n);var e=n/2|0,t=n-e|0,u=new Array(t);a(r,e,u,0,t),a(r,0,r,t,e),o(r,t,e,u,0,t,r,0)}n.strictlySortedLength=function(r){var n=r.length;if(0===n||1===n)return n;var e=r[0],t=r[1];if(!(e<t))return e>t?0|-function(r,n,e,t){for(;;){var o=e,i=n;if(o>=t)return o;var a=r[o];if(i<=a)return o;e=o+1|0,n=a}}(r,t,2,n):1;for(var o=t,i=2;;){var a=i,u=o;if(a>=n)return a;var f=r[a];if(u>=f)return a;i=a+1|0,o=f}},n.isSorted=function(r){var n=r.length;if(0===n)return!0;for(var e=0,t=n-1|0;;){var o=e;if(o===t)return!0;if(r[o]>r[o+1|0])return!1;e=o+1|0}},n.stableSortInPlace=u,n.stableSort=function(r){var n=r.slice(0);return u(n),n},n.binarySearch=function(r,n){var e=r.length;if(0===e)return-1;if(n<r[0])return-1;if(n>r[e-1|0])return 0|-(e+1|0);for(var t=0,o=e-1|0;;){var i=o,a=t,u=(a+i|0)/2|0,f=r[u];if(n===f)return u;if(n<f){if(i===u)return r[a]===n?a:0|-(i+1|0);o=u}else{if(a===u)return r[i]===n?i:0|-(i+1|0);t=u}}},n.union=function(r,n,e,o,i,a,u,f){for(var s=n+e|0,c=i+a|0,v=n,d=r[n],l=i,p=o[i],h=f;;){var m=h,g=p,_=l,E=d,y=v;if(E<g){u[m]=E;var x=y+1|0,b=m+1|0;if(x<s){h=b,d=r[x],v=x;continue}return t.blitUnsafe(o,_,u,b,c-_|0),(b+c|0)-_|0}if(E!==g){u[m]=g;var k=_+1|0,A=m+1|0;if(!(k<c))return t.blitUnsafe(r,y,u,A,s-y|0),(A+s|0)-y|0;h=A,p=o[k],l=k}else{u[m]=E;var w=y+1|0,S=_+1|0,T=m+1|0;if(!(w<s&&S<c))return w===s?(t.blitUnsafe(o,S,u,T,c-S|0),(T+c|0)-S|0):(t.blitUnsafe(r,w,u,T,s-w|0),(T+s|0)-w|0);h=T,p=o[S],l=S,d=r[w],v=w}}},n.intersect=function(r,n,e,t,o,i,a,u){for(var f=n+e|0,s=o+i|0,c=n,v=r[n],d=o,l=t[o],p=u;;){var h=p,m=l,g=d,_=v,E=c;if(_<m){var y=E+1|0;if(y>=f)return h;v=r[y],c=y}else if(_!==m){var x=g+1|0;if(x>=s)return h;l=t[x],d=x}else{a[h]=_;var b=E+1|0,k=g+1|0,A=h+1|0;if(!(b<f&&k<s))return A;p=A,l=t[k],d=k,v=r[b],c=b}}},n.diff=function(r,n,e,o,i,a,u,f){for(var s=n+e|0,c=i+a|0,v=n,d=r[n],l=i,p=o[i],h=f;;){var m=h,g=p,_=l,E=d,y=v;if(E<g){u[m]=E;var x=m+1|0,b=y+1|0;if(b>=s)return x;h=x,d=r[b],v=b}else if(E!==g){var k=_+1|0;if(!(k<c))return t.blitUnsafe(r,y,u,m,s-y|0),(m+s|0)-y|0;p=o[k],l=k}else{var A=y+1|0,w=_+1|0;if(!(A<s&&w<c))return A===s?m:(t.blitUnsafe(r,A,u,m,s-A|0),(m+s|0)-A|0);p=o[w],l=w,d=r[A],v=A}}}},8466:function(r,n,e){var t=e(2971);function o(r,n,e,o,i,a,u,f){for(var s=n+e|0,c=i+a|0,v=n,d=r[n],l=i,p=o[i],h=f;;){var m=h,g=p,_=l,E=d,y=v;if(E<=g){u[m]=E;var x=y+1|0;if(x>=s)return t.blitUnsafe(o,_,u,m+1|0,c-_|0);h=m+1|0,d=r[x],v=x}else{u[m]=g;var b=_+1|0;if(b>=c)return t.blitUnsafe(r,y,u,m+1|0,s-y|0);h=m+1|0,p=o[b],l=b}}}function i(r,n,e,t,o){for(var i=0;i<o;++i){for(var a=r[n+i|0],u=(t+i|0)-1|0;u>=t&&e[u]>a;)e[u+1|0]=e[u],u=u-1|0;e[u+1|0]=a}}function a(r,n,e,t,u){if(u<=5)return i(r,n,e,t,u);var f=u/2|0,s=u-f|0;a(r,n+f|0,e,t+f|0,s),a(r,n,r,n+s|0,f),o(r,n+s|0,f,e,t+f|0,s,e,t)}function u(r){var n=r.length;if(n<=5)return i(r,0,r,0,n);var e=n/2|0,t=n-e|0,u=new Array(t);a(r,e,u,0,t),a(r,0,r,t,e),o(r,t,e,u,0,t,r,0)}n.strictlySortedLength=function(r){var n=r.length;if(0===n||1===n)return n;var e=r[0],t=r[1];if(!(e<t))return e>t?0|-function(r,n,e,t){for(;;){var o=e,i=n;if(o>=t)return o;var a=r[o];if(i<=a)return o;e=o+1|0,n=a}}(r,t,2,n):1;for(var o=t,i=2;;){var a=i,u=o;if(a>=n)return a;var f=r[a];if(u>=f)return a;i=a+1|0,o=f}},n.isSorted=function(r){var n=r.length;if(0===n)return!0;for(var e=0,t=n-1|0;;){var o=e;if(o===t)return!0;if(r[o]>r[o+1|0])return!1;e=o+1|0}},n.stableSortInPlace=u,n.stableSort=function(r){var n=r.slice(0);return u(n),n},n.binarySearch=function(r,n){var e=r.length;if(0===e)return-1;if(n<r[0])return-1;if(n>r[e-1|0])return 0|-(e+1|0);for(var t=0,o=e-1|0;;){var i=o,a=t,u=(a+i|0)/2|0,f=r[u];if(n===f)return u;if(n<f){if(i===u)return r[a]===n?a:0|-(i+1|0);o=u}else{if(a===u)return r[i]===n?i:0|-(i+1|0);t=u}}},n.union=function(r,n,e,o,i,a,u,f){for(var s=n+e|0,c=i+a|0,v=n,d=r[n],l=i,p=o[i],h=f;;){var m=h,g=p,_=l,E=d,y=v;if(E<g){u[m]=E;var x=y+1|0,b=m+1|0;if(x<s){h=b,d=r[x],v=x;continue}return t.blitUnsafe(o,_,u,b,c-_|0),(b+c|0)-_|0}if(E!==g){u[m]=g;var k=_+1|0,A=m+1|0;if(!(k<c))return t.blitUnsafe(r,y,u,A,s-y|0),(A+s|0)-y|0;h=A,p=o[k],l=k}else{u[m]=E;var w=y+1|0,S=_+1|0,T=m+1|0;if(!(w<s&&S<c))return w===s?(t.blitUnsafe(o,S,u,T,c-S|0),(T+c|0)-S|0):(t.blitUnsafe(r,w,u,T,s-w|0),(T+s|0)-w|0);h=T,p=o[S],l=S,d=r[w],v=w}}},n.intersect=function(r,n,e,t,o,i,a,u){for(var f=n+e|0,s=o+i|0,c=n,v=r[n],d=o,l=t[o],p=u;;){var h=p,m=l,g=d,_=v,E=c;if(_<m){var y=E+1|0;if(y>=f)return h;v=r[y],c=y}else if(_!==m){var x=g+1|0;if(x>=s)return h;l=t[x],d=x}else{a[h]=_;var b=E+1|0,k=g+1|0,A=h+1|0;if(!(b<f&&k<s))return A;p=A,l=t[k],d=k,v=r[b],c=b}}},n.diff=function(r,n,e,o,i,a,u,f){for(var s=n+e|0,c=i+a|0,v=n,d=r[n],l=i,p=o[i],h=f;;){var m=h,g=p,_=l,E=d,y=v;if(E<g){u[m]=E;var x=m+1|0,b=y+1|0;if(b>=s)return x;h=x,d=r[b],v=b}else if(E!==g){var k=_+1|0;if(!(k<c))return t.blitUnsafe(r,y,u,m,s-y|0),(m+s|0)-y|0;p=o[k],l=k}else{var A=y+1|0,w=_+1|0;if(!(A<s&&w<c))return A===s?m:(t.blitUnsafe(r,A,u,m,s-A|0),(m+s|0)-A|0);p=o[w],l=w,d=r[A],v=A}}}},4881:function(r,n,e){var t=e(1386),o=e(7175),i=e(2531);function a(r,n,e){var t=void 0!==r?r.h:0,o=void 0!==e?e.h:0;return{v:n,h:(t>=o?t:o)+1|0,l:r,r:e}}function u(r){return{v:r,h:1,l:void 0,r:void 0}}function f(r,n){return void 0===n||void 0!==r&&r.h>=n.h}function s(r,n,e){var t=void 0!==r?r.h:0,o=void 0!==e?e.h:0;if(t>(o+2|0)){var i=r.l,u=r.r;return f(i,u)?a(i,r.v,a(u,n,e)):a(a(i,r.v,u.l),u.v,a(u.r,n,e))}if(o<=(t+2|0))return{v:n,h:(t>=o?t:o)+1|0,l:r,r:e};var s=e.l,c=e.r;return f(c,s)?a(a(r,n,s),e.v,c):a(a(r,n,s.l),s.v,a(s.r,e.v,c))}function c(r){for(;;){var n=r,e=n.l;if(void 0===e)return n.v;r=e}}function v(r){for(;;){var n=r,e=n.r;if(void 0===e)return n.v;r=e}}function d(r,n){var e=r.l;return void 0!==e?s(d(e,n),r.v,r.r):(n.contents=r.v,r.r)}function l(r,n){for(;;){if(void 0===r)return n;n={hd:r,tl:n},r=r.l}}function p(r,n){for(;;){var e=r;if(void 0===e)return;p(e.l,n),n(e.v),r=e.r}}function h(r,n,e){for(;;){var t=n,o=r;if(void 0===o)return t;n=e(h(o.l,t,e),o.v),r=o.r}}function m(r,n){for(;;){var e=r;if(void 0===e)return!0;if(!n(e.v))return!1;if(!m(e.l,n))return!1;r=e.r}}function g(r,n){for(;;){var e=r;if(void 0===e)return!1;if(n(e.v))return!0;if(g(e.l,n))return!0;r=e.r}}function _(r,n){return void 0!==r?s(_(r.l,n),r.v,r.r):u(n)}function E(r,n){return void 0!==r?s(r.l,r.v,E(r.r,n)):u(n)}function y(r,n,e){if(void 0===r)return _(e,n);if(void 0===e)return E(r,n);var t=r.h,o=e.h;return t>(o+2|0)?s(r.l,r.v,y(r.r,n,e)):o>(t+2|0)?s(y(r,n,e.l),e.v,e.r):a(r,n,e)}function x(r,n){if(void 0===r)return n;if(void 0===n)return r;var e={contents:n.v},t=d(n,e);return y(r,e.contents,t)}function b(r,n){if(void 0===r)return[void 0,void 0];var e=r.v,t=b(r.l,n),o=t[1],i=t[0],a=n(e),u=b(r.r,n),f=u[1],s=u[0];return a?[y(i,e,s),x(o,f)]:[x(i,s),y(o,e,f)]}function k(r){var n=r.l,e=r.r;return(1+(void 0!==n?k(n):0)|0)+(void 0!==e?k(e):0)|0}function A(r){return void 0!==r?k(r):0}function w(r,n){for(;;){var e=n,t=r;if(void 0===t)return e;n={hd:t.v,tl:w(t.r,e)},r=t.l}}function S(r,n,e){for(;;){var t=n,o=r,i=o.v,a=o.l,u=o.r,f=void 0!==a?S(a,t,e):t;e[f]=i;var s=f+1|0;if(void 0===u)return s;n=s,r=u}}function T(r,n,e,t){for(;;){var o=r,i=o.v,a=o.l,u=o.r;if(void 0!==a&&T(a,n,e,t),t(i)){var f=n.forward;e[f]=i,n.forward=f+1|0}else{var s=n.backward;e[s]=i,n.backward=s-1|0}if(void 0===u)return;r=u}}function U(r,n,e,t){for(;;){var o=n,i=r,a=i.v,u=i.l,f=i.r,s=void 0!==u?U(u,o,e,t):o,c=t(a)?(e[s]=a,s+1|0):s;if(void 0===f)return c;n=c,r=f}}function I(r,n,e){switch(e){case 0:return;case 1:return u(r[n]);case 2:var t=r[n];return{v:r[n-1|0],h:2,l:u(t),r:void 0};case 3:var o=r[n],i=r[n-1|0],f=r[n-2|0];return{v:i,h:2,l:u(o),r:u(f)};default:var s=e/2|0;return a(I(r,n,s),r[n-s|0],I(r,(n-s|0)-1|0,(e-s|0)-1|0))}}function N(r,n,e){switch(e){case 0:return;case 1:return u(r[n]);case 2:var t=r[n];return{v:r[n+1|0],h:2,l:u(t),r:void 0};case 3:var o=r[n],i=r[n+1|0],f=r[n+2|0];return{v:i,h:2,l:u(o),r:u(f)};default:var s=e/2|0;return a(N(r,n,s),r[n+s|0],N(r,1+(n+s|0)|0,(e-s|0)-1|0))}}function M(r,n){if(void 0!==r){var e=r.v,t=r.l,o=r.r,i=M(t,n),a=n(e),u=M(o,n);return a?t===i&&o===u?r:y(i,e,u):x(i,u)}}function D(r,n){if(void 0!==r){var e=k(r),t=new Array(e);return N(t,0,U(r,0,t,n))}}function G(r,n){if(void 0===r)return[void 0,void 0];var e=k(r),t=new Array(e),o=e-1|0,i={forward:0,backward:o};T(r,i,t,n);var a=i.forward;return[N(t,0,a),I(t,o,e-a|0)]}function P(r,n,e){var t=A(r),o=A(n);if(t!==o)return t<o?-1:1;for(var i=l(r,0),a=l(n,0);;){var u=a,f=i;if(!f)return 0;if(!u)return 0;var s=u.hd,c=f.hd,v=e(c.v,s.v);if(0!==v)return v;a=l(s.r,u.tl),i=l(c.r,f.tl)}}function C(r){var n=r.l;r.l=n.r,n.r=r;var e=r.l,t=void 0!==e?e.h:0,o=r.r,i=void 0!==o?o.h:0;r.h=(t>i?t:i)+1|0;var a=n.l,u=void 0!==a?a.h:0,f=r.h;return n.h=(u>f?u:f)+1|0,n}function R(r){var n=r.r;r.r=n.l,n.l=r;var e=r.l,t=void 0!==e?e.h:0,o=r.r,i=void 0!==o?o.h:0;r.h=(t>i?t:i)+1|0;var a=n.r,u=void 0!==a?a.h:0,f=r.h;return n.h=(u>f?u:f)+1|0,n}function V(r){var n=r.l,e=void 0!==n?n.h:0,t=r.r,o=void 0!==t?t.h:0;return r.h=(e>o?e:o)+1|0,r}function O(r){var n,e,t=r.l,o=r.r,i=void 0!==t?t.h:0,a=void 0!==o?o.h:0;if(i>(2+a|0))return f(t.l,t.r)?V(C(r)):V((e=R((n=r).l),n.l=e,C(n)));if(a>(2+i|0)){var u=o.l;return f(o.r,u)?V(R(r)):V(function(r){var n=C(r.r);return r.r=n,R(r)}(r))}return r.h=(i>a?i:a)+1|0,r}function j(r,n,e){if(void 0===n)return u(e);var t=r(e,n.v);if(0===t)return n;var o=n.l,i=n.r;if(t<0){var a=j(r,o,e);n.l=a}else n.r=j(r,i,e);return O(n)}n.copy=function r(n){return void 0!==n?{v:n.v,h:n.h,l:r(n.l),r:r(n.r)}:n},n.create=a,n.bal=s,n.singleton=u,n.minimum=function(r){if(void 0!==r)return o.some(c(r))},n.minUndefined=function(r){if(void 0!==r)return c(r)},n.maximum=function(r){if(void 0!==r)return o.some(v(r))},n.maxUndefined=function(r){if(void 0!==r)return v(r)},n.removeMinAuxWithRef=d,n.isEmpty=function(r){return void 0===r},n.stackAllLeft=l,n.forEachU=p,n.forEach=function(r,n){p(r,t.__1(n))},n.reduceU=h,n.reduce=function(r,n,e){return h(r,n,t.__2(e))},n.everyU=m,n.every=function(r,n){return m(r,t.__1(n))},n.someU=g,n.some=function(r,n){return g(r,t.__1(n))},n.joinShared=y,n.concatShared=x,n.keepSharedU=M,n.keepShared=function(r,n){return M(r,t.__1(n))},n.keepCopyU=D,n.keepCopy=function(r,n){return D(r,t.__1(n))},n.partitionSharedU=b,n.partitionShared=function(r,n){return b(r,t.__1(n))},n.partitionCopyU=G,n.partitionCopy=function(r,n){return G(r,t.__1(n))},n.lengthNode=k,n.size=A,n.toList=function(r){return w(r,0)},n.checkInvariantInternal=function r(n){for(;;){var e=n;if(void 0===e)return;var t=e.l,o=e.r,i=(void 0!==t?t.h:0)-(void 0!==o?o.h:0)|0;if(!(i<=2&&i>=-2))throw{RE_EXN_ID:"Assert_failure",_1:["belt_internalAVLset.ml",290,4],Error:new Error};r(t),n=o}},n.fillArray=S,n.toArray=function(r){if(void 0===r)return[];var n=k(r),e=new Array(n);return S(r,0,e),e},n.fromSortedArrayAux=N,n.fromSortedArrayRevAux=I,n.fromSortedArrayUnsafe=function(r){return N(r,0,r.length)},n.has=function(r,n,e){for(;;){var t=r;if(void 0===t)return!1;var o=e(n,t.v);if(0===o)return!0;r=o<0?t.l:t.r}},n.cmp=P,n.eq=function(r,n,e){return 0===P(r,n,e)},n.subset=function r(n,e,t){for(;;){var o=e,i=n;if(void 0===i)return!0;if(void 0===o)return!1;var u=i.v,f=i.l,s=i.r,c=o.v,v=o.l,d=o.r,l=t(u,c);if(0!==l)if(l<0){if(!r(a(f,u,void 0),v,t))return!1;n=s}else{if(!r(a(void 0,u,s),d,t))return!1;n=f}else{if(!r(f,v,t))return!1;e=d,n=s}}},n.get=function(r,n,e){for(;;){var t=r;if(void 0===t)return;var i=t.v,a=e(n,i);if(0===a)return o.some(i);r=a<0?t.l:t.r}},n.getUndefined=function(r,n,e){for(;;){var t=r;if(void 0===t)return;var o=t.v,i=e(n,o);if(0===i)return o;r=i<0?t.l:t.r}},n.getExn=function(r,n,e){for(;;){var t=r;if(void 0===t)throw{RE_EXN_ID:"Not_found",Error:new Error};var o=t.v,i=e(n,o);if(0===i)return o;r=i<0?t.l:t.r}},n.fromArray=function(r,n){var e=r.length;if(0!==e){var t,o=i.strictlySortedLengthU(r,(function(r,e){return n(r,e)<0}));t=o>=0?N(r,0,o):I(r,(o=0|-o)-1|0,o);for(var a=o;a<e;++a)t=j(n,t,r[a]);return t}},n.addMutate=j,n.balMutate=O,n.removeMinAuxWithRootMutate=function r(n,e){var t=e.l,o=e.r;return void 0!==t?(e.l=r(n,t),O(e)):(n.v=e.v,o)}},6144:function(r,n,e){var t=e(1386),o=e(7175),i=e(2531);function a(r){return void 0!==r?r.h:0}function u(r,n,e,t){var o=a(r),i=a(t);return{k:n,v:e,h:o>=i?o+1|0:i+1|0,l:r,r:t}}function f(r,n){return{k:r,v:n,h:1,l:void 0,r:void 0}}function s(r,n){return void 0===n||void 0!==r&&r.h>=n.h}function c(r,n,e,t){var o=void 0!==r?r.h:0,i=void 0!==t?t.h:0;if(o>(i+2|0)){var f=r.l,s=r.r;return a(f)>=a(s)?u(f,r.k,r.v,u(s,n,e,t)):u(u(f,r.k,r.v,s.l),s.k,s.v,u(s.r,n,e,t))}if(i<=(o+2|0))return{k:n,v:e,h:o>=i?o+1|0:i+1|0,l:r,r:t};var c=t.l,v=t.r;return a(v)>=a(c)?u(u(r,n,e,c),t.k,t.v,v):u(u(r,n,e,c.l),c.k,c.v,u(c.r,t.k,t.v,v))}function v(r){for(;;){var n=r,e=n.l;if(void 0===e)return n.k;r=e}}function d(r){for(;;){var n=r,e=n.r;if(void 0===e)return n.k;r=e}}function l(r){for(;;){var n=r,e=n.l;if(void 0===e)return[n.k,n.v];r=e}}function p(r){for(;;){var n=r,e=n.r;if(void 0===e)return[n.k,n.v];r=e}}function h(r,n,e){var t=r.l;return void 0!==t?c(h(t,n,e),r.k,r.v,r.r):(n.contents=r.k,e.contents=r.v,r.r)}function m(r,n){for(;;){if(void 0===r)return n;n={hd:r,tl:n},r=r.l}}function g(r,n){if(void 0!==r){var e=g(r.l,n);if(void 0!==e)return e;var t=r.k,o=r.v;if(n(t,o))return[t,o];var i=g(r.r,n);return void 0!==i?i:void 0}}function _(r,n){for(;;){var e=r;if(void 0===e)return;_(e.l,n),n(e.k,e.v),r=e.r}}function E(r,n){if(void 0!==r){var e=E(r.l,n),t=n(r.v),o=E(r.r,n);return{k:r.k,v:t,h:r.h,l:e,r:o}}}function y(r,n){if(void 0!==r){var e=r.k,t=y(r.l,n),o=n(e,r.v),i=y(r.r,n);return{k:e,v:o,h:r.h,l:t,r:i}}}function x(r,n,e){for(;;){var t=n,o=r;if(void 0===o)return t;var i=o.k,a=o.v,u=o.l,f=o.r;n=e(x(u,t,e),i,a),r=f}}function b(r,n){for(;;){var e=r;if(void 0===e)return!0;if(!n(e.k,e.v))return!1;if(!b(e.l,n))return!1;r=e.r}}function k(r,n){for(;;){var e=r;if(void 0===e)return!1;if(n(e.k,e.v))return!0;if(k(e.l,n))return!0;r=e.r}}function A(r,n,e){return void 0!==r?c(A(r.l,n,e),r.k,r.v,r.r):f(n,e)}function w(r,n,e){return void 0!==r?c(r.l,r.k,r.v,w(r.r,n,e)):f(n,e)}function S(r,n,e,t){if(void 0===r)return A(t,n,e);if(void 0===t)return w(r,n,e);var o=r.k,i=r.v,a=r.h,f=r.l,s=r.r,v=t.k,d=t.v,l=t.h,p=t.l,h=t.r;return a>(l+2|0)?c(f,o,i,S(s,n,e,t)):l>(a+2|0)?c(S(r,n,e,p),v,d,h):u(r,n,e,t)}function T(r,n){if(void 0===r)return n;if(void 0===n)return r;var e={contents:n.k},t={contents:n.v},o=h(n,e,t);return S(r,e.contents,t.contents,o)}function U(r,n){if(void 0!==r){var e=r.k,t=r.v,o=U(r.l,n),i=n(e,t),a=U(r.r,n);return i?S(o,e,t,a):T(o,a)}}function I(r,n){if(void 0!==r){var e=r.k,t=r.v,i=I(r.l,n),a=n(e,t),u=I(r.r,n);return void 0!==a?S(i,e,o.valFromOption(a),u):T(i,u)}}function N(r,n){if(void 0===r)return[void 0,void 0];var e=r.k,t=r.v,o=N(r.l,n),i=o[1],a=o[0],u=n(e,t),f=N(r.r,n),s=f[1],c=f[0];return u?[S(a,e,t,c),T(i,s)]:[T(a,c),S(i,e,t,s)]}function M(r){var n=r.l,e=r.r;return(1+(void 0!==n?M(n):0)|0)+(void 0!==e?M(e):0)|0}function D(r){return void 0!==r?M(r):0}function G(r,n){for(;;){var e=n,t=r;if(void 0===t)return e;var o=t.k,i=t.v,a=t.l;n={hd:[o,i],tl:G(t.r,e)},r=a}}function P(r,n,e){for(;;){var t=n,o=r,i=o.k,a=o.l,u=o.r,f=void 0!==a?P(a,t,e):t;e[f]=i;var s=f+1|0;if(void 0===u)return s;n=s,r=u}}function C(r,n,e){for(;;){var t=n,o=r,i=o.l,a=o.r,u=void 0!==i?C(i,t,e):t;e[u]=o.v;var f=u+1|0;if(void 0===a)return f;n=f,r=a}}function R(r,n,e){for(;;){var t=n,o=r,i=o.l,a=o.k,u=o.r,f=void 0!==i?R(i,t,e):t;e[f]=[a,o.v];var s=f+1|0;if(void 0===u)return s;n=s,r=u}}function V(r,n,e){switch(e){case 0:return;case 1:var t=r[n];return f(t[0],t[1]);case 2:var o=r[n],i=r[n-1|0],a=o;return{k:i[0],v:i[1],h:2,l:f(a[0],a[1]),r:void 0};case 3:var s=r[n],c=r[n-1|0],v=r[n-2|0],d=c,l=s;return{k:d[0],v:d[1],h:2,l:f(l[0],l[1]),r:f(v[0],v[1])};default:var p=e/2|0,h=V(r,n,p),m=r[n-p|0],g=V(r,(n-p|0)-1|0,(e-p|0)-1|0);return u(h,m[0],m[1],g)}}function O(r,n,e){switch(e){case 0:return;case 1:var t=r[n];return f(t[0],t[1]);case 2:var o=r[n],i=r[n+1|0],a=o;return{k:i[0],v:i[1],h:2,l:f(a[0],a[1]),r:void 0};case 3:var s=r[n],c=r[n+1|0],v=r[n+2|0],d=c,l=s;return{k:d[0],v:d[1],h:2,l:f(l[0],l[1]),r:f(v[0],v[1])};default:var p=e/2|0,h=O(r,n,p),m=r[n+p|0],g=O(r,1+(n+p|0)|0,(e-p|0)-1|0);return u(h,m[0],m[1],g)}}function j(r,n,e,t){var o=D(r),i=D(n);if(o!==i)return o<i?-1:1;for(var a=m(r,0),u=m(n,0);;){var f=u,s=a;if(!s)return 0;if(!f)return 0;var c=f.hd,v=s.hd,d=e(v.k,c.k);if(0!==d)return d;var l=t(v.v,c.v);if(0!==l)return l;u=m(c.r,f.tl),a=m(v.r,s.tl)}}function z(r,n,e,t){if(D(r)!==D(n))return!1;for(var o=m(r,0),i=m(n,0);;){var a=i,u=o;if(!u)return!0;if(!a)return!0;var f=a.hd,s=u.hd;if(0!==e(s.k,f.k)||!t(s.v,f.v))return!1;i=m(f.r,a.tl),o=m(s.r,u.tl)}}function W(r){var n=r.l;r.l=n.r,n.r=r;var e=a(r.l),t=a(r.r);r.h=(e>t?e:t)+1|0;var o=a(n.l),i=r.h;return n.h=(o>i?o:i)+1|0,n}function F(r){var n=r.r;r.r=n.l,n.l=r;var e=a(r.l),t=a(r.r);r.h=(e>t?e:t)+1|0;var o=a(n.r),i=r.h;return n.h=(o>i?o:i)+1|0,n}function B(r){var n=a(r.l),e=a(r.r);return r.h=(n>e?n:e)+1|0,r}function X(r){var n,e,t=r.l,o=r.r,i=a(t),u=a(o);if(i>(2+u|0))return s(t.l,t.r)?B(W(r)):B((e=F((n=r).l),n.l=e,W(n)));if(u>(2+i|0)){var f=o.l;return s(o.r,f)?B(F(r)):B(function(r){var n=W(r.r);return r.r=n,F(r)}(r))}return r.h=(i>u?i:u)+1|0,r}function L(r,n,e,t){if(void 0===r)return f(n,e);var o=t(n,r.k);if(0===o)return r.v=e,r;var i=r.l,a=r.r;if(o<0){var u=L(i,n,e,t);r.l=u}else r.r=L(a,n,e,t);return X(r)}n.copy=function r(n){return void 0!==n?{k:n.k,v:n.v,h:n.h,l:r(n.l),r:r(n.r)}:n},n.create=u,n.bal=c,n.singleton=f,n.updateValue=function(r,n){return r.v===n?r:{k:r.k,v:n,h:r.h,l:r.l,r:r.r}},n.minKey=function(r){if(void 0!==r)return o.some(v(r))},n.minKeyUndefined=function(r){if(void 0!==r)return v(r)},n.maxKey=function(r){if(void 0!==r)return o.some(d(r))},n.maxKeyUndefined=function(r){if(void 0!==r)return d(r)},n.minimum=function(r){if(void 0!==r)return l(r)},n.minUndefined=function(r){if(void 0!==r)return l(r)},n.maximum=function(r){if(void 0!==r)return p(r)},n.maxUndefined=function(r){if(void 0!==r)return p(r)},n.removeMinAuxWithRef=h,n.isEmpty=function(r){return void 0===r},n.stackAllLeft=m,n.findFirstByU=g,n.findFirstBy=function(r,n){return g(r,t.__2(n))},n.forEachU=_,n.forEach=function(r,n){_(r,t.__2(n))},n.mapU=E,n.map=function(r,n){return E(r,t.__1(n))},n.mapWithKeyU=y,n.mapWithKey=function(r,n){return y(r,t.__2(n))},n.reduceU=x,n.reduce=function(r,n,e){return x(r,n,t.__3(e))},n.everyU=b,n.every=function(r,n){return b(r,t.__2(n))},n.someU=k,n.some=function(r,n){return k(r,t.__2(n))},n.join=S,n.concat=T,n.concatOrJoin=function(r,n,e,t){return void 0!==e?S(r,n,o.valFromOption(e),t):T(r,t)},n.keepSharedU=U,n.keepShared=function(r,n){return U(r,t.__2(n))},n.keepMapU=I,n.keepMap=function(r,n){return I(r,t.__2(n))},n.partitionSharedU=N,n.partitionShared=function(r,n){return N(r,t.__2(n))},n.lengthNode=M,n.size=D,n.toList=function(r){return G(r,0)},n.checkInvariantInternal=function r(n){for(;;){var e=n;if(void 0===e)return;var t=e.l,o=e.r,i=a(t)-a(o)|0;if(!(i<=2&&i>=-2))throw{RE_EXN_ID:"Assert_failure",_1:["belt_internalAVLtree.ml",373,4],Error:new Error};r(t),n=o}},n.fillArray=R,n.toArray=function(r){if(void 0===r)return[];var n=M(r),e=new Array(n);return R(r,0,e),e},n.keysToArray=function(r){if(void 0===r)return[];var n=M(r),e=new Array(n);return P(r,0,e),e},n.valuesToArray=function(r){if(void 0===r)return[];var n=M(r),e=new Array(n);return C(r,0,e),e},n.fromSortedArrayAux=O,n.fromSortedArrayRevAux=V,n.fromSortedArrayUnsafe=function(r){return O(r,0,r.length)},n.cmpU=j,n.cmp=function(r,n,e,o){return j(r,n,e,t.__2(o))},n.eqU=z,n.eq=function(r,n,e,o){return z(r,n,e,t.__2(o))},n.get=function(r,n,e){for(;;){var t=r;if(void 0===t)return;var i=e(n,t.k);if(0===i)return o.some(t.v);r=i<0?t.l:t.r}},n.getUndefined=function(r,n,e){for(;;){var t=r;if(void 0===t)return;var o=e(n,t.k);if(0===o)return t.v;r=o<0?t.l:t.r}},n.getWithDefault=function(r,n,e,t){for(;;){var o=r;if(void 0===o)return e;var i=t(n,o.k);if(0===i)return o.v;r=i<0?o.l:o.r}},n.getExn=function(r,n,e){for(;;){var t=r;if(void 0===t)throw{RE_EXN_ID:"Not_found",Error:new Error};var o=e(n,t.k);if(0===o)return t.v;r=o<0?t.l:t.r}},n.has=function(r,n,e){for(;;){var t=r;if(void 0===t)return!1;var o=e(n,t.k);if(0===o)return!0;r=o<0?t.l:t.r}},n.fromArray=function(r,n){var e=r.length;if(0!==e){var t,o=i.strictlySortedLengthU(r,(function(r,e){return n(r[0],e[0])<0}));t=o>=0?O(r,0,o):V(r,(o=0|-o)-1|0,o);for(var a=o;a<e;++a){var u=r[a];t=L(t,u[0],u[1],n)}return t}},n.updateMutate=L,n.balMutate=X,n.removeMinAuxWithRootMutate=function r(n,e){var t=e.r,o=e.l;return void 0!==o?(e.l=r(n,o),X(e)):(n.k=e.k,n.v=e.v,t)}},5252:function(r,n,e){var t=e(1386),o=e(2971),i=e(7175);function a(r){if(void 0===r)return r;var n={key:r.key,value:r.value,next:void 0};return function(r,n){for(;;){var e=n,t=r;if(void 0===t)return;var o={key:t.key,value:t.value,next:void 0};e.next=o,n=o,r=t.next}}(r.next,n),n}function u(r){for(var n=r.length,e=new Array(n),t=0;t<n;++t)e[t]=a(r[t]);return e}function f(r,n){for(;;){var e=r;if(void 0===n)return e;n=n.next,r=e+1|0}}function s(r,n){for(;;){var e=n;if(void 0===e)return;r(e.key,e.value),n=e.next}}function c(r,n){for(var e=r.buckets,t=0,o=e.length;t<o;++t)s(n,e[t])}function v(r,n,e){for(;;){var t=n;if(void 0===t)return e;e=r(e,t.key,t.value),n=t.next}}function d(r,n,e){for(var t=r.buckets,o=n,i=0,a=t.length;i<a;++i)o=v(e,t[i],o);return o}function l(r){var n=function(r){return o.reduceU(r.buckets,0,(function(r,n){var e=f(0,n);return r>e?r:e}))}(r),e=o.makeByU(n+1|0,(function(r){return 0}));return o.forEachU(r.buckets,(function(r){var n=f(0,r);e[n]=e[n]+1|0})),e}function p(r,n,e,t,o){for(;;){var a=o,u=t,f=a.next,s=r(a.key,a.value);if(void 0===s){if(n.size=n.size-1|0,void 0===f)return void(void 0!==u?u.next=f:n.buckets[e]=u);o=f}else{if(void 0!==u?a.next=a:n.buckets[e]=a,a.value=i.valFromOption(s),void 0===f)return void(a.next=f);o=f,t=a}}}function h(r,n){for(var e=r.buckets,t=0,o=e.length;t<o;++t){var i=e[t];void 0!==i&&p(n,r,t,void 0,i)}}function m(r,n,e,t){for(;;){var o=e,i=r;n[i]=t(o);var a=o.next;if(void 0===a)return i+1|0;e=a,r=i+1|0}}function g(r,n){for(var e=r.buckets,t=0,o=new Array(r.size),i=0,a=e.length;i<a;++i){var u=e[i];void 0!==u&&(t=m(t,o,u,n))}return o}n.C=void 0,n.copy=function(r){return{size:r.size,buckets:u(r.buckets),hash:r.hash,eq:r.eq}},n.forEachU=c,n.forEach=function(r,n){c(r,t.__2(n))},n.reduceU=d,n.reduce=function(r,n,e){return d(r,n,t.__3(e))},n.logStats=function(r){var n=l(r);console.log({bindings:r.size,buckets:r.buckets.length,histogram:n})},n.keepMapInPlaceU=h,n.keepMapInPlace=function(r,n){h(r,t.__2(n))},n.fillArray=function(r,n,e){for(;;){var t=e,o=r;n[o]=[t.key,t.value];var i=t.next;if(void 0===i)return o+1|0;e=i,r=o+1|0}},n.keysToArray=function(r){return g(r,(function(r){return r.key}))},n.valuesToArray=function(r){return g(r,(function(r){return r.value}))},n.toArray=function(r){return g(r,(function(r){return[r.key,r.value]}))},n.getBucketHistogram=l},354:function(r,n){n.emptyOpt=void 0,n.make=function(r,n,e){var t=function(r,n){for(;;){if(r>=n)return r;if(r<<1<r)return r;r<<=1}}(16,e);return{size:0,buckets:new Array(t),hash:r,eq:n}},n.clear=function(r){r.size=0;for(var n=r.buckets,e=n.length,t=0;t<e;++t)n[t]=void 0},n.isEmpty=function(r){return 0===r.size}},3163:function(r,n,e){var t=e(6253),o=e(1386),i=e(7175),a=e(2531),u=e(6144);function f(r,n){var e=n.k,t=n.v,o=n.l,a=n.r;if(r===e)return[o,i.some(t),a];if(r<e){if(void 0===o)return[void 0,void 0,n];var s=f(r,o);return[s[0],s[1],u.join(s[2],e,t,a)]}if(void 0===a)return[n,void 0,void 0];var c=f(r,a);return[u.join(o,e,t,c[0]),c[1],c[2]]}function s(r,n){return void 0!==n?f(r,n):[void 0,void 0,void 0]}function c(r,n,e){if(void 0!==r){if(r.h>=(void 0!==n?n.h:0)){var t=r.k,o=r.v,a=r.l,f=r.r,v=s(t,n);return u.concatOrJoin(c(a,v[0],e),t,e(t,i.some(o),v[1]),c(f,v[2],e))}}else if(void 0===n)return;var d=n.k,l=n.v,p=n.l,h=n.r,m=s(d,r);return u.concatOrJoin(c(m[0],p,e),d,e(d,m[1],i.some(l)),c(m[2],h,e))}function v(r,n,e){for(;;){var o=n,i=r;if(!i)return 0;if(!o)return 0;var a=o.hd,f=i.hd,s=t.int_compare(f.k,a.k);if(0!==s)return s;var c=e(f.v,a.v);if(0!==c)return c;n=u.stackAllLeft(a.r,o.tl),r=u.stackAllLeft(f.r,i.tl)}}function d(r,n,e){var t=u.size(r),o=u.size(n);return t===o?v(u.stackAllLeft(r,0),u.stackAllLeft(n,0),e):t<o?-1:1}function l(r,n,e){for(;;){var t=n,o=r;if(!o)return!0;if(!t)return!0;var i=t.hd,a=o.hd;if(a.k!==i.k||!e(a.v,i.v))return!1;n=u.stackAllLeft(i.r,t.tl),r=u.stackAllLeft(a.r,o.tl)}}function p(r,n,e){return u.size(r)===u.size(n)&&l(u.stackAllLeft(r,0),u.stackAllLeft(n,0),e)}function h(r,n,e){if(void 0===r)return u.singleton(n,e);var t=r.k;if(n===t)return r.k=n,r.v=e,r;var o=r.l,i=r.r;if(n<t){var a=h(o,n,e);r.l=a}else r.r=h(i,n,e);return u.balMutate(r)}n.N=void 0,n.A=void 0,n.S=void 0,n.add=function r(n,e,t){if(void 0===n)return u.singleton(e,t);var o=n.k;if(e===o)return u.updateValue(n,t);var i=n.v;return e<o?u.bal(r(n.l,e,t),o,i,n.r):u.bal(n.l,o,i,r(n.r,e,t))},n.get=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.k;if(n===t)return i.some(e.v);r=n<t?e.l:e.r}},n.getUndefined=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.k;if(n===t)return e.v;r=n<t?e.l:e.r}},n.getExn=function(r,n){for(;;){var e=r;if(void 0===e)throw{RE_EXN_ID:"Not_found",Error:new Error};var t=e.k;if(n===t)return e.v;r=n<t?e.l:e.r}},n.getWithDefault=function(r,n,e){for(;;){var t=r;if(void 0===t)return e;var o=t.k;if(n===o)return t.v;r=n<o?t.l:t.r}},n.has=function(r,n){for(;;){var e=r;if(void 0===e)return!1;var t=e.k;if(n===t)return!0;r=n<t?e.l:e.r}},n.remove=function r(n,e){if(void 0===n)return n;var t=n.k,o=n.l,i=n.r;if(e!==t)return e<t?u.bal(r(o,e),t,n.v,i):u.bal(o,t,n.v,r(i,e));if(void 0===o)return i;if(void 0===i)return o;var a={contents:i.k},f={contents:i.v},s=u.removeMinAuxWithRef(i,a,f);return u.bal(o,a.contents,f.contents,s)},n.splitAux=f,n.split=s,n.mergeU=c,n.merge=function(r,n,e){return c(r,n,o.__3(e))},n.compareAux=v,n.cmpU=d,n.cmp=function(r,n,e){return d(r,n,o.__2(e))},n.eqAux=l,n.eqU=p,n.eq=function(r,n,e){return p(r,n,o.__2(e))},n.addMutate=h,n.fromArray=function(r){var n=r.length;if(0!==n){var e,t=a.strictlySortedLengthU(r,(function(r,n){return r[0]<n[0]}));t>=0?e=u.fromSortedArrayAux(r,0,t):(t=0|-t,e=u.fromSortedArrayRevAux(r,t-1|0,t));for(var o=t;o<n;++o){var i=r[o];e=h(e,i[0],i[1])}return e}}},2459:function(r,n,e){var t=e(6253),o=e(1386),i=e(7175),a=e(2531),u=e(6144);function f(r,n){var e=n.k,t=n.v,o=n.l,a=n.r;if(r===e)return[o,i.some(t),a];if(r<e){if(void 0===o)return[void 0,void 0,n];var s=f(r,o);return[s[0],s[1],u.join(s[2],e,t,a)]}if(void 0===a)return[n,void 0,void 0];var c=f(r,a);return[u.join(o,e,t,c[0]),c[1],c[2]]}function s(r,n){return void 0!==n?f(r,n):[void 0,void 0,void 0]}function c(r,n,e){if(void 0!==r){if(r.h>=(void 0!==n?n.h:0)){var t=r.k,o=r.v,a=r.l,f=r.r,v=s(t,n);return u.concatOrJoin(c(a,v[0],e),t,e(t,i.some(o),v[1]),c(f,v[2],e))}}else if(void 0===n)return;var d=n.k,l=n.v,p=n.l,h=n.r,m=s(d,r);return u.concatOrJoin(c(m[0],p,e),d,e(d,m[1],i.some(l)),c(m[2],h,e))}function v(r,n,e){for(;;){var o=n,i=r;if(!i)return 0;if(!o)return 0;var a=o.hd,f=i.hd,s=t.string_compare(f.k,a.k);if(0!==s)return s;var c=e(f.v,a.v);if(0!==c)return c;n=u.stackAllLeft(a.r,o.tl),r=u.stackAllLeft(f.r,i.tl)}}function d(r,n,e){var t=u.size(r),o=u.size(n);return t===o?v(u.stackAllLeft(r,0),u.stackAllLeft(n,0),e):t<o?-1:1}function l(r,n,e){for(;;){var t=n,o=r;if(!o)return!0;if(!t)return!0;var i=t.hd,a=o.hd;if(a.k!==i.k||!e(a.v,i.v))return!1;n=u.stackAllLeft(i.r,t.tl),r=u.stackAllLeft(a.r,o.tl)}}function p(r,n,e){return u.size(r)===u.size(n)&&l(u.stackAllLeft(r,0),u.stackAllLeft(n,0),e)}function h(r,n,e){if(void 0===r)return u.singleton(n,e);var t=r.k;if(n===t)return r.k=n,r.v=e,r;var o=r.l,i=r.r;if(n<t){var a=h(o,n,e);r.l=a}else r.r=h(i,n,e);return u.balMutate(r)}n.N=void 0,n.A=void 0,n.S=void 0,n.add=function r(n,e,t){if(void 0===n)return u.singleton(e,t);var o=n.k;if(e===o)return u.updateValue(n,t);var i=n.v;return e<o?u.bal(r(n.l,e,t),o,i,n.r):u.bal(n.l,o,i,r(n.r,e,t))},n.get=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.k;if(n===t)return i.some(e.v);r=n<t?e.l:e.r}},n.getUndefined=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.k;if(n===t)return e.v;r=n<t?e.l:e.r}},n.getExn=function(r,n){for(;;){var e=r;if(void 0===e)throw{RE_EXN_ID:"Not_found",Error:new Error};var t=e.k;if(n===t)return e.v;r=n<t?e.l:e.r}},n.getWithDefault=function(r,n,e){for(;;){var t=r;if(void 0===t)return e;var o=t.k;if(n===o)return t.v;r=n<o?t.l:t.r}},n.has=function(r,n){for(;;){var e=r;if(void 0===e)return!1;var t=e.k;if(n===t)return!0;r=n<t?e.l:e.r}},n.remove=function r(n,e){if(void 0===n)return n;var t=n.k,o=n.l,i=n.r;if(e!==t)return e<t?u.bal(r(o,e),t,n.v,i):u.bal(o,t,n.v,r(i,e));if(void 0===o)return i;if(void 0===i)return o;var a={contents:i.k},f={contents:i.v},s=u.removeMinAuxWithRef(i,a,f);return u.bal(o,a.contents,f.contents,s)},n.splitAux=f,n.split=s,n.mergeU=c,n.merge=function(r,n,e){return c(r,n,o.__3(e))},n.compareAux=v,n.cmpU=d,n.cmp=function(r,n,e){return d(r,n,o.__2(e))},n.eqAux=l,n.eqU=p,n.eq=function(r,n,e){return p(r,n,o.__2(e))},n.addMutate=h,n.fromArray=function(r){var n=r.length;if(0!==n){var e,t=a.strictlySortedLengthU(r,(function(r,n){return r[0]<n[0]}));t>=0?e=u.fromSortedArrayAux(r,0,t):(t=0|-t,e=u.fromSortedArrayRevAux(r,t-1|0,t));for(var o=t;o<n;++o){var i=r[o];e=h(e,i[0],i[1])}return e}}},9167:function(r,n,e){var t=e(1386),o=e(2971);function i(r){if(void 0===r)return r;var n={key:r.key,next:void 0};return function(r,n){for(;;){var e=n,t=r;if(void 0===t)return;var o={key:t.key,next:void 0};e.next=o,n=o,r=t.next}}(r.next,n),n}function a(r){for(var n=r.length,e=new Array(n),t=0;t<n;++t)e[t]=i(r[t]);return e}function u(r,n){for(;;){var e=r;if(void 0===n)return e;n=n.next,r=e+1|0}}function f(r,n){for(;;){var e=n;if(void 0===e)return;r(e.key),n=e.next}}function s(r,n){for(var e=r.buckets,t=0,o=e.length;t<o;++t)f(n,e[t])}function c(r,n,e){for(;;){var t=e,o=r;n[o]=t.key;var i=t.next;if(void 0===i)return o+1|0;e=i,r=o+1|0}}function v(r,n,e){for(;;){var t=n;if(void 0===t)return e;e=r(e,t.key),n=t.next}}function d(r,n,e){for(var t=r.buckets,o=n,i=0,a=t.length;i<a;++i)o=v(e,t[i],o);return o}function l(r){var n=function(r){return o.reduceU(r.buckets,0,(function(r,n){var e=u(0,n);return r>e?r:e}))}(r),e=o.makeByU(n+1|0,(function(r){return 0}));return o.forEachU(r.buckets,(function(r){var n=u(0,r);e[n]=e[n]+1|0})),e}n.C=void 0,n.copy=function(r){return{size:r.size,buckets:a(r.buckets),hash:r.hash,eq:r.eq}},n.forEachU=s,n.forEach=function(r,n){s(r,t.__1(n))},n.fillArray=c,n.toArray=function(r){for(var n=r.buckets,e=0,t=new Array(r.size),o=0,i=n.length;o<i;++o){var a=n[o];void 0!==a&&(e=c(e,t,a))}return t},n.reduceU=d,n.reduce=function(r,n,e){return d(r,n,t.__2(e))},n.logStats=function(r){var n=l(r);console.log({bindings:r.size,buckets:r.buckets.length,histogram:n})},n.getBucketHistogram=l},9113:function(r,n,e){var t=e(3282),o=e(4881);function i(r,n){for(;;){var e=n,t=r;if(!t)return 0;if(!e)return 0;var i=e.hd,a=t.hd,u=a.v,f=i.v;if(u!==f)return u<f?-1:1;n=o.stackAllLeft(i.r,e.tl),r=o.stackAllLeft(a.r,t.tl)}}function a(r,n){var e=o.size(r),t=o.size(n);return e===t?i(o.stackAllLeft(r,0),o.stackAllLeft(n,0)):e<t?-1:1}function u(r,n){if(void 0===r)return o.singleton(n);var e=r.v;if(n===e)return r;var t=r.l,i=r.r;return n<e?r.l=u(t,n):r.r=u(i,n),o.balMutate(r)}n.S=void 0,n.N=void 0,n.A=void 0,n.has=function(r,n){for(;;){var e=r;if(void 0===e)return!1;var t=e.v;if(n===t)return!0;r=n<t?e.l:e.r}},n.compareAux=i,n.cmp=a,n.eq=function(r,n){return 0===a(r,n)},n.subset=function r(n,e){for(;;){var t=e,i=n;if(void 0===i)return!0;if(void 0===t)return!1;var a=i.v,u=i.l,f=i.r,s=t.v,c=t.l,v=t.r;if(a!==s)if(a<s){if(!r(o.create(u,a,void 0),c))return!1;n=f}else{if(!r(o.create(void 0,a,f),v))return!1;n=u}else{if(!r(u,c))return!1;e=v,n=f}}},n.get=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.v;if(n===t)return t;r=n<t?e.l:e.r}},n.getUndefined=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.v;if(n===t)return t;r=n<t?e.l:e.r}},n.getExn=function(r,n){for(;;){var e=r;if(void 0===e)throw{RE_EXN_ID:"Not_found",Error:new Error};var t=e.v;if(n===t)return t;r=n<t?e.l:e.r}},n.addMutate=u,n.fromArray=function(r){var n=r.length;if(0!==n){var e,i=t.strictlySortedLength(r);i>=0?e=o.fromSortedArrayAux(r,0,i):(i=0|-i,e=o.fromSortedArrayRevAux(r,i-1|0,i));for(var a=i;a<n;++a)e=u(e,r[a]);return e}}},1572:function(r,n,e){var t=e(4881),o=e(8466);function i(r,n){for(;;){var e=n,o=r;if(!o)return 0;if(!e)return 0;var i=e.hd,a=o.hd,u=a.v,f=i.v;if(u!==f)return u<f?-1:1;n=t.stackAllLeft(i.r,e.tl),r=t.stackAllLeft(a.r,o.tl)}}function a(r,n){var e=t.size(r),o=t.size(n);return e===o?i(t.stackAllLeft(r,0),t.stackAllLeft(n,0)):e<o?-1:1}function u(r,n){if(void 0===r)return t.singleton(n);var e=r.v;if(n===e)return r;var o=r.l,i=r.r;return n<e?r.l=u(o,n):r.r=u(i,n),t.balMutate(r)}n.S=void 0,n.N=void 0,n.A=void 0,n.has=function(r,n){for(;;){var e=r;if(void 0===e)return!1;var t=e.v;if(n===t)return!0;r=n<t?e.l:e.r}},n.compareAux=i,n.cmp=a,n.eq=function(r,n){return 0===a(r,n)},n.subset=function r(n,e){for(;;){var o=e,i=n;if(void 0===i)return!0;if(void 0===o)return!1;var a=i.v,u=i.l,f=i.r,s=o.v,c=o.l,v=o.r;if(a!==s)if(a<s){if(!r(t.create(u,a,void 0),c))return!1;n=f}else{if(!r(t.create(void 0,a,f),v))return!1;n=u}else{if(!r(u,c))return!1;e=v,n=f}}},n.get=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.v;if(n===t)return t;r=n<t?e.l:e.r}},n.getUndefined=function(r,n){for(;;){var e=r;if(void 0===e)return;var t=e.v;if(n===t)return t;r=n<t?e.l:e.r}},n.getExn=function(r,n){for(;;){var e=r;if(void 0===e)throw{RE_EXN_ID:"Not_found",Error:new Error};var t=e.v;if(n===t)return t;r=n<t?e.l:e.r}},n.addMutate=u,n.fromArray=function(r){var n=r.length;if(0!==n){var e,i=o.strictlySortedLength(r);i>=0?e=t.fromSortedArrayAux(r,0,i):(i=0|-i,e=t.fromSortedArrayRevAux(r,i-1|0,i));for(var a=i;a<n;++a)e=u(e,r[a]);return e}}},6253:function(r,n){function e(r,n){return r[1]===n[1]&&r[0]===n[0]}function t(r,n){var e=n[0],t=r[0];return t>e||!(t<e)&&r[1]>=n[1]}function o(r,n){return r[0]>n[0]||!(r[0]<n[0])&&r[1]>n[1]}n.int_compare=function(r,n){return r<n?-1:r===n?0:1},n.bool_compare=function(r,n){return r?n?0:1:n?-1:0},n.float_compare=function(r,n){return r===n?0:r<n?-1:r>n||r==r?1:n==n?-1:0},n.string_compare=function(r,n){return r===n?0:r<n?-1:1},n.bool_min=function(r,n){return r?n:r},n.int_min=function(r,n){return r<n?r:n},n.float_min=function(r,n){return r<n?r:n},n.string_min=function(r,n){return r<n?r:n},n.bool_max=function(r,n){return r||n},n.int_max=function(r,n){return r>n?r:n},n.float_max=function(r,n){return r>n?r:n},n.string_max=function(r,n){return r>n?r:n},n.i64_eq=e,n.i64_neq=function(r,n){return!e(r,n)},n.i64_lt=function(r,n){return!t(r,n)},n.i64_gt=o,n.i64_le=function(r,n){return!o(r,n)},n.i64_ge=t,n.i64_min=function(r,n){return t(r,n)?n:r},n.i64_max=function(r,n){return o(r,n)?r:n}},1748:function(r,n){n.dup=function(r){return r.slice(0)},n.sub=function(r,n,e){for(var t=new Array(e),o=0,i=n;o<e;)t[o]=r[i],o=o+1|0,i=i+1|0;return t},n.concat=function(r){var n=function(r,n){for(;;){var e=n,t=r;if(!e)return t;n=e.tl,r=e.hd.length+t|0}}(0,r),e=new Array(n);return function(r,n,e){for(;;){var t=e,o=n;if(!t)return;for(var i=t.hd,a=i.length,u=o,f=0;f<a;)r[u]=i[f],u=u+1|0,f=f+1|0;e=t.tl,n=u}}(e,0,r),e},n.make=function(r,n){for(var e=new Array(r),t=0;t<r;++t)e[t]=n;return e},n.make_float=function(r){for(var n=new Array(r),e=0;e<r;++e)n[e]=0;return n},n.blit=function(r,n,e,t,o){if(t<=n)for(var i=0;i<o;++i)e[i+t|0]=r[i+n|0];else for(var a=o-1|0;a>=0;--a)e[a+t|0]=r[a+n|0]},n.get=function(r,n){if(n<0||n>=r.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error};return r[n]},n.set=function(r,n,e){if(n<0||n>=r.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error};r[n]=e}},6181:function(r,n){var e={contents:0};n.id=e,n.create=function(r){return e.contents=e.contents+1|0,r+"/"+e.contents},n.is_extension=function(r){return null!=r&&"string"==typeof r.RE_EXN_ID},n.exn_slot_name=function(r){return r.RE_EXN_ID}},1863:function(r,n){function e(r,n){return r<<n|r>>>(32-n|0)|0}function t(r,n){var t=n;t=e(t=Math.imul(t,-862048943),15);var o=r^(t=Math.imul(t,461845907));return((o=e(o,13))+(o<<2)|0)-430675100|0}n.hash_mix_int=t,n.hash_mix_string=function(r,n){for(var e=n.length,o=(e/4|0)-1|0,i=r,a=0;a<=o;++a){var u=a<<2;i=t(i,n.charCodeAt(u)|n.charCodeAt(u+1|0)<<8|n.charCodeAt(u+2|0)<<16|n.charCodeAt(u+3|0)<<24)}var f=3&e;return 0!==f&&(i=t(i,3===f?n.charCodeAt(e-1|0)<<16|n.charCodeAt(e-2|0)<<8|n.charCodeAt(e-3|0):2===f?n.charCodeAt(e-1|0)<<8|n.charCodeAt(e-2|0):n.charCodeAt(e-1|0))),i^e},n.hash_final_mix=function(r){var n=r^r>>>16;return n=Math.imul(n,-2048144789),n^=n>>>13,(n=Math.imul(n,-1028477387))^n>>>16}},8723:function(r,n){n.div=function(r,n){if(0===n)throw{RE_EXN_ID:"Division_by_zero",Error:new Error};return r/n|0},n.mod_=function(r,n){if(0===n)throw{RE_EXN_ID:"Division_by_zero",Error:new Error};return r%n}},4518:function(r,n,e){var t=e(7175),o=e(6181),i="JsError";n.$$Error=i,n.internalToOCamlException=function(r){return o.is_extension(r)?r:{RE_EXN_ID:"JsError",_1:r}},n.as_js_exn=function(r){if(r.RE_EXN_ID===i)return t.some(r._1)}},4923:function(r,n,e){var t=e(6253),o=function(r,n){for(var e in r)n(e)};function i(r,n){if(r===n)return 0;var e=typeof r,o=typeof n;switch(e){case"boolean":if("boolean"===o)return t.bool_compare(r,n);break;case"function":if("function"===o)throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:new Error};break;case"number":if("number"===o)return t.int_compare(r,n);break;case"string":return"string"===o?t.string_compare(r,n):1;case"undefined":return-1}switch(o){case"string":return-1;case"undefined":return 1;default:if("boolean"===e)return 1;if("boolean"===o)return-1;if("function"===e)return 1;if("function"===o)return-1;if("number"===e)return null===n||void 0!==n.BS_PRIVATE_NESTED_SOME_NONE?1:-1;if("number"===o)return null===r||void 0!==r.BS_PRIVATE_NESTED_SOME_NONE?-1:1;if(null===r)return void 0!==n.BS_PRIVATE_NESTED_SOME_NONE?1:-1;if(null===n)return void 0!==r.BS_PRIVATE_NESTED_SOME_NONE?-1:1;if(void 0!==r.BS_PRIVATE_NESTED_SOME_NONE)return void 0!==n.BS_PRIVATE_NESTED_SOME_NONE?a(r,n):-1;var u=0|r.TAG,f=0|n.TAG;if(248===u)return t.int_compare(r[1],n[1]);if(251===u)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(u!==f)return u<f?-1:1;var s=0|r.length,c=0|n.length;if(s===c){if(!Array.isArray(r))return r instanceof Date&&n instanceof Date?r-n:a(r,n);for(var v=0;;){var d=v;if(d===s)return 0;var l=i(r[d],n[d]);if(0!==l)return l;v=d+1|0}}else if(s<c)for(var p=0;;){var h=p;if(h===s)return-1;var m=i(r[h],n[h]);if(0!==m)return m;p=h+1|0}else for(var g=0;;){var _=g;if(_===c)return 1;var E=i(r[_],n[_]);if(0!==E)return E;g=_+1|0}}}function a(r,n){var e={contents:void 0},a={contents:void 0},u=function(r,n){var e=r[2],t=r[1];if(!Object.prototype.hasOwnProperty.call(t,n)||i(r[0][n],t[n])>0){var o=e.contents;return void 0!==o&&n>=o?void 0:void(e.contents=n)}},f=[r,n,a],s=[n,r,e];o(r,(function(r){return u(f,r)})),o(n,(function(r){return u(s,r)}));var c=e.contents,v=a.contents;return void 0!==c?void 0!==v?t.string_compare(c,v):-1:void 0!==v?1:0}function u(r,n){if(r===n)return!0;var e=typeof r;if("string"===e||"number"===e||"boolean"===e||"undefined"===e||null===r)return!1;var t=typeof n;if("function"===e||"function"===t)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: functional value",Error:new Error};if("number"===t||"undefined"===t||null===n)return!1;var i=0|r.TAG,a=0|n.TAG;if(248===i)return r[1]===n[1];if(251===i)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(i!==a)return!1;var f=0|r.length;if(f!==(0|n.length))return!1;if(!Array.isArray(r)){if(r instanceof Date&&n instanceof Date)return!(r>n||r<n);var s={contents:!0};return o(r,(function(r){Object.prototype.hasOwnProperty.call(n,r)||(s.contents=!1)})),s.contents&&o(n,(function(e){Object.prototype.hasOwnProperty.call(r,e)&&u(n[e],r[e])||(s.contents=!1)})),s.contents}for(var c=0;;){var v=c;if(v===f)return!0;if(!u(r[v],n[v]))return!1;c=v+1|0}}n.obj_dup=function(r){if(Array.isArray(r)){for(var n=r.length,e=new Array(n),t=0;t<n;++t)e[t]=r[t];return void 0!==r.TAG&&(e.TAG=r.TAG),e}return Object.assign({},r)},n.update_dummy=function(r,n){if(Array.isArray(n)){for(e=0;e<n.length;++e)r[e]=n[e];void 0!==n.TAG&&(r.TAG=n.TAG)}else for(var e in n)r[e]=n[e]},n.compare=i,n.equal=u,n.equal_null=function(r,n){return null!==n?u(r,n):r===n},n.equal_undefined=function(r,n){return void 0!==n?u(r,n):r===n},n.equal_nullable=function(r,n){return null==n?r===n:u(r,n)},n.notequal=function(r,n){return!u(r,n)},n.greaterequal=function(r,n){return i(r,n)>=0},n.greaterthan=function(r,n){return i(r,n)>0},n.lessthan=function(r,n){return i(r,n)<0},n.lessequal=function(r,n){return i(r,n)<=0},n.min=function(r,n){return i(r,n)<=0?r:n},n.max=function(r,n){return i(r,n)>=0?r:n}},7175:function(r,n){function e(r){return void 0===r?{BS_PRIVATE_NESTED_SOME_NONE:0}:null!==r&&void 0!==r.BS_PRIVATE_NESTED_SOME_NONE?{BS_PRIVATE_NESTED_SOME_NONE:r.BS_PRIVATE_NESTED_SOME_NONE+1|0}:r}function t(r){if(null===r||void 0===r.BS_PRIVATE_NESTED_SOME_NONE)return r;var n=r.BS_PRIVATE_NESTED_SOME_NONE;return 0===n?void 0:{BS_PRIVATE_NESTED_SOME_NONE:n-1|0}}n.nullable_to_opt=function(r){return null==r?void 0:e(r)},n.undefined_to_opt=function(r){return void 0===r?void 0:e(r)},n.null_to_opt=function(r){return null===r?void 0:e(r)},n.valFromOption=t,n.some=e,n.isNested=function(r){return void 0!==r.BS_PRIVATE_NESTED_SOME_NONE},n.option_get=function(r){return void 0===r?void 0:t(r)},n.option_unwrap=function(r){return void 0!==r?r.VAL:r}},3533:function(r,n){n.spliceApply=function(r,n){var e,t;t=n.length;var o=[];for(e=0;e<t-1;++e)o.push(n[e]);var i=n[t-1];for(e=0;e<i.length;++e)o.push(i[e]);return r.apply(null,o)},n.spliceNewApply=function(r,n){var e,t;t=n.length;var o=[null];for(e=0;e<t-1;++e)o.push(n[e]);var i=n[t-1];for(e=0;e<i.length;++e)o.push(i[e]);return new(Function.prototype.bind.apply(r,o))},n.spliceObjApply=function(r,n,e){var t,o;o=e.length;var i=[];for(t=0;t<o-1;++t)i.push(e[t]);var a=e[o-1];for(t=0;t<a.length;++t)i.push(a[t]);return r[n].apply(r,i)}},1386:function(r,n,e){var t=e(1748);function o(r,n){for(;;){var e=n,i=r,a=i.length,u=0===a?1:a,f=u-e.length|0;if(0===f)return i.apply(null,e);if(f>=0)return function(r,n){return function(e){return o(r,n.concat([e]))}}(i,e);n=t.sub(e,u,0|-f),r=i.apply(null,t.sub(e,0,u))}}function i(r,n){var e=r.length;if(1===e)return r(n);switch(e){case 1:return r(n);case 2:return function(e){return r(n,e)};case 3:return function(e,t){return r(n,e,t)};case 4:return function(e,t,o){return r(n,e,t,o)};case 5:return function(e,t,o,i){return r(n,e,t,o,i)};case 6:return function(e,t,o,i,a){return r(n,e,t,o,i,a)};case 7:return function(e,t,o,i,a,u){return r(n,e,t,o,i,a,u)};default:return o(r,[n])}}function a(r,n,e){var t=r.length;if(2===t)return r(n,e);switch(t){case 1:return o(r(n),[e]);case 2:return r(n,e);case 3:return function(t){return r(n,e,t)};case 4:return function(t,o){return r(n,e,t,o)};case 5:return function(t,o,i){return r(n,e,t,o,i)};case 6:return function(t,o,i,a){return r(n,e,t,o,i,a)};case 7:return function(t,o,i,a,u){return r(n,e,t,o,i,a,u)};default:return o(r,[n,e])}}function u(r,n,e,t){var i=r.length;if(3===i)return r(n,e,t);switch(i){case 1:return o(r(n),[e,t]);case 2:return o(r(n,e),[t]);case 3:return r(n,e,t);case 4:return function(o){return r(n,e,t,o)};case 5:return function(o,i){return r(n,e,t,o,i)};case 6:return function(o,i,a){return r(n,e,t,o,i,a)};case 7:return function(o,i,a,u){return r(n,e,t,o,i,a,u)};default:return o(r,[n,e,t])}}function f(r,n,e,t,i){var a=r.length;if(4===a)return r(n,e,t,i);switch(a){case 1:return o(r(n),[e,t,i]);case 2:return o(r(n,e),[t,i]);case 3:return o(r(n,e,t),[i]);case 4:return r(n,e,t,i);case 5:return function(o){return r(n,e,t,i,o)};case 6:return function(o,a){return r(n,e,t,i,o,a)};case 7:return function(o,a,u){return r(n,e,t,i,o,a,u)};default:return o(r,[n,e,t,i])}}function s(r,n,e,t,i,a){var u=r.length;if(5===u)return r(n,e,t,i,a);switch(u){case 1:return o(r(n),[e,t,i,a]);case 2:return o(r(n,e),[t,i,a]);case 3:return o(r(n,e,t),[i,a]);case 4:return o(r(n,e,t,i),[a]);case 5:return r(n,e,t,i,a);case 6:return function(o){return r(n,e,t,i,a,o)};case 7:return function(o,u){return r(n,e,t,i,a,o,u)};default:return o(r,[n,e,t,i,a])}}function c(r,n,e,t,i,a,u){var f=r.length;if(6===f)return r(n,e,t,i,a,u);switch(f){case 1:return o(r(n),[e,t,i,a,u]);case 2:return o(r(n,e),[t,i,a,u]);case 3:return o(r(n,e,t),[i,a,u]);case 4:return o(r(n,e,t,i),[a,u]);case 5:return o(r(n,e,t,i,a),[u]);case 6:return r(n,e,t,i,a,u);case 7:return function(o){return r(n,e,t,i,a,u,o)};default:return o(r,[n,e,t,i,a,u])}}function v(r,n,e,t,i,a,u,f){var s=r.length;if(7===s)return r(n,e,t,i,a,u,f);switch(s){case 1:return o(r(n),[e,t,i,a,u,f]);case 2:return o(r(n,e),[t,i,a,u,f]);case 3:return o(r(n,e,t),[i,a,u,f]);case 4:return o(r(n,e,t,i),[a,u,f]);case 5:return o(r(n,e,t,i,a),[u,f]);case 6:return o(r(n,e,t,i,a,u),[f]);case 7:return r(n,e,t,i,a,u,f);default:return o(r,[n,e,t,i,a,u,f])}}function d(r,n,e,t,i,a,u,f,s){var c=r.length;if(8===c)return r(n,e,t,i,a,u,f,s);switch(c){case 1:return o(r(n),[e,t,i,a,u,f,s]);case 2:return o(r(n,e),[t,i,a,u,f,s]);case 3:return o(r(n,e,t),[i,a,u,f,s]);case 4:return o(r(n,e,t,i),[a,u,f,s]);case 5:return o(r(n,e,t,i,a),[u,f,s]);case 6:return o(r(n,e,t,i,a,u),[f,s]);case 7:return o(r(n,e,t,i,a,u,f),[s]);default:return o(r,[n,e,t,i,a,u,f,s])}}n.app=o,n._1=i,n.__1=function(r){return 1===r.length?r:function(n){return i(r,n)}},n._2=a,n.__2=function(r){return 2===r.length?r:function(n,e){return a(r,n,e)}},n._3=u,n.__3=function(r){return 3===r.length?r:function(n,e,t){return u(r,n,e,t)}},n._4=f,n.__4=function(r){return 4===r.length?r:function(n,e,t,o){return f(r,n,e,t,o)}},n._5=s,n.__5=function(r){return 5===r.length?r:function(n,e,t,o,i){return s(r,n,e,t,o,i)}},n._6=c,n.__6=function(r){return 6===r.length?r:function(n,e,t,o,i,a){return c(r,n,e,t,o,i,a)}},n._7=v,n.__7=function(r){return 7===r.length?r:function(n,e,t,o,i,a,u){return v(r,n,e,t,o,i,a,u)}},n._8=d,n.__8=function(r){return 8===r.length?r:function(n,e,t,o,i,a,u,f){return d(r,n,e,t,o,i,a,u,f)}}},7076:function(r,n,e){var t=e(7175);n.get=function(r,n){if(n in r)return t.some(r[n])},n.unsafeDeleteKey=function(r,n){delete r[n]},n.entries=function(r){for(var n=Object.keys(r),e=n.length,t=new Array(e),o=0;o<e;++o){var i=n[o];t[o]=[i,r[i]]}return t},n.values=function(r){for(var n=Object.keys(r),e=n.length,t=new Array(e),o=0;o<e;++o)t[o]=r[n[o]];return t},n.fromList=function(r){for(var n={},e=r;;){var t=e;if(!t)return n;var o=t.hd;n[o[0]]=o[1],e=t.tl}},n.fromArray=function(r){for(var n={},e=r.length,t=0;t<e;++t){var o=r[t];n[o[0]]=o[1]}return n},n.map=function(r,n){for(var e={},t=Object.keys(n),o=t.length,i=0;i<o;++i){var a=t[i];e[a]=r(n[a])}return e}},2900:function(r,n){n.$$Error="JsError",n.raiseError=function(r){throw new Error(r)},n.raiseEvalError=function(r){throw new EvalError(r)},n.raiseRangeError=function(r){throw new RangeError(r)},n.raiseReferenceError=function(r){throw new ReferenceError(r)},n.raiseSyntaxError=function(r){throw new SyntaxError(r)},n.raiseTypeError=function(r){throw new TypeError(r)},n.raiseUriError=function(r){throw new URIError(r)}},1589:function(r,n){n.equal=function(r,n){return r===n},n.max=2147483647,n.min=-2147483648},4763:function(r,n,e){var t=e(1589);function o(r){return r>t.max?t.max:r<t.min?t.min:Math.ceil(r)}function i(r){return r>t.max?t.max:r<t.min?t.min:Math.floor(r)}var a=o,u=i;n.unsafe_ceil=function(r){return Math.ceil(r)},n.ceil_int=o,n.ceil=a,n.unsafe_floor=function(r){return Math.floor(r)},n.floor_int=i,n.floor=u,n.random_int=function(r,n){return i(Math.random()*(n-r|0))+r|0}},194:function(r,n,e){var t=e(1386);n.then_=function(r,n){return n.then(t.__1(r))},n.$$catch=function(r,n){return n.catch(t.__1(r))}},8753:function(r,n,e){var t=e(1386),o=e(6638),i=e(2971),a=e(1748),u=e(3942),f=e(6517),s=e(9775),c=e(5082),v=e(519),d=e(3506),l=e(4125);function p(r,n){return!(!f.isNone(r.err)||!f.isNone(n.err)||r.asrtLabel!==n.asrtLabel)&&v.subsEq(r.subs,n.subs)}function h(r){return d.hash2(d.hashStr(r.asrtLabel),v.subsHash(r.subs))}var m=o.MakeHashable({hash:h,eq:p});function g(r,n,e,o,i,u){if(e===n.length)return n.some((function(r){return-1===r}))?o?0:t._1(u,n):i?0:t._1(u,n);for(var f=0,s=0,c=a.get(r,e).length-1|0;0===f&&s<=c;)a.set(n,e,a.get(a.get(r,e),s)),-1===a.get(n,e)&&o||(f=g(r,n,e+1|0,o,i,u)),s=s+1|0;return f}function _(r,n,e,o,u,f){for(var s=i.makeBy(n,(function(r){return[]})),c=n-1|0,v=r-1|0,d=0;d<=c;++d)for(var l=-1;l<=v;++l)t._2(e,l,d)&&a.get(s,d).push(l);var p=s.findIndex((function(r){return 0===r.length}));if(-1!==p)return o>=2?t._1(f,{TAG:4,args:[],errArgIdx:p}):0;var h=i.make(n,0),m=g(s,h,0,!0,!1,u);return 0===m?g(s,h,0,!1,!0,u):m}function E(r,n,e,o,i){var u=r.newVars.length,f=n.subs.isDefined.slice(),s={contents:(r.maxVar+1|0)+r.newVars.length|0},c=[],d=[],l=[];v.applySubs(o<n.hypsE.length?a.get(n.hypsE,o).expr:n.frame.asrt,n.subs,(function(r){var e=c.indexOf(r);if(-1!==e)return a.get(d,e);var t=s.contents;return s.contents=s.contents+1|0,c.push(r),d.push(t),l.push(a.get(n.frame.varTypes,r)),t}));for(var p=c.length-1|0,h=0;h<=p;++h){var m=a.get(c,h),g=a.get(d,h),_=a.get(l,h);a.set(n.subs.exprs,m,[g]),a.set(n.subs.begins,m,0),a.set(n.subs.ends,m,0),a.set(n.subs.isDefined,m,!0),r.newVars.push(g),r.newVarTypes.push(_)}var E=e||0===r.newVars.length?t._1(i,void 0):0;return f.forEach((function(r,e){a.set(n.subs.isDefined,e,r)})),r.newVars.splice(u),r.newVarTypes.splice(u),E}function y(r,n,e,o,i,u,f,s,c,d){var l=function(r){return u.map((function(r){return r>=0?a.get(o,r):[]}))};if(f===u.length){var p={contents:!1},h=E(r,n,i,f,(function(r){return p.contents=!0,t._1(c,void 0)}));return s>=2&&!p.contents?t._1(d,{TAG:5,args:l(),errArgIdx:f}):h}if(a.get(u,f)>=0){var m={contents:!1},g=v.iterateSubstitutions(a.get(n.hypsE,f).expr,a.get(o,a.get(u,f)),a.get(n.frmConstParts,f),a.get(n.constParts,f),a.get(n.varGroups,f),n.subs,e,(function(t){return m.contents=!0,y(r,n,e,o,i,u,f+1|0,s,c,d)}));return s>=2&&!m.contents?t._1(d,{TAG:4,args:l(),errArgIdx:f}):g}var _={contents:!1},x=E(r,n,i,f,(function(t){return _.contents=!0,y(r,n,e,o,i,u,f+1|0,s,c,d)}));return s>=2&&!_.contents?t._1(d,{TAG:5,args:l(),errArgIdx:f}):x}n.applyAssertionResultEq=p,n.applyAssertionResultHash=h,n.ApplyAssertionResultHash=m,n.applyAssertions=function(r,n,e,o,i,d,p,h,g,E,x,b,k,A,w){var S=void 0!==i&&i,T=void 0===d||d,U=void 0===p||p,I=void 0!==E?E:function(r){return!0},N=void 0!==x&&x,M=void 0!==k?k:0,D=function(r){return void 0!==h?t._1(b,{newVars:[],newVarTypes:[],newDisj:u.disjMake(void 0),asrtLabel:r.frame.label,subs:v.subsClone(r.subs),err:{TAG:3,asrtExpr:r.frame.asrt,expr:h}}):0},G=o.length,P=c.size(n),C=l.progressTrackerMake(.01,void 0,A,void 0,void 0),R={contents:0},V={contents:0},O=s.make(16,m);c.forEach(n,(function(n,i){if(0===V.contents&&t._1(I,i.frame))if(f.getWithDefault(f.map(h,(function(r){return a.get(r,0)!==a.get(i.frame.asrt,0)})),!1))M>=2&&(V.contents=D(i));else{var c={contents:!1};V.contents=function(r,n,e,o){return void 0!==n?v.iterateSubstitutions(r.frame.asrt,n,a.get(r.frmConstParts,r.numOfHypsE),a.get(r.constParts,r.numOfHypsE),a.get(r.varGroups,r.numOfHypsE),r.subs,e,o):t._1(o,r.subs)}(i,h,g,(function(n){c.contents=!0;var f=i.numOfHypsE,d=[],l=[],p={maxVar:r,newVars:d,newVarTypes:l};return _(G,f,(function(r,n){if(-1===r)return!S&&T;if(S&&r!==n)return!1;var e=a.get(o,r),t=a.get(i.hypsE,n).expr;if(a.get(t,0)!==a.get(e,0))return!1;var u={contents:!1};return v.iterateSubstitutions(t,e,a.get(i.frmConstParts,n),a.get(i.constParts,n),a.get(i.varGroups,n),i.subs,g,(function(r){return u.contents=!0,1})),u.contents}),M,(function(n){return y(p,i,g,o,U,n,0,M,(function(n){var o=function(r,n,e,o,i,a){var f=u.disjMake(void 0),s=v.verifyDisjoints(r,n,(function(r,n){return r<=e&&n<=e?!!t._2(i,r,n)||!!o&&(u.disjAddPair(f,r,n),!0):(u.disjAddPair(f,r,n),!0)}),a);return void 0!==s?{TAG:1,_0:s}:{TAG:0,_0:f}}(i.frame.disj,i.subs,r,N,e,M);if(0!==o.TAG)return 0===M?0:t._1(b,{newVars:d.slice(),newVarTypes:l.slice(),newDisj:u.disjMake(void 0),asrtLabel:i.frame.label,subs:v.subsClone(i.subs),err:o._0});var a={newVars:d.slice(),newVarTypes:l.slice(),newDisj:o._0,asrtLabel:i.frame.label,subs:v.subsClone(i.subs),err:void 0};return s.has(O,a)?0:(s.add(O,a),t._1(b,a))}),(function(r){return t._1(b,{newVars:[],newVarTypes:[],newDisj:u.disjMake(void 0),asrtLabel:i.frame.label,subs:v.subsClone(i.subs),err:r})}))}),(function(r){return t._1(b,{newVars:[],newVarTypes:[],newDisj:u.disjMake(void 0),asrtLabel:i.frame.label,subs:v.subsClone(i.subs),err:r})}))})),M>=2&&!c.contents&&(V.contents=D(i))}R.contents=R.contents+1,l.progressTrackerSetCurrPct(C,R.contents/P)}))},n.iterateCombinations=_},3942:function(r,n,e){var t=e(1386),o=e(9232),i=e(6638),a=e(8371),u=e(2971),f=e(1748),s=e(1094),c=e(6517),v=e(303),d=e(7175),l=e(5082),p=e(7356),h=e(7659),m=e(1854),g=e(2275),_=e(8615),E=e(3506),y=e(4125);function x(r,n){var e=r.length;if(e!==n.length)return!1;for(var t=!0,o=0;t&&o<e;)t=f.get(r,o)===f.get(n,o),o=o+1|0;return t}function b(r,n){var e=r.length,t=n.length,o=E.intCmp(e,t);if(0!==o)return o;for(var i=0,a=0;a<e&&0===i;)i=E.intCmp(f.get(r,a),f.get(n,a)),a=a+1|0;return i}var k=i.MakeComparable({cmp:b}),A=i.MakeHashable({hash:E.hashArrInt,eq:x});function w(r,n,e){if(n!==e){var t=n<=e?n:e,o=n<=e?e:n,i=p.get(r,t);return void 0!==i?h.add(d.valFromOption(i),o):p.set(r,t,h.fromArray([o]))}}function S(r,n){var e=r.parent;if(void 0===e)return t._1(n,r);var o=S(e,n);return void 0!==o?d.some(d.valFromOption(o)):t._1(n,r)}function T(r,n){for(;;){var e=r,o=t._1(n,e);if(void 0!==o)return d.some(d.valFromOption(o));var i=e.parent;if(void 0===i)return;r=i}}function U(r,n){return T(r.contents,(function(r){var e=g.get(r.frames,n);if(void 0!==e)return c.isNone(e.proof)?4:5;var t=g.get(r.labelToHyp,n);if(void 0!==t)return 0===t.typ?2:3;var o=g.get(r.symToInt,n);return void 0!==o?o<0?0:1:void 0}))}function I(r,n){return c.getWithDefault(c.map(g.get(c.getExn(r.contents.root).symToInt,n),(function(r){return r<0})),!1)}function N(r,n){return c.getWithDefault(c.map(T(r.contents,(function(r){return g.get(r.symToInt,n)})),(function(r){return 0<=r})),!1)}function M(r,n){return c.isSome(T(r.contents,(function(r){return g.get(r.labelToHyp,n)})))}function D(r,n,e){var t=n<=e?n:e,o=n<=e?e:n,i=p.get(r,t);return void 0!==i&&h.has(d.valFromOption(i),o)}function G(r,n){p.forEach(r,(function(r,e){h.forEach(e,(function(e){t._2(n,r,e)}))}))}function P(r){var n=[];G(r,(function(r,e){n.push([r,e])}));for(var e=function(n,e){var t={contents:!0};return n.forEach((function(n){t.contents&&e.forEach((function(e){t.contents&&n!==e&&(t.contents=D(r,n,e))}))})),t.contents},t=function(r,e){n.splice(n.findIndex((function(r){return x(r,e)})),1),e.forEach((function(n){r.includes(n)||r.push(n)}))},o=function(r){for(var t,o=0,i=n.length-2|0;o<=i;++o)if(c.isNone(t))for(var a=o+1|0,u=n.length;a<u;++a)if(c.isNone(t)){var s=f.get(n,o),v=f.get(n,a);e(s,v)&&(t=[s,v])}return t},i=!0;i;){var a=o();void 0!==a?t(a[0],a[1]):i=!1}return n.forEach((function(r){r.sort(E.intCmp)})),n.sort(b)}function C(r,n){var e=n.expr,t=e.length,o=t>0?f.get(e,0):0,i=t>1?f.get(e,1):0,a=p.get(r.exprToHyp,t);if(void 0===a)return p.set(r.exprToHyp,t,p.fromArray([[o,p.fromArray([[i,[n]]])]]));var u=d.valFromOption(a),s=p.get(u,o);if(void 0===s)return p.set(u,o,p.fromArray([[i,[n]]]));var c=d.valFromOption(s),v=p.get(c,i);return void 0===v?p.set(c,i,[n]):void 0!==v.find((function(r){return x(r.expr,n.expr)}))?void 0:void v.push(n)}function R(r,n){return T(r.contents,(function(r){return g.get(r.frames,n)}))}function V(r,n){return S(r.contents,(function(r){return E.arrForEach(r.hyps,n)}))}function O(r,n){return T(r.contents,(function(r){return g.get(r.symToInt,n)}))}function j(r,n){var e=O(r,n);if(void 0!==e)return e;throw{RE_EXN_ID:a.MmException,_1:{msg:"The symbol '"+n+"' is not declared."},Error:new Error}}function z(r,n){return n.map((function(n){return j(r,n)}))}function W(r,n){return n<0?u.get(c.getExn(r.contents.root).consts,0|-n):T(r.contents,(function(r){return n<r.varsBaseIdx?void 0:f.get(r.vars,n-r.varsBaseIdx|0)}))}function F(r,n){var e=W(r,n);if(void 0!==e)return e;throw{RE_EXN_ID:a.MmException,_1:{msg:"Cannot convert "+String(n)+" to a symbol."},Error:new Error}}function B(r,n){return n.map((function(n){return F(r,n)})).join(" ")}function X(r,n,e){return e<0?F(r,e):f.get(n.frameVarToSymb,e)}function L(r,n){return T(r.contents,(function(r){return p.get(r.varTypes,n)}))}function q(r,n){var e=L(r,n);if(void 0!==e)return e;var t=W(r,n),o=void 0!==t?"'"+t+"'":String(n);throw{RE_EXN_ID:a.MmException,_1:{msg:"Cannot determine type of the variable "+o},Error:new Error}}function $(r,n,e,t){var o=void 0!==e&&e,i=h.make(16);return o||V(r,(function(r){1===r.typ&&r.expr.forEach((function(r){if(r>=0)return h.add(i,r)}))})),n.forEach((function(r){if(r>=0)return h.add(i,r)})),i}function H(r,n,e,t){var o=void 0!==e&&e,i=[];return V(r,(function(r){(1===r.typ&&!o||0===r.typ&&h.has(n,f.get(r.expr,1)))&&i.push(r)})),i}function K(r,n){return S(r.contents,(function(r){var e={contents:void 0};return g.forEach(r.frames,(function(r,o){c.isNone(e.contents)&&(e.contents=t._1(n,o))})),e.contents}))}function J(r){var n=r.parent;return void 0!==n?1+J(n)|0:0}function Q(r,n,e){var t=void 0!==n&&n,o=void 0!==r?r.contents:void 0,i={contents:{root:void 0,parent:o,consts:void 0!==o?[]:[""],varsBaseIdx:void 0!==o?o.varsBaseIdx+o.vars.length|0:0,vars:[],symToInt:g.make(0),disj:p.make(16),hyps:[],labelToHyp:g.make(4),exprToHyp:p.make(4),varTypes:p.make(4),lastComment:void 0,frames:g.make(1),debug:c.getWithDefault(c.map(o,(function(r){return r.debug})),t)}};return i.contents.root=void 0!==o?o.root:i.contents,i}function Y(r){r.contents=Q(r,void 0).contents}function Z(r){var n,e=r.contents.parent;if(void 0===e)throw{RE_EXN_ID:a.MmException,_1:{msg:"Cannot close the root context."},Error:new Error};g.forEach(r.contents.frames,(function(r,n){g.set(e.frames,r,n)})),n=e,r.contents=n}function rr(r,n,e){if(""===n.trim())throw{RE_EXN_ID:a.MmException,_1:{msg:"Cannot use an empty string as a name of "+e+"."},Error:new Error};var t=U(r,n);if(void 0!==t)switch(t){case 0:throw{RE_EXN_ID:a.MmException,_1:{msg:"An attempt to re-declare the constant '"+n+"' as "+e+"."},Error:new Error};case 1:throw{RE_EXN_ID:a.MmException,_1:{msg:"An attempt to re-declare the variable '"+n+"' as "+e+"."},Error:new Error};case 2:throw{RE_EXN_ID:a.MmException,_1:{msg:"An attempt to re-declare a floating label '"+n+"' as "+e+"."},Error:new Error};case 3:throw{RE_EXN_ID:a.MmException,_1:{msg:"An attempt to re-declare an essential label '"+n+"' as "+e+"."},Error:new Error};case 4:throw{RE_EXN_ID:a.MmException,_1:{msg:"An attempt to re-declare an axiom label '"+n+"' as "+e+"."},Error:new Error};case 5:throw{RE_EXN_ID:a.MmException,_1:{msg:"An attempt to re-declare a provable label '"+n+"' as "+e+"."},Error:new Error}}}function nr(r,n){if(n<0)return n;var e=p.get(r,n);if(void 0!==e)return e;throw{RE_EXN_ID:a.MmException,_1:{msg:"Cannot determine frame variable for the context variable "+String(n)+"."},Error:new Error}}function er(r,n){return n.map((function(n){return nr(r,n)}))}function tr(r,n){return s.fromArray(p.toArray(n).map((function(n){return[nr(r,n[0]),v.fromArray(er(r,h.toArray(n[1])))]})))}function or(r,n,e,t,o,i,u,s){var v=void 0!==i&&i,d=void 0!==u&&u;if(rr(r,n,void 0!==o?o:"a frame"),e.length<1)throw{RE_EXN_ID:a.MmException,_1:{msg:"Length of an assertion expression must be at least 1."},Error:new Error};if(!d&&!I(r,f.get(e,0)))throw{RE_EXN_ID:a.MmException,_1:{msg:"The first symbol in an assertion expression must be a constant."},Error:new Error};var l=e.find((function(n){return c.isNone(O(r,n))}));if(void 0!==l)throw{RE_EXN_ID:a.MmException,_1:{msg:"The symbol '"+l+"' must be either a constant or a variable."},Error:new Error};var m=e.map((function(n){return j(r,n)})),g=$(r,m,v),_=h.toArray(g),E=function(r,n){var e=p.make(16);return T(r.contents,(function(r){p.forEach(r.disj,(function(r,t){if(h.has(n,r))return h.forEach(t,(function(t){if(h.has(n,t))return w(e,r,t)}))}))})),e}(r,g),y=H(r,g,v),x=p.fromArray(_.map((function(r,n){return[r,n]})));return{disj:tr(x,E),hyps:y.map((function(r){return{typ:r.typ,label:r.label,expr:er(x,r.expr)}})),asrt:er(x,m),label:n,frameVarToSymb:_.map((function(n){return F(r,n)})),varTypes:_.map((function(n){return q(r,n)})),numOfVars:_.length,numOfArgs:y.length,descr:r.contents.lastComment,proof:t,dbg:r.contents.debug?{disj:P(E).map((function(n){return B(r,n)})),hyps:y.map((function(n){return B(r,n.expr)})),asrt:B(r,m)}:void 0}}function ir(r,n,e,t){g.set(r.contents.frames,n,or(r,n,e,t,c.isNone(t)?"an axiom":"a theorem",void 0,void 0))}function ar(r,n){switch(0|n.TAG){case 0:var e=n.text;return void(r.contents.lastComment=e);case 1:return void n.symbols.forEach((function(n){if(c.isSome(r.contents.parent))throw{RE_EXN_ID:a.MmException,_1:{msg:"An attempt to declare a constant '"+n+"' in an inner block."},Error:new Error};rr(r,n,"a constant");var e=r.contents;g.set(e.symToInt,n,0|-e.consts.length),e.consts.push(n)}));case 2:throw{RE_EXN_ID:a.MmException,_1:{msg:"Block statements are not accepted by applySingleStmt()."},Error:new Error};case 3:return void n.symbols.forEach((function(n){rr(r,n,"a variable");var e=r.contents;g.set(e.symToInt,n,e.varsBaseIdx+e.vars.length|0),e.vars.push(n)}));case 4:var t=n.vars,o=t.find((function(n){return!N(r,n)}));if(void 0!==o)throw{RE_EXN_ID:a.MmException,_1:{msg:"The symbol '"+o+"' is not a variable but it is used in a disjoint statement."},Error:new Error};for(var i=t.map((function(n){return j(r,n)})),u=i.length-1|0,s=0;s<=u;++s)for(var v=s+1|0;v<=u;++v)w(r.contents.disj,f.get(i,s),f.get(i,v));return;case 5:var d=n.label,l=n.expr;if(2!==l.length)throw{RE_EXN_ID:a.MmException,_1:{msg:"Length of a floating expression must be 2."},Error:new Error};rr(r,d,"a floating label");var h=f.get(l,0),m=f.get(l,1);if(!I(r,h))throw{RE_EXN_ID:a.MmException,_1:{msg:"The first symbol in the floating '"+h+"' must be a constant."},Error:new Error};if(!N(r,m))throw{RE_EXN_ID:a.MmException,_1:{msg:"The second symbol in the floating '"+m+"' must be a variable."},Error:new Error};var _=j(r,m);if(c.isSome(L(r,_)))throw{RE_EXN_ID:a.MmException,_1:{msg:"Cannot redefine typecode for the variable '"+m+"'"},Error:new Error};var E=j(r,h),y={typ:0,label:d,expr:[E,_]},x=r.contents;return x.hyps.push(y),g.set(x.labelToHyp,d,y),C(x,y),p.set(x.varTypes,_,E);case 6:var b=n.label,k=n.expr;if(k.length<1)throw{RE_EXN_ID:a.MmException,_1:{msg:"Length of an essential expression must be at least 1."},Error:new Error};if(!I(r,f.get(k,0)))throw{RE_EXN_ID:a.MmException,_1:{msg:"The first symbol in an essential expression must be a constant."},Error:new Error};var A={typ:1,label:b,expr:z(r,k)},S=r.contents;return S.hyps.push(A),g.set(S.labelToHyp,b,A),C(S,A);case 7:return ir(r,n.label,n.expr,void 0);case 8:return ir(r,n.label,n.expr,n.proof)}}function ur(r,n){return c.getWithDefault(p.get(r,n),n)}function fr(r,n){for(var e=n.length-1|0,t=0;t<=e;++t){var o=f.get(n,t);o<0&&f.set(n,t,ur(r,o))}}n.createContext=Q,n.applySingleStmt=ar,n.openChildContext=Y,n.closeChildContext=Z,n.resetToParentContext=function(r){var n,e=r.contents.parent;if(void 0===e)throw{RE_EXN_ID:a.MmException,_1:{msg:"Cannot reset the root context."},Error:new Error};n=e,r.contents=n},n.loadContext=function(r,n,e,o,i,u,f,s,c){var v=void 0!==e?e:"",l=void 0!==o?o:"",p=void 0!==u?u:-1,h=void 0!==f?f:function(r){},m=void 0!==s&&s,g={contents:0},_=y.progressTrackerMake(.1,void 0,h,void 0,void 0);return a.traverseAst(void 0!==n?n:Q(void 0,m),r,(function(r,n){void 0!==i&&t._2(i,r,n.stmt);var e=n.stmt;switch(0|e.TAG){case 2:return e.level>0&&Y(r),void(r.contents.lastComment=void 0);case 7:case 8:break;default:return}if(p>0&&(g.contents=g.contents+1,y.progressTrackerSetCurrPct(_,g.contents/p)),v===e.label)return d.some(void 0)}),(function(r,n){var e=n.stmt;2!==e.TAG&&ar(r,e)}),(function(r,n){var e=n.stmt;switch(0|e.TAG){case 2:return void(e.level>0&&Z(r));case 7:case 8:break;default:return}if(l===e.label)return d.some(void 0)}),void 0)[0]},n.isDebug=function(r){return r.contents.debug},n.isConst=I,n.isVar=N,n.isHyp=M,n.isAsrt=function(r,n){return c.isSome(T(r.contents,(function(r){return g.get(r.frames,n)})))},n.isDisj=function(r,n,e){return c.getWithDefault(T(r.contents,(function(r){if(D(r.disj,n,e))return!0})),!1)},n.getHypothesis=function(r,n){return T(r.contents,(function(r){return g.get(r.labelToHyp,n)}))},n.getHypByExpr=function(r,n){return T(r.contents,(function(r){var e=n.length,t=p.get(r.exprToHyp,e);if(void 0!==t){var o=e>0?f.get(n,0):0,i=p.get(d.valFromOption(t),o);if(void 0!==i){var a=e>1?f.get(n,1):0,u=p.get(d.valFromOption(i),a);return void 0!==u?d.undefined_to_opt(u.find((function(r){return x(r.expr,n)}))):void 0}}}))},n.getMandHyps=function(r,n){return H(r,$(r,n,void 0),void 0)},n.getAllHyps=function(r){var n=[];return V(r,(function(r){n.push(r)})),l.fromArray(n.map((function(r){return[r.label,r]})))},n.getAllFrames=function(r){var n=[];return T(r.contents,(function(r){g.forEach(r.frames,(function(r,e){n.push([r,e])}))})),l.fromArray(n)},n.getAllDisj=function(r){var n=p.make(16);return T(r.contents,(function(r){p.forEach(r.disj,(function(r,e){h.forEach(e,(function(e){w(n,r,e)}))}))})),n},n.getLocalDisj=function(r){var n=p.make(16);return p.forEach(r.contents.disj,(function(r,e){h.forEach(e,(function(e){w(n,r,e)}))})),n},n.getFrame=R,n.getFrameExn=function(r,n){var e=R(r,n);if(void 0!==e)return e;throw{RE_EXN_ID:a.MmException,_1:{msg:"Could not find a frame by the label '"+n+"'"},Error:new Error}},n.getLocalVars=function(r){return r.contents.vars.slice()},n.getLocalHyps=function(r){return r.contents.hyps.slice()},n.getNumOfVars=function(r){return r.contents.varsBaseIdx+r.contents.vars.length|0},n.forEachFrame=K,n.forEachHypothesisInDeclarationOrder=V,n.getNestingLevel=function(r){return J(r.contents)},n.findParentheses=function(r,n,e){for(var t=function(r,n,e){for(var t=!0,o=!1,i=!1,a=m.parenCntMake([n,e],!1,void 0),u=0,s=r.length,c=0;c<s&&t;){for(var v=f.get(r,c),d=v.length,l=0;l<d&&t;){var p=f.get(v,l);o||p!==n||(o=!0),i||p!==e||(i=!0),t=2!==(u=m.parenCntPut(a,p)),l=l+1|0}t=0===u,c=c+1|0}return!(!t||!o)&&i},i=function(r){var n=[];return K(r,(function(r){r.hyps.forEach((function(r){1!==r.typ||n.push(r.expr)})),n.push(r.asrt)})),n}(r),a=z(r,o.getSpaceSeparatedValuesAsArray('( ) [ ] { } [. ]. [_ ]_ <. >. <" "> << >> [s ]s (. ). (( ))').filter((function(n){return I(r,n)}))).concat(u.range(1,c.getExn(r.contents.root).consts.length-1|0).map((function(r){return 0|-r}))),s=a.length-2|0,v=y.progressTrackerMake(.01,void 0,n,void 0,void 0),d=[],l=0;l<=s;++l){var p=f.get(a,l),h=f.get(a,l+1|0);d.includes(p)||d.includes(h)||!t(i,p,h)||(d.push(p),d.push(h)),y.progressTrackerSetCurrPct(v,l/s)}return d},n.getTypeOfVar=L,n.getTypeOfVarExn=q,n.getTokenType=U,n.ctxSymToInt=O,n.ctxIntToSym=W,n.ctxSymToIntExn=j,n.ctxSymsToIntsExn=z,n.ctxStrToIntsExn=function(r,n){return z(r,o.getSpaceSeparatedValuesAsArray(n))},n.ctxIntToSymExn=F,n.ctxIntsToSymsExn=function(r,n){return n.map((function(n){return F(r,n)}))},n.ctxIntsToStrExn=B,n.frmIntToSymExn=X,n.frmIntsToStrExn=function(r,n,e){return e.map((function(e){return X(r,n,e)})).join(" ")},n.createFrame=or,n.moveConstsToBegin=function(r,n){var e=c.getExn(r.contents.root),t=h.fromArray(o.getSpaceSeparatedValuesAsArray(n).map((function(n){return O(r,n)})).filter((function(r){return c.mapWithDefault(r,!1,(function(r){return r<0}))})).map(c.getExn)),i=h.size(t),a={contents:-1},u=function(r){for(;h.has(t,a.contents);)a.contents=a.contents-1|0;var n=a.contents;return a.contents=a.contents-1|0,n},s=p.make(i);h.forEach(t,(function(r){if(!(r>=(0|-i))){var n=u();p.set(s,r,n),p.set(s,n,r);var t=f.get(e.consts,0|-r);f.set(e.consts,0|-r,f.get(e.consts,0|-n)),f.set(e.consts,0|-n,t),g.set(e.symToInt,f.get(e.consts,0|-r),r),g.set(e.symToInt,f.get(e.consts,0|-n),n)}})),V(r,(function(r){fr(s,r.expr)})),K(r,(function(r){r.hyps.forEach((function(r){fr(s,r.expr)})),fr(s,r.asrt),fr(s,r.varTypes)})),S(r.contents,(function(r){for(var n=r.vars.length-1|0,e=0;e<=n;++e){var t=r.varsBaseIdx+e|0,o=p.get(r.varTypes,t);void 0!==o&&p.set(r.varTypes,t,ur(s,o))}p.clear(r.exprToHyp),r.hyps.forEach((function(n){return C(r,n)}))}))},n.generateNewVarNames=function(r,n,e,t,o){for(var i=g.make(l.size(e)),a=function(r){return c.getWithDefault(g.get(i,r),0)},u=function(r){g.set(i,r,a(r)+1|0)},s=n.length-1|0,v=[],d=0;d<=s;++d){var p=F(r,f.get(n,d)),h=l.getWithDefault(e,p,p);u(h);for(var m={contents:h+String(a(h))};c.isSome(U(r,m.contents))||c.getWithDefault(c.map(t,function(r){return function(n){return _.has(n,r.contents)}}(m)),!1);)u(h),m.contents=h+String(a(h));v.push(m.contents)}return v},n.generateNewLabels=function(r,n,e,t,o,i){for(var a=void 0!==o&&o,u=function(n){return!!(c.getWithDefault(c.map(t,(function(r){return _.has(r,n)})),!1)||!a&&c.isSome(U(r,n)))||!!a&&M(r,n)},f=e-1|0,s=0,v=[],d=0;d<=f;++d){s=s+1|0;for(var l=n+String(s);u(l);)s=s+1|0,l=n+String(s);v.push(l)}return v},n.disjMake=function(r){return p.make(16)},n.disjAddPair=w,n.disjContains=D,n.disjToArr=P,n.disjForEachArr=function(r,n){P(r).forEach(t.__1(n))},n.disjForEach=G,n.disjIsEmpty=function(r){return 0===p.size(r)},n.exprEq=x,n.ExprCmp=k,n.ExprHash=A},1854:function(r,n,e){var t=e(8371),o=e(1748),i=e(3506);n.parenCntMake=function(r,n,e){var i=void 0===n||n,a=r.length;if(a%2!=0)throw{RE_EXN_ID:t.MmException,_1:{msg:"mod(parenLen, 2)  != 0 in parenCntMake"},Error:new Error};if(0===a)return{min:0,parens:[],parentStack:[],failed:!1};for(var u=[],f=(a/2|0)-1|0,s=0;s<=f;++s){var c=o.get(r,s<<1),v=o.get(r,1+(s<<1)|0);u.push({code:c,isOpen:!0,opposite:v}),u.push({code:v,isOpen:!1,opposite:c})}var d=r.reduce((function(r,n){return r<=n?r:n}),o.get(r,0));return i&&Math.abs(d)!==a&&console.log("Warning: parentheses are not optimized (this may slow down the unification process)."),{min:d,parens:u,parentStack:[],failed:!1}},n.parenCntReset=function(r){i.clearArray(r.parentStack),r.failed=!1},n.parenCntPut=function(r,n){if(!r.failed&&r.min<=n&&n<0){var e=r.parens.find((function(r){return r.code===n}));if(void 0!==e)if(e.isOpen)r.parentStack.push(e);else{var t=r.parentStack.pop();void 0!==t&&t.opposite===e.code||(r.failed=!0)}}return r.failed?2:0===r.parentStack.length?0:1}},8371:function(r,n,e){var t=e(6517),o=e(7175),i=e(6181),a=e(3533),u=e(6640),f=e(4125),s=i.create("MM_parser.MmException");function c(r){return" "===r||"\t"===r||"\n"===r||"\r"===r}function v(r,n){var e=(n+20|0)<r.length?"...":"";return"'"+r.substr(n,20)+e+"'"}function d(r,n,e,t,o,i){return u.traverseTree(r,n,(function(r,n){var e=n.stmt;if(2===e.TAG)return e.statements}),e,t,o,void 0)}function l(r){return void 0!==r?0===r.TAG?r.labels.join(" "):"( "+r.labels.join(" ")+" ) "+r.compressedProofBlock:"?"}function p(r){var n=r.stmt;switch(0|n.TAG){case 0:return"$( "+n.text+" $)";case 1:return"$c "+n.symbols.join(" ")+" $.";case 2:return"block(level="+String(n.level)+")";case 3:return"$v "+n.symbols.join(" ")+" $.";case 4:return"$d "+n.vars.join(" ")+" $.";case 5:return n.label+" $f "+n.expr.join(" ")+" $.";case 6:return n.label+" $e "+n.expr.join(" ")+" $.";case 7:return n.label+" $a "+n.expr.join(" ")+" $.";case 8:return n.label+" $p "+n.expr.join(" ")+" $= "+l(n.proof)+" $."}}n.MmException=s,n.parseMmFile=function(r,n,e,i,u){var d=void 0!==n&&n,l=void 0!==e&&e,p=void 0!==i?i:function(r){},h=r.length,m={contents:0},g={contents:!1},_={contents:""},E=f.progressTrackerMake(.1,void 0,p,!0,void 0),y=[],x=function(n){m.contents=n,m.contents>=h?(g.contents=!0,_.contents=""):(g.contents=!1,_.contents=r.charAt(m.contents))};x(0);var b=function(n){if(!g.contents)return m.contents=m.contents+1|0,void(m.contents>=h?(g.contents=!0,_.contents=""):_.contents=r.charAt(m.contents))},k=function(n){var e=function(n){for(var e,i=m.contents;t.isNone(e);){var a=r.indexOf("$)",m.contents);if(a<0)e=o.some(void 0);else x(a+"$)".length|0),g.contents||c(_.contents)?e=o.some(r.substring(i,a)):x(a+1|0)}return t.getExn(e)}();if(void 0!==e)return{begin:n,end:m.contents-1|0,stmt:{TAG:0,text:e}};throw{RE_EXN_ID:s,_1:{msg:"A comment is not closed at "+v(r,n)},Error:new Error}},A=function(n,e){if(void 0===n||n){for(var t=A(!1,void 0);"$("===t;)k(m.contents),t=A(!1,void 0);return t}!function(r){for(;!g.contents&&c(_.contents);)b()}();for(var o=m.contents;!g.contents&&!c(_.contents);)b();return r.substring(o,m.contents)},w=function(r){for(var n,e=[];t.isNone(n);){var i=A(void 0,void 0);""===i?n=o.some(void 0):"$("===i?k(m.contents):i===r?n=o.some(e):e.push(i)}return t.getExn(n)},S=function(n){var e=w("$.");if(void 0!==e)return{begin:n,end:m.contents-1|0,stmt:{TAG:1,symbols:e}};throw{RE_EXN_ID:s,_1:{msg:"A constant statement is not closed at "+v(r,n)},Error:new Error}},T=function(n){var e=w("$.");if(void 0!==e)return{begin:n,end:m.contents-1|0,stmt:{TAG:3,symbols:e}};throw{RE_EXN_ID:s,_1:{msg:"A variable statement is not closed at "+v(r,n)},Error:new Error}},U=function(n){var e=w("$.");if(void 0!==e)return{begin:n,end:m.contents-1|0,stmt:{TAG:4,vars:e}};throw{RE_EXN_ID:s,_1:{msg:"A disjoint statement is not closed at "+v(r,n)},Error:new Error}},I=function(n,e){var t=w("$.");if(void 0!==t)return{begin:n,end:m.contents-1|0,stmt:{TAG:5,label:e,expr:t}};throw{RE_EXN_ID:s,_1:{msg:"A floating statement is not closed at "+v(r,n)},Error:new Error}},N=function(n,e){var t=w("$.");if(void 0!==t)return{begin:n,end:m.contents-1|0,stmt:{TAG:6,label:e,expr:t}};throw{RE_EXN_ID:s,_1:{msg:"An essential statement is not closed at "+v(r,n)},Error:new Error}},M=function(n,e){var t=w("$.");if(void 0!==t)return{begin:n,end:m.contents-1|0,stmt:{TAG:7,label:e,expr:t}};throw{RE_EXN_ID:s,_1:{msg:"An axiom statement is not closed at "+v(r,n)},Error:new Error}},D=function(n,e){var t=w("$=");if(void 0!==t){var o=A(void 0,void 0);if("("===o){var i=w(")");if(void 0!==i){var u=w("$.");if(void 0!==u)return{begin:n,end:m.contents-1|0,stmt:{TAG:8,label:e,expr:t,proof:l?void 0:{TAG:1,labels:i,compressedProofBlock:a.spliceObjApply("","concat",[u])}}};throw{RE_EXN_ID:s,_1:{msg:"A probale statement is not closed[3] at "+v(r,n)},Error:new Error}}throw{RE_EXN_ID:s,_1:{msg:"A provable statement is not closed[2] at "+v(r,n)},Error:new Error}}var f=w("$.");if(void 0!==f)return{begin:n,end:m.contents-1|0,stmt:{TAG:8,label:e,expr:t,proof:l?void 0:{TAG:0,labels:[o].concat(f)}}};throw{RE_EXN_ID:s,_1:{msg:"A provable statement is not closed[4] at "+v(r,n)},Error:new Error}}throw{RE_EXN_ID:s,_1:{msg:"A provable statement is not closed[1] at "+v(r,n)},Error:new Error}},G=function(n,e){for(var o,i=[];t.isNone(o);){var a=A(!1,void 0),u=m.contents-a.length|0;if(""===a){if(0!==e)throw{RE_EXN_ID:s,_1:{msg:"Unexpected end of a block. The block begins at "+v(r,n)+" and is not closed."},Error:new Error};o={begin:n,end:m.contents-1|0,stmt:{TAG:2,level:e,statements:i}}}else if("$}"===a)o={begin:n,end:m.contents-1|0,stmt:{TAG:2,level:e,statements:i}};else if("${"===a){var c=G(u,e+1|0);i.push(c)}else if("$("===a){var l=k(u);d||i.push(l)}else if("$c"===a){var p=S(u);i.push(p)}else if("$v"===a){var g=T(u);i.push(g)}else if("$d"===a){var _=U(u);i.push(_)}else{var x=A(void 0,void 0),b=m.contents-x.length|0;if(""===x)throw{RE_EXN_ID:s,_1:{msg:"Unexpected end of file at "+v(r,u)},Error:new Error};if("$f"===x){var w=I(u,a);i.push(w)}else if("$e"===x){var P=N(u,a);i.push(P)}else if("$a"===x){y.push(a);var C=M(u,a);i.push(C)}else{if("$p"!==x)throw{RE_EXN_ID:s,_1:{msg:"Unexpected token '"+x+"' at "+v(r,b)},Error:new Error};y.push(a);var R=D(u,a);i.push(R)}}f.progressTrackerSetCurrPct(E,u/h)}return t.getExn(o)};return[G(m.contents,0),y]},n.textAt=v,n.traverseAst=d,n.stmtToStr=p,n.stmtToStrRec=function(r){return d([{contents:0},[]],r,(function(r,n){var e=r[0],t=n.stmt;if(2===t.TAG){var o=t.level;0!==o&&r[1].push("    ".repeat(e.contents)+"${"),e.contents=o}}),(function(r,n){var e;""!==(e=2===n.stmt.TAG?"":p(n))&&r[1].push("    ".repeat(r[0].contents)+e)}),(function(r,n){var e=r[0],t=n.stmt;if(2===t.TAG){var o=t.level;e.contents=o-1|0,0!==o&&r[1].push("    ".repeat(e.contents)+"$}")}}))[0][1]},n.astToStr=function(r){var n=[];return d(void 0,r,(function(r,e){var t=e.stmt;2===t.TAG&&t.level>0&&n.push("${")}),(function(r,e){var t=e.stmt;switch(0|t.TAG){case 0:n.push("$( "+t.text+" $)");break;case 1:var o="$c "+t.symbols.join(" ")+" $.";n.push(o);break;case 2:break;case 3:var i="$v "+t.symbols.join(" ")+" $.";n.push(i);break;case 4:var a="$d "+t.vars.join(" ")+" $.";n.push(a);break;case 5:var u=t.label+" $f "+t.expr.join(" ")+" $.";n.push(u);break;case 6:var f=t.label+" $e "+t.expr.join(" ")+" $.";n.push(f);break;case 7:var s=t.label+" $a "+t.expr.join(" ")+" $.";n.push(s);break;case 8:var c=t.label+" $p "+t.expr.join(" ")+" $= "+l(t.proof)+" $.";n.push(c)}}),(function(r,e){var t=e.stmt;2===t.TAG&&t.level>0&&n.push("$}")})),n.join("\n")}},335:function(r,n,e){var t=e(1386),o=e(8371),i=e(1748),a=e(3942),u=e(6517),f=e(7175),s=e(2815),c=e(9775),v=e(5082),d=e(5650),l=e(2275);function p(r){if("number"==typeof r)return!0;switch(0|r.TAG){case 0:return!0;case 1:return r.args.every((function(r){return u.isSome(r.proof)}));case 2:return!1}}function h(r){var n=r.dbg;return void 0!==n?n.exprStr:r.expr.map((function(r){return String(r)})).join(" ")}function m(r){var n=r.fParents,e=void 0!==n?f.undefined_to_opt(n.find(p)):void 0;return u.isSome(e)?e:f.undefined_to_opt(r.eParents.find(p))}n.ptMake=function(r,n,e,t,o,i){var f=v.toArray(n);return{frms:r,hypsByExpr:s.fromArray(f.map((function(r){var n=r[1];return[n.expr,n]})),a.ExprHash),hypsByLabel:l.fromArray(f),ctxMaxVar:e,maxVar:e,newVars:c.make(16,a.ExprHash),disj:t,parenCnt:o,nodes:s.make(16,a.ExprHash),rootStmts:[],dbg:u.map(i,(function(r){return{newVars:[],disj:[],exprToStr:r}}))}},n.ptGetFrms=function(r){return r.frms},n.ptGetHypByExpr=function(r,n){return s.get(r.hypsByExpr,n)},n.ptGetHypByLabel=function(r,n){return l.get(r.hypsByLabel,n)},n.ptGetMaxVar=function(r){return r.maxVar},n.ptGetCtxMaxVar=function(r){return r.ctxMaxVar},n.ptGetParenCnt=function(r){return r.parenCnt},n.ptIsDisj=function(r,n,e){return a.disjContains(r.disj,n,e)},n.ptIsNewVarDef=function(r,n){return c.has(r.newVars,n)},n.ptGetRootStmts=function(r){return r.rootStmts},n.ptGetNode=function(r,n){var e=s.get(r.nodes,n);if(void 0!==e)return e;var o={expr:n,fParents:void 0,eParents:[],children:[],proof:void 0,isInvalidFloating:!1,dist:void 0,dbg:u.map(r.dbg,(function(r){return{exprStr:t._1(r.exprToStr,n)}}))};return s.set(r.nodes,n,o),o},n.ptAddNewVar=function(r,n){r.maxVar=r.maxVar+1|0;var e=r.maxVar;c.add(r.newVars,[n,e]);var o=r.dbg;return void 0!==o&&o.newVars.push(t._1(o.exprToStr,[n,e])),e},n.ptAddDisjPair=function(r,n,e){a.disjAddPair(r.disj,n,e);var o=r.dbg;void 0===o||o.disj.push(t._1(o.exprToStr,[n,e]))},n.ptAddRootStmt=function(r,n){return void 0!==r.rootStmts.find((function(r){return a.exprEq(r.expr,n.expr)}))?void 0:void r.rootStmts.push(n)},n.ptClearDists=function(r){s.forEach(r.nodes,(function(r,n){n.dist=void 0}))},n.ptGetDbg=function(r){return r.dbg},n.ptGetCopyOfNewVars=function(r){return c.toArray(r.newVars)},n.ptGetDisj=function(r){return r.disj},n.pnGetExpr=function(r){return r.expr},n.pnGetProof=function(r){return r.proof},n.pnGetFParents=function(r){return r.fParents},n.pnGetEParents=function(r){return r.eParents},n.pnAddParent=function(r,n,e){if(u.isNone(r.proof)){var t,f=!1;if(e)t=r.eParents;else{var s=r.fParents;if(void 0!==s)t=s;else{var c=[n];r.fParents=c,f=!0,t=c}}if(!f){var v=t.find((function(r){if("number"==typeof r)return"number"==typeof n;switch(0|r.TAG){case 0:return"number"!=typeof n&&0===n.TAG&&r.label===n.label;case 1:var e=r.args;if("number"==typeof n)return!1;if(1!==n.TAG)return!1;var t=n.args;return r.frame.label===n.frame.label&&e.length===t.length&&e.every((function(r,n){return a.exprEq(r.expr,i.get(t,n).expr)}));case 2:return!1}}));if(void 0!==v){if(p(v))throw{RE_EXN_ID:o.MmException,_1:{msg:"Unexpected: an unproved node '"+h(r)+"' has a proved parent."},Error:new Error}}else t.push(n),f=!0}if(f&&("number"!=typeof n&&1===n.TAG&&n.args.forEach((function(n){if(!a.exprEq(n.expr,r.expr))return void 0!==n.children.find((function(n){return a.exprEq(n.expr,r.expr)}))?void 0:void n.children.push(r)})),p(n))){if(!u.isNone(r.proof))return;var l=m(r);if(void 0===l)return;r.proof=l;for(var g=d.fromArray(r.children);!d.isEmpty(g);){var _=u.getExn(d.pop(g));if(u.isNone(_.proof)){var E=m(_);void 0!==E&&(_.proof=E,_.children.forEach((function(r){return d.add(g,r)})))}}}}},n.pnIsInvalidFloating=function(r){return r.isInvalidFloating},n.pnSetInvalidFloating=function(r){r.isInvalidFloating=!0},n.pnGetDist=function(r){return r.dist},n.pnSetDist=function(r,n){r.dist=n},n.pnGetDbg=function(r){return r.dbg}},3021:function(r,n,e){var t=e(8371),o=e(1748),i=e(3942),a=e(6517),u=e(2815),f=e(9775),s=e(335),c=e(6640),v=e(6601);function d(r,n){var e=function(r){var e=u.get(n,s.pnGetExpr(r));if(void 0!==e)return e;throw{RE_EXN_ID:t.MmException,_1:{msg:"exprSrcToDto: cannot get idx by expr."},Error:new Error}};if("number"==typeof r)return 0;switch(0|r.TAG){case 0:return{TAG:0,label:r.label};case 1:return{TAG:1,args:r.args.map(e),label:r.frame.label};case 2:return{TAG:2,args:r.args.map(e),label:r.frame.label,err:r.err}}}n.proofTreeToDto=function(r,n){var e=function(r,n){var e=v.make(void 0);n.forEach((function(n){v.push(e,s.ptGetNode(r,n))}));for(var t=f.make(100,i.ExprHash),o=u.make(100,i.ExprHash),c=function(r){"number"!=typeof r&&0!=(0|r.TAG)&&r.args.forEach((function(r){v.push(e,r)}))};!v.isEmpty(e);){var d=a.getExn(v.pop(e)),l=s.pnGetExpr(d);f.has(t,l)||(f.add(t,l),u.set(o,l,u.size(o)),s.pnGetEParents(d).forEach(c),a.forEach(s.pnGetProof(d),c))}return o}(r,n),t=new Array(u.size(e));return u.forEach(e,(function(n,i){o.set(t,i,function(r,n){return{expr:s.pnGetExpr(r),parents:s.pnGetEParents(r).map((function(r){return d(r,n)})),proof:a.map(s.pnGetProof(r),(function(r){return d(r,n)})),dbg:a.map(s.pnGetDbg(r),(function(r){return{exprStr:r.exprStr}}))}}(s.ptGetNode(r,n),e))})),{newVars:s.ptGetCopyOfNewVars(r),disj:s.ptGetDisj(r),nodes:t,dbg:a.map(s.ptGetDbg(r),(function(r){return{newVars:r.newVars,disj:r.disj}}))}},n.createProofTable=function(r,n){var e=u.make(64,i.ExprHash),f=[],s=function(r,n){if(a.isSome(u.get(e,r)))throw{RE_EXN_ID:t.MmException,_1:{msg:"getIdxByExpr(expr)->Belt_Option.isSome in createProofTable()."},Error:new Error};var o=f.push({expr:r,proof:n})-1|0;u.set(e,r,o)};return c.traverseTree(void 0,n,(function(n,e){var i=e.proof;if(void 0===i)throw{RE_EXN_ID:t.MmException,_1:{msg:"Cannot create proofTable from an unproved proofNodeDto [1]."},Error:new Error};if("number"==typeof i)throw{RE_EXN_ID:t.MmException,_1:{msg:"VarType is not supported in createProofTable [1]."},Error:new Error};switch(0|i.TAG){case 0:return;case 1:return i.args.map((function(n){return o.get(r.nodes,n)}));case 2:throw{RE_EXN_ID:t.MmException,_1:{msg:"AssertionWithErr is not supported in createProofTable [1]."},Error:new Error}}}),void 0,void 0,(function(n,i){var f=i.proof;if(void 0===f)throw{RE_EXN_ID:t.MmException,_1:{msg:"Cannot create proofTable from an unproved proofNodeDto [2]."},Error:new Error};if("number"==typeof f)throw{RE_EXN_ID:t.MmException,_1:{msg:"VarType is not supported in createProofTable [2]."},Error:new Error};switch(0|f.TAG){case 0:a.isNone(u.get(e,i.expr))&&s(i.expr,{TAG:0,label:f.label});break;case 1:a.isNone(u.get(e,i.expr))&&s(i.expr,{TAG:1,args:f.args.map((function(n){var i=o.get(r.nodes,n).expr,a=u.get(e,i);if(void 0!==a)return a;throw{RE_EXN_ID:t.MmException,_1:{msg:"Could not determine idx by expr in createProofTable()."},Error:new Error}})),label:f.label});break;case 2:throw{RE_EXN_ID:t.MmException,_1:{msg:"AssertionWithErr is not supported in createProofTable [2]."},Error:new Error}}}),void 0),f}},2694:function(r,n,e){var t=e(1386),o=e(8371),i=e(1748),a=e(3942),u=e(6517),f=e(7175),s=e(9775),c=e(8753),v=e(335),d=e(5082),l=e(519),p=e(5650),h=e(5981),m=e(3506),g=e(4125);function _(r,n){if(v.ptIsNewVarDef(r,n))return 0;var e=v.ptGetHypByExpr(r,n);return void 0!==e?{TAG:0,label:e.label}:void 0}function E(r,n,e){var t=n.length,a=[];return d.forEach(v.ptGetFrms(r),(function(f,s){var c=s.frame.asrt;i.get(c,0)!==i.get(n,0)||l.iterateSubstitutions(c,n,i.get(s.frmConstParts,s.numOfHypsE),i.get(s.constParts,s.numOfHypsE),i.get(s.varGroups,s.numOfHypsE),s.subs,v.ptGetParenCnt(r),(function(n){if(n.isDefined.every((function(r){return r}))&&u.isNone(l.verifyDisjoints(s.frame.disj,n,(function(n,e){return v.ptIsDisj(r,n,e)}),0))){for(var f=s.frame.hyps,c=f.length,d=new Array(c),p=!0,h=0,m=c-1|0;h<=m&&p;){var g,_=l.applySubs(i.get(f,h).expr,n,(function(r){throw{RE_EXN_ID:o.MmException,_1:{msg:"Work variables are not supported in findAsrtParentsWithoutNewVars()."},Error:new Error}}));switch(e){case 0:g=!0;break;case 1:g=_.length<=t;break;case 2:g=_.length<t}(p=g)&&i.set(d,h,v.ptGetNode(r,_)),h=h+1|0}p&&a.push({TAG:1,args:d,frame:s.frame})}return 0}))})),a}function y(r,n){if(u.isNone(v.pnGetProof(n))&&!v.pnIsInvalidFloating(n)){var e=p.make(void 0),t=s.make(16,a.ExprHash),o=function(r){return void 0!==v.pnGetProof(r)||s.has(t,v.pnGetExpr(r))?void 0:(s.add(t,v.pnGetExpr(r)),p.add(e,r))},i=function(r){"number"!=typeof r&&1===r.TAG&&r.args.forEach(o)};for(o(n);u.isNone(v.pnGetProof(n))&&!p.isEmpty(e);){var f=u.getExn(p.pop(e));if(u.isNone(v.pnGetProof(f))){var c=v.pnGetFParents(f);if(void 0!==c)c.forEach(i);else{var d=v.pnGetExpr(f),l=_(r,d);void 0!==l?v.pnAddParent(f,l,!1):E(r,d,1).forEach(function(r){return function(n){v.pnAddParent(r,n,!1),i(n)}}(f))}}}return u.isNone(v.pnGetProof(n))?v.pnSetInvalidFloating(n):void 0}}function x(r,n,e,f,s,p,m,g,_,E,x,b){var k=void 0!==_?_:0,A=[],w=u.isSome(E),S=u.getWithDefault(E,0),T=void 0!==s?function(r){return r.label===s}:function(r){return!0},U=v.ptGetMaxVar(r);c.applyAssertions(U,v.ptGetFrms(r),(function(n,e){return v.ptIsDisj(r,n,e)}),e,f,p,m,n,v.ptGetParenCnt(r),T,g,(function(r){A.push(r);var n=A.length;return void 0!==x&&n%100==0&&t._1(x,n),w&&n>=S?1:0}),k,void 0,void 0);var I=[];return A.forEach((function(n){var e,t=d.get(v.ptGetFrms(r),n.asrtLabel);if(void 0===t)throw{RE_EXN_ID:o.MmException,_1:{msg:"Cannot find an assertion with label "+n.asrtLabel+" in findAsrtParentsWithNewVars."},Error:new Error};e=t.frame;var f=n.err,s=0;if(void 0!==f&&"number"!=typeof f)switch(0|f.TAG){case 3:case 4:case 5:s=1;break;default:s=2}else s=2;switch(s){case 1:return 0!==k?void I.push({TAG:2,args:[],frame:e,err:u.getExn(n.err)}):void 0;case 2:var c=h.make(void 0);n.newVars.forEach((function(e,t){var o=i.get(n.newVarTypes,t),a=v.ptAddNewVar(r,o);h.set(c,e,a)})),a.disjForEach(n.newDisj,(function(n,e){v.ptAddDisjPair(r,h.getWithDefault(c,n,n),h.getWithDefault(c,e,e))}));for(var p,m=e.hyps.length,g=new Array(m),_=0,E=m-1|0;_<=E&&(u.isNone(p)||0!==k);){for(var x=l.applySubs(i.get(e.hyps,_).expr,n.subs,(function(r){throw{RE_EXN_ID:o.MmException,_1:{msg:"New work variables are not expected here [findAsrtParentsWithNewVars]."},Error:new Error}})),b=x.length-1|0,A=0;A<=b;++A){var w=i.get(x,A);if(w>U){var S,T=h.get(c,w);if(void 0===T)throw{RE_EXN_ID:o.MmException,_1:{msg:"Could not replace an applVar with a treeVar."},Error:new Error};S=T,i.set(x,A,S)}}var N=v.ptGetNode(r,x);i.set(g,_,N),0===i.get(e.hyps,_).typ&&u.isNone(n.err)&&u.isNone(p)&&(y(r,N),u.isNone(v.pnGetProof(N))&&(p=v.pnGetExpr(N))),_=_+1|0}var M=void 0!==n.err?n.err:u.map(p,(function(r){return{TAG:2,expr:r}}));return void 0!==M?0!==k?void I.push({TAG:2,args:g,frame:e,err:M}):void 0:void I.push({TAG:1,args:g,frame:e})}})),I}function b(r,n){return"number"!=typeof n&&1===n.TAG&&n.args.some((function(n){return a.exprEq(r,v.pnGetExpr(n))}))}function k(r,n,e,a,f,s){void 0!==a?function(r,n,e,a,f){(function(r,n,e,i,a){var f=p.make(void 0),s=String(i),c=g.progressTrackerMake(.01,void 0,(function(r){}),void 0,void 0);v.ptClearDists(r);var d=v.ptGetNode(r,n);v.pnSetDist(d,0),p.add(f,d);for(var l=0,h=1,m=0,E=u.map(a,(function(r,n){t._1(r,"Proving bottom-up: 0/"+s+" "+String(n))}));u.isNone(v.pnGetProof(d))&&!p.isEmpty(f);){var y=u.getExn(p.pop(f));if(u.isNone(v.pnGetProof(y))){var x,k=v.pnGetDist(y);if(void 0===k)throw{RE_EXN_ID:o.MmException,_1:{msg:"Encountered a node without dist."},Error:new Error};if(x=k,void 0!==a){if(l!==x){E=void 0,l=x;var A=String(x);c=g.progressTrackerMake(.01,void 0,function(r){return function(n){var e=String(0|Math.round(100*n));t._1(a,"Proving bottom-up: "+r+"/"+s+" "+e+"%")}}(A),void 0,void 0),h=p.size(f)+1|0,m=0}g.progressTrackerSetCurrPct(c,m/h),m=m+1|0}var w=v.pnGetExpr(y),S=_(r,w);if(void 0!==S)v.pnAddParent(y,S,!0);else{var T=x+1|0;T<=i&&t._3(e,w,x,E).forEach(function(r,n,e){return function(t){b(n,t)||(v.pnAddParent(r,t,!0),"number"!=typeof t&&1===t.TAG&&t.args.forEach((function(r){if(u.isNone(v.pnGetProof(r))&&u.isNone(v.pnGetDist(r)))return v.pnSetDist(r,e),p.add(f,r)})))}}(y,w,T))}}}})(r,n,(function(n,t,o){var u=x(r,n,0===t?e.args0:e.args1,!1,0===t?e.asrtLabel:void 0,e.allowNewStmts,0===t&&e.allowNewVars,e.allowNewDisjForExistingVars,a,e.maxNumberOfBranches,o);if(0===t)return u;var f=n.length;return u.filter((function(r){if("number"==typeof r)return!0;if(1!==r.TAG)return!0;for(var n=r.frame,t=r.args,o=!0,a=n.hyps.length-1|0,u=0;u<=a&&o;){var s=i.get(t,u);if(1===i.get(n.hyps,u).typ){var c;switch(e.lengthRestrict){case 0:c=!0;break;case 1:c=v.pnGetExpr(s).length<=f;break;case 2:c=v.pnGetExpr(s).length<f}o=c}u=u+1|0}return o}))}),e.maxSearchDepth,f),v.ptGetNode(r,n)}(r,n,a,f,s):void 0!==e?function(r,n,e){var t=function(t,o){return x(r,n,t,!0,e.label,!1,!1,!1,o,void 0,void 0)},o=v.ptGetNode(r,n);if(u.isNone(v.pnGetProof(o))){var i=function(r,n){var e=n.args.map((function(n){var e=v.ptGetRootStmts(r).find((function(r){return r.label===n}));if(void 0!==e)return e.expr;var t=v.ptGetHypByLabel(r,n);return void 0!==t?t.expr:void 0})).filter(u.isSome).map(u.getExn);if(e.length===n.args.length)return e}(r,e);void 0!==i&&(m.arrForEach(t(i,0),(function(r){return v.pnAddParent(o,r,!0),v.pnGetProof(o)})),u.isNone(v.pnGetProof(o))&&m.arrForEach(t(i,2),(function(r){return v.pnAddParent(o,r,!0),v.pnGetProof(o)})))}}(r,n,e):function(r,n){var e=v.ptGetNode(r,n);if(u.isNone(v.pnGetProof(e))){var t=x(r,n,v.ptGetRootStmts(r).map((function(r){return r.expr})),!1,void 0,!1,!1,!1,void 0,void 0,void 0);m.arrForEach(t,(function(r){return v.pnAddParent(e,r,!0),v.pnGetProof(e)}))}}(r,n)}function A(r,n,e){var t=a.getNumOfVars(r)-1|0,o=a.getAllHyps(r),i=v.ptMake(n,o,t,a.getAllDisj(r),e,function(r,n){if(a.isDebug(r)){var e=function(e){return e<=n?a.ctxIntToSymExn(r,e):"&"+String(e)};return function(r){return r.map(e).join(" ")}}}(r,t));return d.forEach(o,(function(r,n){if(1===n.typ){var e=v.ptGetNode(i,n.expr);v.pnAddParent(e,{TAG:0,label:r},!0),v.ptAddRootStmt(i,{isHyp:!0,label:r,expr:n.expr,jstf:void 0})}})),i}function w(r,n){var e=a.createContext(f.some(r),void 0,void 0);return n.forEach((function(n){if(n.isHyp)return a.applySingleStmt(e,{TAG:6,label:n.label,expr:a.ctxIntsToSymsExn(r,n.expr)})})),e}n.bottomUpProverParamsMake=function(r,n,e,t,o,i,a,u,f,s){return{asrtLabel:r,maxSearchDepth:void 0!==n?n:4,lengthRestrict:void 0!==e?e:2,allowNewDisjForExistingVars:void 0===t||t,allowNewStmts:void 0===o||o,allowNewVars:void 0===i||i,args0:void 0!==a?a:[],args1:void 0!==u?u:[],maxNumberOfBranches:f}},n.createProofCtx=w,n.proveFloatings=function(r,n,e,t,o){var i=A(r,n,t);return e.forEach((function(r){y(i,v.ptGetNode(i,r))})),i},n.unifyAll=function(r,n,e,o,i,a,f,s){var c=void 0!==a?a:0,d=g.progressTrackerMake(.01,void 0,u.map(f,(function(r,n){t._1(r,"Unifying all: "+String(0|Math.round(100*n))+"%")})),void 0,void 0),l=A(w(r,e),n,o),p=e.filter((function(r){return!r.isHyp})),h=p.length,m=h-1|0;return p.forEach((function(r,n){k(l,r.expr,r.jstf,n===m?i:void 0,c,n!==m||u.isNone(i)?void 0:f),v.ptAddRootStmt(l,r),g.progressTrackerSetCurrPct(d,(n+1|0)/h)})),l}},519:function(r,n,e){var t=e(1386),o=e(4923),i=e(2971),a=e(1748),u=e(3942),f=e(1094),s=e(6517),c=e(303),v=e(7175),d=e(5082),l=e(1854),p=e(8615),h=e(3506);function m(r,n,e){return r<0?a.get(a.get(n,0),0):r<(n.length-1|0)?(a.get(a.get(n,r+1|0),0)-a.get(a.get(n,r),1)|0)-1|0:(e-a.get(a.get(n,r),1)|0)-1|0}function g(r,n,e){return r<0?a.get(n.begins,0):r<(n.length-1|0)?(a.get(n.begins,r+1|0)-a.get(n.ends,r)|0)-1|0:(e-a.get(n.ends,r)|0)-1|0}function _(r){for(var n=[],e=0,t=r.length;e<t;++e){var o=n.length;a.get(r,e)<0?(0===o||a.get(a.get(n,o-1|0),1)>=0)&&n.push([e,-1]):o>0&&a.get(a.get(n,o-1|0),1)<0&&a.set(a.get(n,o-1|0),1,e-1|0)}var i=n.length,u=r.length;i>0&&a.get(a.get(n,i-1|0),1)<0&&a.set(a.get(n,i-1|0),1,u-1|0);for(var f=new Array(i),s=new Array(i),c=new Array(i),v={length:i,begins:f,ends:s,remainingMinLength:c},d=0,l=i-1|0;l>=0;--l)a.set(f,l,a.get(a.get(n,l),0)),a.set(s,l,a.get(a.get(n,l),1)),d=(d+(1+(a.get(s,l)-a.get(f,l)|0)|0)|0)+m(l,n,u)|0,a.set(c,l,d);return v}function E(r){return{length:r.length,begins:new Array(r.length),ends:new Array(r.length),remainingMinLength:[]}}function y(r,n,e,o,i,u,f){var c=function(t){return y(r,n,e,o,i+1|0,u,f)},v=n.length,d=r.length;if(v<d)return 0;if(i===e.length){if(!(e.length>0&&a.get(o.ends,i-1|0)!==(v-1|0)))return t._1(f,o);if(a.get(e.ends,i-1|0)===(d-1|0))return 0;var p=g(i-1|0,e,d);if(g(i-1|0,o,v)<p)return 0;l.parenCntReset(u);for(var h=0,m=a.get(o.ends,i-1|0)+1|0;m<v&&2!==h;)h=l.parenCntPut(u,a.get(n,m)),m=m+1|0;return 0===h?t._1(f,o):0}if(0===i&&0===a.get(e.begins,0)){if((v-1|0)<a.get(e.ends,0))return 0;for(var _,E=a.get(e.ends,0),x=0;s.isNone(_)&&x<=E;)a.get(r,x)!==a.get(n,x)&&(_=0),x=x+1|0;return void 0!==_?_:(a.set(o.begins,0,0),a.set(o.ends,0,E),c())}var b=0===i?0:a.get(o.ends,i-1|0)+1|0,k=v-a.get(e.remainingMinLength,i)|0;l.parenCntReset(u);for(var A=0,w=g(i-1|0,e,d),S=1;S<=w;++S)A=l.parenCntPut(u,a.get(n,b)),b=b+1|0;for(var T=1+(a.get(e.ends,i)-a.get(e.begins,i)|0)|0,U=0;b<=k&&2!==A&&0===U;){if(0===A){for(var I=0,N=!0;I<T&&N;)N=a.get(r,a.get(e.begins,i)+I|0)===a.get(n,b+I|0),I=I+1|0;I===T&&N&&(a.set(o.begins,i,b),a.set(o.ends,i,(b+T|0)-1|0),U=c(),l.parenCntReset(u))}A=l.parenCntPut(u,a.get(n,b)),b=b+1|0}return U}function x(r,n){var e=r.length;if(0===n.length)return[{leftConstPartIdx:-1,frmExpr:r,varsBeginIdx:0,numOfVars:e,exprBeginIdx:0,exprEndIdx:0}];var t=[];0!==a.get(n.begins,0)&&t.push({leftConstPartIdx:-1,frmExpr:r,varsBeginIdx:0,numOfVars:a.get(n.begins,0),exprBeginIdx:0,exprEndIdx:0});for(var o=0,i=n.length-2|0;o<=i;++o)t.push({leftConstPartIdx:o,frmExpr:r,varsBeginIdx:a.get(n.ends,o)+1|0,numOfVars:g(o,n,e),exprBeginIdx:0,exprEndIdx:0});var u=n.length-1|0;return a.get(n.ends,u)!==(e-1|0)&&t.push({leftConstPartIdx:u,frmExpr:r,varsBeginIdx:a.get(n.ends,u)+1|0,numOfVars:g(u,n,e),exprBeginIdx:0,exprEndIdx:0}),t}function b(r,n,e,o,i,u,f,s){var c=a.get(e,o),v=a.get(c.frmExpr,c.varsBeginIdx+i|0),d=(1+(c.exprEndIdx-u|0)|0)-((c.numOfVars-i|0)-1|0)|0,p=function(v){return i<(c.numOfVars-1|0)?b(r,n,e,o,i+1|0,u+v|0,f,s):o<(e.length-1|0)?b(r,n,e,o+1|0,0,a.get(e,o+1|0).exprBeginIdx,f,s):t._1(s,n)},h=0;if(a.get(n.isDefined,v)){var m=a.get(n.exprs,v),g=a.get(n.begins,v),_=1+(a.get(n.ends,v)-g|0)|0;if(_<=d&&(i<(c.numOfVars-1|0)||_===d)){for(var E=0;E<_&&a.get(m,g+E|0)===a.get(r,u+E|0);)E=E+1|0;E===_&&(h=p(_))}}else{if(a.set(n.isDefined,v,!0),a.set(n.exprs,v,r),a.set(n.begins,v,u),i===(c.numOfVars-1|0))a.set(n.ends,v,c.exprEndIdx),h=p(d);else{var y=1,x=u;l.parenCntReset(f);for(var k=0;y<=d&&0===h&&2!==k;)a.set(n.ends,v,x),0===(k=l.parenCntPut(f,a.get(r,x)))&&(h=p(y),l.parenCntReset(f)),y=y+1|0,x=x+1|0}a.set(n.isDefined,v,!1)}return h}function k(r,n,e,i,u,f,s,c){return 0===f.size?o.equal(r,n)?t._1(c,f):0:n.length<r.length?0:y(r,n,e,i,0,s,(function(r){return u.length>0?(function(r,n,e){var t=e.length;0===n.length?(a.get(r,0).exprBeginIdx=0,a.get(r,0).exprEndIdx=t-1|0):(r.forEach((function(r){-1===r.leftConstPartIdx?(r.exprBeginIdx=0,r.exprEndIdx=a.get(n.begins,0)-1|0):r.leftConstPartIdx===(n.length-1|0)?(r.exprBeginIdx=a.get(n.ends,r.leftConstPartIdx)+1|0,r.exprEndIdx=t-1|0):(r.exprBeginIdx=a.get(n.ends,r.leftConstPartIdx)+1|0,r.exprEndIdx=a.get(n.begins,r.leftConstPartIdx+1|0)-1|0)})),r.sort((function(r,n){return r.numOfVars<n.numOfVars?-1:r.numOfVars===n.numOfVars?0:1})))}(u,r,n),b(n,f,u,0,0,a.get(u,0).exprBeginIdx,s,c)):t._1(c,f)}))}function A(r){return{size:r,begins:i.make(r,0),ends:i.make(r,0),exprs:i.make(r,[]),isDefined:i.make(r,!1)}}function w(r){var n=r.hyps.filter((function(r){return 1===r.typ})),e=[],t=[],o=[];n.forEach((function(r){var n=_(r.expr),i=E(n),a=x(r.expr,n);e.push(n),t.push(i),o.push(a)}));var i=_(r.asrt),a=E(i),u=x(r.asrt,i);e.push(i),t.push(a),o.push(u);var f=A(r.numOfVars);return{frame:r,hypsE:n,numOfHypsE:n.length,frmConstParts:e,constParts:t,varGroups:o,subs:f}}n.subsClone=function(r){return{size:r.size,begins:r.begins.slice(),ends:r.ends.slice(),exprs:r.exprs.slice(),isDefined:r.isDefined.slice()}},n.subsEq=function(r,n){if(r.size!==n.size||!r.isDefined.every((function(r){return r}))||!n.isDefined.every((function(r){return r})))return!1;for(var e=!0,t=0;e&&t<r.size;){var o=a.get(r.exprs,t),i=a.get(r.begins,t),u=a.get(r.ends,t),f=1+(u-i|0)|0,s=a.get(n.exprs,t),c=a.get(n.begins,t);if(f===(1+(a.get(n.ends,t)-c|0)|0))for(var v=i,d=c;e&&v<=u;)e=a.get(o,v)===a.get(s,d),v=v+1|0,d=d+1|0;else e=!1;t=t+1|0}return e},n.subsHash=function(r){if(!r.isDefined.every((function(r){return r})))return 0;for(var n=0,e=0;e<r.size;)n=h.hash2(n,h.hashArrIntFromTo(a.get(r.exprs,e),a.get(r.begins,e),a.get(r.ends,e))),e=e+1|0;return n},n.createConstParts=_,n.createMatchingConstParts=E,n.createVarGroups=x,n.createSubs=A,n.prepareFrmSubsDataForFrame=w,n.prepareFrmSubsData=function(r,n,e){var t=void 0!==n?v.valFromOption(n):p.make(0),o=[];return u.forEachFrame(r,(function(r){p.has(t,r.label)||o.push(w(r))})),d.fromArray(o.map((function(r){return[r.frame.label,r]})))},n.iterateSubstitutions=k,n.applySubs=function(r,n,e){var o={contents:0};r.forEach((function(r){r<0||!a.get(n.isDefined,r)?o.contents=o.contents+1|0:o.contents=o.contents+(1+(a.get(n.ends,r)-a.get(n.begins,r)|0)|0)|0}));for(var i=new Array(o.contents),u=0,f=0;f<o.contents;){var s=a.get(r,u);if(s<0)a.set(i,f,s),f=f+1|0;else if(a.get(n.isDefined,s)){var c=a.get(n.exprs,s),v=1+(a.get(n.ends,s)-a.get(n.begins,s)|0)|0;h.copySubArray(c,a.get(n.begins,s),i,f,v),f=f+v|0}else a.set(i,f,t._1(e,s)),f=f+1|0;u=u+1|0}return i},n.verifyDisjoints=function(r,n,e,o){var i={contents:void 0};return f.forEach(r,(function(r,u){if(s.isNone(i.contents))return c.forEach(u,(function(u){if(s.isNone(i.contents))for(var f=a.get(n.exprs,r),c=a.get(n.begins,r),v=a.get(n.ends,r),d=a.get(n.exprs,u),l=a.get(n.begins,u),p=a.get(n.ends,u),h=c;h<=v;++h)if(s.isNone(i.contents)){var m=a.get(f,h);if(m>=0)for(var g=l;g<=p;++g)if(s.isNone(i.contents)){var _=a.get(d,g);_>=0&&(m===_?i.contents=0===o?0:{TAG:0,frmVar1:r,expr1:f.slice(c,v+1|0),frmVar2:u,expr2:d.slice(l,p+1|0),commonVar:m}:t._2(e,m,_)||(i.contents=0===o?0:{TAG:1,frmVar1:r,expr1:f.slice(c,v+1|0),var1:m,frmVar2:u,expr2:d.slice(l,p+1|0),var2:_}))}}}))})),i.contents},n.test_iterateConstParts=function(r,n,e,t){var o=function(r){return r.begins.map((function(n,e){return[n,a.get(r.ends,e)]}))},i=l.parenCntMake(u.ctxStrToIntsExn(r,t),void 0,void 0),f=_(n),s=E(f),c=[];return y(n,e,f,s,0,i,(function(r){return c.push(o(r)),0})),[o(f),c]},n.test_iterateSubstitutions=function(r,n,e,t){var o=l.parenCntMake(u.ctxStrToIntsExn(r,t),void 0,void 0),i=_(n),f=E(i),s=x(n,i),v=c.size(c.fromArray(n.filter((function(r){return r>=0})))),d=A(v),p=[];return k(n,e,i,f,s,d,o,(function(r){for(var n=[],e=0;e<v;++e)n.push(a.get(r.exprs,e).slice(a.get(r.begins,e),a.get(r.ends,e)+1|0));return p.push(n),0})),p}},9232:function(r,n,e){var t=e(1386),o=e(6517),i=e(7175);function a(r,n){var e=r.depVer;if(void 0!==e&&t._2(r.depVerEq,i.valFromOption(e),n))return r.data}function u(r,n){return r.split(n).map((function(r){return o.getWithDefault(r,"").trim()})).filter((function(r){return r.length>0}))}var f=/[\n\r]/,s=/[\s\n\r]/;n.currTimeStr=function(r){return new Date(Date.now()).toISOString()},n.cacheMake=function(r,n){return{recalc:r,depVerEq:n,depVer:void 0,data:void 0}},n.cacheGetByDepVer=a,n.cacheGet=function(r,n,e){var o=a(r,n);if(void 0!==o)return i.valFromOption(o);r.depVer=i.some(n);var u=t._1(r.recalc,e);return r.data=i.some(u),u},n.multilineTextToNonEmptyLines=function(r){return u(r,f)},n.getSpaceSeparatedValuesAsArray=function(r){return u(r,s)}},4125:function(r,n,e){var t=e(1386),o=e(8723);function i(r,n){return o.div(1e5*r|0,n)}function a(r,n,e,t,o){var a=void 0!==t&&t,u=1e5*r|0,f=i(void 0!==n?n:0,u);return{step:u,numOfSteps:f,lastSentNumOfSteps:f,onProgress:e,dontDecrease:a}}function u(r,n){var e=r.onProgress;if(void 0!==e){var o,a,u=i(n,r.step);return r.dontDecrease&&u>r.lastSentNumOfSteps||!r.dontDecrease&&u!==r.lastSentNumOfSteps?(t._1(e,(o=u,a=r.step,Math.imul(o,a)/1e5)),void(r.lastSentNumOfSteps=u)):void 0}}n.progressTrackerMake=a,n.progressTrackerSetCurrPct=u,n.progressTrackerIntMake=function(r,n,e,t,o,i){var u=void 0!==n?n:0;return{progressState:a(r,u/e,t,void 0!==o&&o),cnt:u,maxCnt:e,stepInt:Math.max(e*r/2|0,1)}},n.progressTrackerIntIncCnt=function(r){if(r.cnt=r.cnt+1|0,0===o.mod_(r.cnt,r.stepInt))return u(r.progressState,r.cnt/r.maxCnt)}},256:function(r,n,e){var t=e(1386),o=e(3942),i=e(6891),a="MM_wrk_FindParens";n.procName=a,n.beginFindParens=function(r,n,e){i.beginWorkerInteraction(a,{ctx:r},(function(r,o,i){if(0===r.TAG)return t._1(n,r.pct);t._1(i,void 0),t._1(e,r.parens)}),void 0,void 0,void 0,void 0)},n.processOnWorkerSide=function(r,n){var e=r.ctx;t._1(n,{TAG:1,parens:o.ctxIntsToStrExn(e,o.findParentheses(e,(function(r){t._1(n,{TAG:0,pct:r})}),void 0))})},n.reqToStr=function(r){return"FindParens"},n.respToStr=function(r){return 0===r.TAG?"FindParensProgress(pct="+String(r.pct)+")":'FindParensDone(parens="'+r.parens+'")'}},1618:function(r,n,e){var t=e(1386),o=e(2900),i=e(8371),a=e(1748),u=e(3942),f=e(6517),s=e(7175),c=e(6891),v=e(4518),d="MM_wrk_LoadCtx";n.procName=d,n.beginLoadingMmContext=function(r,n,e){c.beginWorkerInteraction(d,{scopes:r},(function(r,o,i){if(0===r.TAG)return t._1(n,r.pct);t._1(i,void 0),t._1(e,r.ctx)}),void 0,void 0,void 0,void 0)},n.processOnWorkerSide=function(r,n){var e=r.scopes,c=e.reduce((function(r,n){return r+n.expectedNumOfAssertions|0}),0),d=e.map((function(r){return r.expectedNumOfAssertions/c}));try{for(var l={contents:0},p=e.length,h=u.createContext(void 0,void 0,void 0);l.contents<p;){var m=a.get(e,l.contents),g=d.reduce((function(r,n,e){return e<l.contents?r+n:r}),0),_=a.get(d,l.contents);for(u.loadContext(a.get(e,l.contents).ast,s.some(h),m.stopBefore,m.stopAfter,void 0,m.expectedNumOfAssertions,function(r,e){return function(o){t._1(n,{TAG:0,pct:r+o*e})}}(g,_),void 0,void 0);0!==u.getNestingLevel(h);)u.closeChildContext(h);l.contents=l.contents+1|0}return t._1(n,{TAG:0,pct:1}),t._1(n,{TAG:1,ctx:{TAG:0,_0:h}})}catch(r){var E=v.internalToOCamlException(r);if(E.RE_EXN_ID===i.MmException)return t._1(n,{TAG:1,ctx:{TAG:1,_0:E._1.msg}});if(E.RE_EXN_ID===o.$$Error)return t._1(n,{TAG:1,ctx:{TAG:1,_0:f.getWithDefault(E._1.message,"Internal error.")}});throw E}},n.reqToStr=function(r){return"LoadMmContext"},n.respToStr=function(r){return 0===r.TAG?"MmContextLoadProgress(pct="+String(r.pct)+")":"MmContextLoaded"}},1317:function(r,n,e){var t=e(1386),o=e(8371),i=e(6891),a=e(4518),u="MM_wrk_ParseMmFile";n.procName=u,n.beginParsingMmFile=function(r,n,e){i.beginWorkerInteraction(u,{mmFileText:r},(function(r,o,i){if(0===r.TAG)return t._1(n,r.pct);t._1(i,void 0),t._1(e,r.parseResult)}),void 0,void 0,void 0,void 0)},n.processOnWorkerSide=function(r,n){try{var e=o.parseMmFile(r.mmFileText,!0,!0,(function(r){t._1(n,{TAG:0,pct:r})}),void 0);return t._1(n,{TAG:0,pct:1}),t._1(n,{TAG:1,parseResult:{TAG:0,_0:e}})}catch(r){var i=a.internalToOCamlException(r);if(i.RE_EXN_ID===o.MmException)return t._1(n,{TAG:1,parseResult:{TAG:1,_0:i._1.msg}});throw i}},n.reqToStr=function(r){return"ParseMmFile"},n.respToStr=function(r){return 0===r.TAG?"MmFileParseProgress(pct="+String(r.pct)+")":"MmFileParsed"}},2436:function(r,n,e){var t=e(1386),o=e(9232),i=e(6517);n.serialize=function(r){return r},n.deserialize=function(r){return r},n.logClientIsSendingRequest=function(r,n,e,a){var u=i.getWithDefault(i.map(a,(function(r){return t._1(r,e)})),"");console.log(o.currTimeStr(void 0)+" ["+String(r)+","+n+"] C~> "+u)},n.logClientReceivedResponse=function(r,n,e,a){var u=i.getWithDefault(i.map(a,(function(r){return t._1(r,e)})),"");console.log(o.currTimeStr(void 0)+" ["+String(r)+","+n+"] ->C "+u)},n.logWorkerIsSendingResponse=function(r,n,e,i){console.log(o.currTimeStr(void 0)+" ["+String(r)+","+n+"] W~> "+t._1(i,e))},n.logWorkerReceivedRequest=function(r,n,e,i){console.log(o.currTimeStr(void 0)+" ["+String(r)+","+n+"] ->W "+t._1(i,e))}},6891:function(r,n,e){var t=e(1386),o=e(1748),i=e(2436),a=e(6517),u=e(7175),f=e(6181),s=e(3506),c=f.create("MM_wrk_client.WorkerException"),v={contents:void 0},d={contents:0},l=[];n.beginWorkerInteraction=function(r,n,e,f,p,h,m){var g=void 0!==f&&f,_={contents:-1},E={contents:function(r){}};_.contents=function(r,n){var e=(d.contents=d.contents+1|0,d.contents-1|0);return l.push({id:e,callback:r,traceEnabled:n}),e}((function(n){var a=i.deserialize(n);g&&i.logClientReceivedResponse(_.contents,r,a,h),t._3(e,a,E.contents,(function(r){for(var n=_.contents,e=0;e<l.length;)o.get(l,e).id===n?l.splice(e,1):e=e+1|0}))}),g),E.contents=function(n){g&&i.logClientIsSendingRequest(_.contents,r,n,p);var e={clientId:_.contents,procName:r,body:i.serialize(n),traceEnabled:g};if(a.isNone(v.contents)){var o=new Worker("./webworker-main.js");o.onmessage=function(r){var n=r.data;s.arrForEach(l,(function(r){if(r.id===n.clientId)return t._1(r.callback,n.body),u.some(void 0)}))},v.contents=u.some(o)}var f=v.contents;if(void 0!==f)return u.valFromOption(f).postMessage(e);throw{RE_EXN_ID:c,_1:"Could not instantiate a webworker.",Error:new Error}},t._1(E.contents,n)},n.terminateWorker=function(r){var n=v.contents;if(void 0!==n)return u.valFromOption(n).terminate(),void(v.contents=void 0)}},5768:function(r,n,e){var t=e(1386),o=e(9232),i=e(8371),a=e(1748),u=e(3942),f=e(6517),s=e(7175),c=e(4518),v=/[\n\r]/;function d(r){var n=r.split(v).map((function(r){return f.getWithDefault(r,"").trim()})).filter((function(r){return r.length>0}));return 0===n.length?{TAG:0,_0:[]}:n.reduce((function(r,n){if(0!==r.TAG)return r;var e=r._0,t=function(r){var n=o.getSpaceSeparatedValuesAsArray(r);return 3!==n.length?{TAG:1,_0:"A line representing a variable definition should consist of exactly three parts separated with a whitespace."}:{TAG:0,_0:n}}(n);return 0!==t.TAG?{TAG:1,_0:t._0}:(e.push(t._0),{TAG:0,_0:e})}),{TAG:0,_0:[]})}n.prepareParenInts=function(r,n){for(var e=o.getSpaceSeparatedValuesAsArray(n),t=[],i=(e.length/2|0)-1|0,f=0;f<=i;++f){var s=a.get(e,f<<1),c=a.get(e,1+(f<<1)|0),v=u.ctxSymToInt(r,s);if(void 0!==v&&u.isConst(r,s)){var d=u.ctxSymToInt(r,c);void 0!==d&&u.isConst(r,c)&&(t.push(v),t.push(d))}}return t},n.textToVarDefs=d,n.createWrkCtx=function(r,n,e){var f=u.createContext(s.some(r),void 0,void 0),v=[function(r){var e=d(n);if(0!==e.TAG)return{varsErr:e._0,disjErr:void 0};try{return void e._0.forEach((function(r){u.applySingleStmt(f,{TAG:3,symbols:[a.get(r,2)]}),u.applySingleStmt(f,{TAG:5,label:a.get(r,0),expr:[a.get(r,1),a.get(r,2)]})}))}catch(r){var t=c.internalToOCamlException(r);if(t.RE_EXN_ID===i.MmException)return{varsErr:t._1.msg,disjErr:void 0};throw t}},function(r){try{return void o.multilineTextToNonEmptyLines(e).forEach((function(r){return u.applySingleStmt(f,{TAG:4,vars:r.split(",").map((function(r){return r.trim()}))})}))}catch(r){var n=c.internalToOCamlException(r);if(n.RE_EXN_ID===i.MmException)return{varsErr:void 0,disjErr:n._1.msg};throw n}}].reduce((function(r,n){return void 0!==r?r:t._1(n,void 0)}),void 0);return void 0!==v?{TAG:1,_0:v}:{TAG:0,_0:f}}},8887:function(r,n,e){var t=e(1386),o=e(9232),i=e(8371),a=e(7175),u=e(6891),f=e(1854),s=e(519),c=e(5768),v=e(8615),d="MM_wrk_ctx",l={contents:void 0},p=o.cacheMake((function(r){return r}),(function(r,n){return r===n})),h=o.cacheMake((function(r){return r}),(function(r,n){return r===n})),m=o.cacheMake((function(r){return s.prepareFrmSubsData(r[1],a.some(v.fromArray(r[0].asrtsToSkip)),void 0)}),(function(r,n){return r[0]===n[0]&&r[1]===n[1]})),g=o.cacheMake((function(r){return f.parenCntMake(c.prepareParenInts(r[1],r[0].parens),void 0,void 0)}),(function(r,n){return r[0]===n[0]&&r[1]===n[1]}));n.procName=d,n.beginWorkerInteractionUsingCtx=function(r,n,e,o,i,a,f,s,c,v,l){var p=void 0!==v&&v,h={TAG:0,settingsVer:r,preCtxVer:e,varsText:i,disjText:a};u.beginWorkerInteraction(d,h,(function(i,a,v){if("number"!=typeof i)return 0===i.TAG?i.settingsVer===r?(t._1(a,{TAG:1,settingsVer:r,settings:n}),t._1(a,h)):void 0:i.preCtxVer===e?(t._1(a,{TAG:2,preCtxVer:e,preCtx:o}),t._1(a,h)):void 0;t._1(v,void 0),u.beginWorkerInteraction(f,s,c,p,void 0,void 0,void 0)}),p,void 0,void 0,void 0)},n.getWrkCtxExn=function(r){var n=l.contents;if(void 0!==n)return n.wrkCtx;throw{RE_EXN_ID:i.MmException,_1:{msg:"wrkCtx is not created in the worker thread."},Error:new Error}},n.getWrkParenCntExn=function(r){var n=l.contents;if(void 0!==n)return n.wrkParenCnt;throw{RE_EXN_ID:i.MmException,_1:{msg:"wrkParenCnt is not created in the worker thread."},Error:new Error}},n.getWrkFrmsExn=function(r){var n=l.contents;if(void 0!==n)return n.wrkFrms;throw{RE_EXN_ID:i.MmException,_1:{msg:"wrkFrms is not created in the worker thread."},Error:new Error}},n.processOnWorkerSide=function(r,n){switch(0|r.TAG){case 0:l.contents=void 0;var e=function(r,n,e,t){var u=o.cacheGetByDepVer(p,r);if(void 0===u)return{TAG:1,_0:{TAG:0,settingsVer:r}};var f=o.cacheGetByDepVer(h,n);if(void 0===f)return{TAG:1,_0:{TAG:1,preCtxVer:n}};var s=a.valFromOption(f),v=c.createWrkCtx(s,e,t);if(0===v.TAG)return{TAG:0,_0:{wrkFrms:o.cacheGet(m,[r,n],[u,s]),wrkParenCnt:o.cacheGet(g,[r,n],[u,s]),wrkCtx:v._0}};throw{RE_EXN_ID:i.MmException,_1:{msg:"There was an error creating wrkCtx in the worker thread."},Error:new Error}}(r.settingsVer,r.preCtxVer,r.varsText,r.disjText);return 0!==e.TAG?t._1(n,e._0):(l.contents=e._0,t._1(n,0));case 1:return void o.cacheGet(p,r.settingsVer,r.settings);case 2:return void o.cacheGet(h,r.preCtxVer,r.preCtx)}},n.reqToStr=function(r){switch(0|r.TAG){case 0:return"PrepareWrkPrecalcData";case 1:return"SetSettings(settingsVer="+String(r.settingsVer)+")";case 2:return"SetPreCtx(preCtxVer="+String(r.preCtxVer)+")"}},n.respToStr=function(r){return"number"==typeof r?"Ok":0===r.TAG?"GetSettings(settingsVer="+String(r.settingsVer)+")":"GetPreCtx(preCtxVer="+String(r.preCtxVer)+")"}},3350:function(r,n,e){var t=e(1386),o=e(2971),i=e(1748),a=e(3942),u=e(1094),f=e(303),s=e(5082),c=e(8887),v=e(8465),d=e(4125),l="MM_wrk_search_asrt";function p(r,n){for(var e=n.length,t=r.asrt.length,o=0,a=0;o<e&&a<t;)(i.get(r.asrt,a)<0&&i.get(r.asrt,a)===i.get(n,o)||i.get(r.asrt,a)>=0&&i.get(r.varTypes,i.get(r.asrt,a))===i.get(n,o))&&(o=o+1|0),a=a+1|0;return o===e}function h(r,n,e,t,c,v,l){var h=d.progressTrackerMake(.01,void 0,v,void 0,void 0),m={contents:0},g=s.size(n),_=[];return s.forEach(n,(function(n,s){var v=s.frame;if(v.label.toLowerCase().includes(e)&&i.get(v.asrt,0)===t&&p(v,c)){var l=a.disjMake(void 0);u.forEach(v.disj,(function(r,n){f.forEach(n,(function(n){a.disjAddPair(l,r,n)}))}));var E=[];a.disjForEachArr(l,(function(n){E.push(a.frmIntsToStrExn(r,v,n))}));var y=[],x=[];v.hyps.forEach((function(n){if(1===n.typ){var e=n.label;x.push(e),y.push({label:e,expr:n.expr,exprStr:a.frmIntsToStrExn(r,v,n.expr),jstf:void 0,isProved:!1})}})),y.push({label:v.label,expr:v.asrt,exprStr:a.frmIntsToStrExn(r,v,v.asrt),jstf:{args:x,label:v.label},isProved:!1}),_.push({newVars:o.range(0,v.numOfVars-1|0),newVarTypes:v.varTypes,newDisj:l,newDisjStr:E,stmts:y})}m.contents=m.contents+1,d.progressTrackerSetCurrPct(h,m.contents/g)})),_}n.procName=l,n.doSearchAssertions=h,n.searchAssertions=function(r,n,e,o,i,a,u,f,s,d){return v.promise((function(v){c.beginWorkerInteractionUsingCtx(r,n,e,o,i,a,l,{label:u.toLowerCase(),typ:f,pattern:s},(function(r,n,e){if(0===r.TAG)return t._1(d,r._0);t._1(e,void 0),t._1(v,r.found)}),!1,void 0)}))},n.processOnWorkerSide=function(r,n){var e=h(c.getWrkCtxExn(void 0),c.getWrkFrmsExn(void 0),r.label,r.typ,r.pattern,(function(r){t._1(n,{TAG:0,_0:r})}));t._1(n,{TAG:1,found:e})},n.frameMatchesPattern=p,n.reqToStr=function(r){return'FindAssertions(label="'+r.label+'", typ='+String(r.typ)+", pattern=["+r.pattern.map((function(r){return String(r)})).join(", ")+"])"},n.respToStr=function(r){return 0===r.TAG?"OnProgress(pct="+String(r._0)+")":"SearchResult"}},2500:function(r,n,e){var t=e(1386),o=e(8371),i=e(1748),a=e(3942),u=e(2694),f=e(6517),s=e(7175),c=e(2815),v=e(9775),d=e(7356),l=e(8887),p=e(6640),h=e(3021),m=e(8615),g=e(8465),_="MM_wrk_unify";n.procName=_,n.unify=function(r,n,e,o,i,a,u,f,s,c){return g.promise((function(v){l.beginWorkerInteractionUsingCtx(r,n,e,o,i,a,_,{rootStmts:u,bottomUpProverParams:f,debugLevel:s},(function(r,n,e){if(0===r.TAG)return t._1(c,r._0);t._1(e,void 0),t._1(v,r._0)}),!1,void 0)}))},n.processOnWorkerSide=function(r,n){var e=r.rootStmts,o=u.unifyAll(l.getWrkCtxExn(void 0),l.getWrkFrmsExn(void 0),e,l.getWrkParenCntExn(void 0),r.bottomUpProverParams,r.debugLevel,(function(r){t._1(n,{TAG:0,_0:r})}),void 0);t._1(n,{TAG:1,_0:h.proofTreeToDto(o,e.map((function(r){return r.expr})))})},n.proofTreeDtoToNewStmtsDto=function(r,n,e,t,u,l){var h=d.fromArray(r.newVars.map((function(r){if(2!==r.length)throw{RE_EXN_ID:"Match_failure",_1:["MM_wrk_unify.res",347,53],Error:new Error};var n=r[0];return[r[1],n]}))),g=r.nodes.find((function(r){return a.exprEq(r.expr,n)}));if(void 0===g)throw{RE_EXN_ID:o.MmException,_1:{msg:"the proof tree DTO doesn't contain the node to prove."},Error:new Error};return g.parents.map((function(g){if("number"!=typeof g&&1===g.TAG){var _=g.args,E={contents:!1},y={contents:!1},x=[],b=[],k=a.disjMake(void 0),A=[],w=[],S={newVars:x,newVarTypes:b,newDisj:k,newDisjStr:A,stmts:w},T=c.toArray(u),U=c.fromArray(T,a.ExprHash),I=m.fromArray(l),N=function(r,n,t){var u=c.get(U,r);if(void 0!==u)return u;var f=a.getHypByExpr(e,r);if(void 0!==f)return f.label;if(t){var v=i.get(a.generateNewLabels(e,n,1,s.some(I),!0,void 0),0);return c.set(U,r,v),m.add(I,v),v}throw{RE_EXN_ID:o.MmException,_1:{msg:"Could not find a label for an expr."},Error:new Error}},M=d.make(8),D=m.make(8),G=a.getNumOfVars(e)-1|0,P=function(r){if(r<=G){var n=a.ctxIntToSym(e,r);if(void 0!==n)return n;throw{RE_EXN_ID:o.MmException,_1:{msg:"Cannot determine sym for an existing int in srcToNewStmts."},Error:new Error}}var t=d.get(M,r);if(void 0!==t)return t;throw{RE_EXN_ID:o.MmException,_1:{msg:"Cannot determine name of a new var in srcToNewStmts."},Error:new Error}},C=function(r){var n=a.getFrame(e,r);if(void 0!==n)return n;throw{RE_EXN_ID:o.MmException,_1:{msg:"Cannot get a frame by label '"+r+" in srcToNewStmts.'"},Error:new Error}},R=function(n,u,f,c){u.forEach((function(r){if(r>G&&!x.includes(r)){var n=d.get(h,r);if(void 0!==n){x.push(r),b.push(n);var u=i.get(a.generateNewVarNames(e,[n],t,s.some(D),void 0),0);return d.set(M,r,u),m.add(D,u),void N([n,r],"v",!0)}throw{RE_EXN_ID:o.MmException,_1:{msg:"Cannot determine type of a new var in srcToNewStmts."},Error:new Error}}}));var v,l=u.map(P).join(" ");if(void 0!==f&&"number"!=typeof f)switch(0|f.TAG){case 0:v=void 0;break;case 1:var p=f.label,g=f.args,_=[];C(p).hyps.forEach((function(n,e){1!==n.typ||_.push(N(i.get(r.nodes,i.get(g,e)).expr,"",!1))})),v={args:_,label:p};break;case 2:E.contents=!0,v=void 0}else v=void 0;w.push({label:n,expr:u,exprStr:l,jstf:v,isProved:c})},V=C(g.label),O=[];V.hyps.forEach((function(n,e){1!==n.typ||O.push(i.get(r.nodes,i.get(_,e)))}));var j=v.make(16,a.ExprHash),z=v.make(16,a.ExprHash);if(O.forEach((function(e){p.traverseTree(v.fromArray([n],a.ExprHash),e,(function(n,e){if(!v.has(j,e.expr)){v.add(j,e.expr);var t=e.proof;if(void 0!==t&&"number"!=typeof t)switch(0|t.TAG){case 0:return;case 1:var o=t.args,a=[];return C(t.label).hyps.forEach((function(n,e){1!==n.typ||a.push(i.get(r.nodes,i.get(o,e)))})),a;case 2:return void(E.contents=!0)}}}),(function(r,n){return E.contents||y.contents?s.some(void 0):v.has(r,n.expr)?(y.contents=!0,s.some(void 0)):void v.add(r,n.expr)}),void 0,(function(r,n){if(v.remove(r,n.expr),E.contents||y.contents)return s.some(void 0);if(!v.has(z,n.expr)){v.add(z,n.expr);var e=n.proof;if(void 0!==e){if("number"!=typeof e)switch(0|e.TAG){case 0:return;case 1:return void R(N(n.expr,"",!0),n.expr,n.proof,!0);case 2:return E.contents=!0,s.some(void 0)}}else R(N(n.expr,"",!0),n.expr,void 0,!1)}}),void 0)})),!E.contents&&!y.contents){R(N(n,"",!1),n,g,_.every((function(n){return f.isSome(i.get(r.nodes,n).proof)})));var W=function(r){return r<=G||x.includes(r)};return a.disjForEach(r.disj,(function(r,n){if(W(r)&&W(n)&&!a.isDisj(e,r,n))return a.disjAddPair(k,r,n)})),a.disjForEachArr(k,(function(r){A.push("$d "+r.map(P).join(" ")+" $.")})),S}}})).filter(f.isSome).map(f.getExn)},n.reqToStr=function(r){return"Unify(debugLevel="+String(r.debugLevel)+", bottomUpProverParams="+(void 0!==(n=r.bottomUpProverParams)?"{allowNewDisjForExistingVars="+(n.allowNewDisjForExistingVars?"true":"false")+"}":"None")+")";var n},n.respToStr=function(r){return 0===r.TAG?'OnProgress("'+r._0+'")':"Result"}},8594:function(r,n,e){var t=e(1386),o=e(2436),i=e(6517),a=e(2500),u=e(5082),f=e(1618),s=e(8887),c=e(256),v=e(1317),d=e(3350);function l(r,n,e,i,a){var u=o.deserialize(i.body);i.traceEnabled&&o.logWorkerReceivedRequest(i.clientId,i.procName,u,n),t._2(r,u,(function(r){i.traceEnabled&&o.logWorkerIsSendingResponse(i.clientId,i.procName,r,e),t._1(a,{clientId:i.clientId,body:o.serialize(r)})}))}var p=u.fromArray([[v.procName,function(r,n){return l(v.processOnWorkerSide,v.reqToStr,v.respToStr,r,n)}],[f.procName,function(r,n){return l(f.processOnWorkerSide,f.reqToStr,f.respToStr,r,n)}],[c.procName,function(r,n){return l(c.processOnWorkerSide,c.reqToStr,c.respToStr,r,n)}],[s.procName,function(r,n){return l(s.processOnWorkerSide,s.reqToStr,s.respToStr,r,n)}],[d.procName,function(r,n){return l(d.processOnWorkerSide,d.reqToStr,d.respToStr,r,n)}],[a.procName,function(r,n){return l(a.processOnWorkerSide,a.reqToStr,a.respToStr,r,n)}]]);n.U=function(r){i.forEach(u.get(p,r.procName),(function(n){t._2(n,r,(function(r){postMessage(r)}))}))}}},e={};r=function r(t){var o=e[t];if(void 0!==o)return o.exports;var i=e[t]={exports:{}};return n[t](i,i.exports,r),i.exports}(8594),onmessage=n=>{(0,r.U)(n.data)}}();